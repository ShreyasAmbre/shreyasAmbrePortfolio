var _x=Object.defineProperty,vx=Object.defineProperties,Ex=Object.getOwnPropertyDescriptors,rT=Object.getOwnPropertySymbols,Ix=Object.prototype.hasOwnProperty,wx=Object.prototype.propertyIsEnumerable,iT=(Je,Ie,B)=>Ie in Je?_x(Je,Ie,{enumerable:!0,configurable:!0,writable:!0,value:B}):Je[Ie]=B,sT=(Je,Ie)=>{for(var B in Ie||(Ie={}))Ix.call(Ie,B)&&iT(Je,B,Ie[B]);if(rT)for(var B of rT(Ie))wx.call(Ie,B)&&iT(Je,B,Ie[B]);return Je},oT=(Je,Ie)=>vx(Je,Ex(Ie));(self.webpackChunkshreyas_ambre_portfolio=self.webpackChunkshreyas_ambre_portfolio||[]).push([[179],{8255:Je=>{function Ie(B){return Promise.resolve().then(()=>{var S=new Error("Cannot find module '"+B+"'");throw S.code="MODULE_NOT_FOUND",S})}Ie.keys=()=>[],Ie.resolve=Ie,Ie.id=8255,Je.exports=Ie},8583:(Je,Ie,B)=>{"use strict";B.d(Ie,{mr:()=>Ve,ez:()=>Lo,K0:()=>_e,Do:()=>ft,V_:()=>K,Ye:()=>qe,S$:()=>Te,b0:()=>Le,lw:()=>oe,EM:()=>ai,JF:()=>Pi,PM:()=>yo,w_:()=>se,bD:()=>qn,q:()=>W,Mx:()=>$t,HT:()=>ae});var S=B(3018);let x=null;function W(){return x}function ae(M){x||(x=M)}class se{}const _e=new S.OlP("DocumentToken");let oe=(()=>{class M{historyGo(R){throw new Error("Not implemented")}}return M.\u0275fac=function(R){return new(R||M)},M.\u0275prov=(0,S.Yz7)({factory:ue,token:M,providedIn:"platform"}),M})();function ue(){return(0,S.LFG)(q)}const K=new S.OlP("Location Initialized");let q=(()=>{class M extends oe{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(R){const $=W().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",R,!1),()=>$.removeEventListener("popstate",R)}onHashChange(R){const $=W().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",R,!1),()=>$.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,$,ne){he()?this._history.pushState(R,$,ne):this.location.hash=ne}replaceState(R,$,ne){he()?this._history.replaceState(R,$,ne):this.location.hash=ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return M.\u0275fac=function(R){return new(R||M)(S.LFG(_e))},M.\u0275prov=(0,S.Yz7)({factory:de,token:M,providedIn:"platform"}),M})();function he(){return!!window.history.pushState}function de(){return new q((0,S.LFG)(_e))}function be(M,V){if(0==M.length)return V;if(0==V.length)return M;let R=0;return M.endsWith("/")&&R++,V.startsWith("/")&&R++,2==R?M+V.substring(1):1==R?M+V:M+"/"+V}function Pe(M){const V=M.match(/#|\?|$/),R=V&&V.index||M.length;return M.slice(0,R-("/"===M[R-1]?1:0))+M.slice(R)}function Ne(M){return M&&"?"!==M[0]?"?"+M:M}let Te=(()=>{class M{historyGo(R){throw new Error("Not implemented")}}return M.\u0275fac=function(R){return new(R||M)},M.\u0275prov=(0,S.Yz7)({factory:je,token:M,providedIn:"root"}),M})();function je(M){const V=(0,S.LFG)(_e).location;return new Le((0,S.LFG)(oe),V&&V.origin||"")}const Ve=new S.OlP("appBaseHref");let Le=(()=>{class M extends Te{constructor(R,$){if(super(),this._platformLocation=R,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return be(this._baseHref,R)}path(R=!1){const $=this._platformLocation.pathname+Ne(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&R?`${$}${ne}`:$}pushState(R,$,ne,ye){const Be=this.prepareExternalUrl(ne+Ne(ye));this._platformLocation.pushState(R,$,Be)}replaceState(R,$,ne,ye){const Be=this.prepareExternalUrl(ne+Ne(ye));this._platformLocation.replaceState(R,$,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var $,ne;null===(ne=($=this._platformLocation).historyGo)||void 0===ne||ne.call($,R)}}return M.\u0275fac=function(R){return new(R||M)(S.LFG(oe),S.LFG(Ve,8))},M.\u0275prov=S.Yz7({token:M,factory:M.\u0275fac}),M})(),ft=(()=>{class M extends Te{constructor(R,$){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(R){const $=be(this._baseHref,R);return $.length>0?"#"+$:$}pushState(R,$,ne,ye){let Be=this.prepareExternalUrl(ne+Ne(ye));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(R,$,Be)}replaceState(R,$,ne,ye){let Be=this.prepareExternalUrl(ne+Ne(ye));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(R,$,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var $,ne;null===(ne=($=this._platformLocation).historyGo)||void 0===ne||ne.call($,R)}}return M.\u0275fac=function(R){return new(R||M)(S.LFG(oe),S.LFG(Ve,8))},M.\u0275prov=S.Yz7({token:M,factory:M.\u0275fac}),M})(),qe=(()=>{class M{constructor(R,$){this._subject=new S.vpe,this._urlChangeListeners=[],this._platformStrategy=R;const ne=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=Pe(Bt(ne)),this._platformStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}path(R=!1){return this.normalize(this._platformStrategy.path(R))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(R,$=""){return this.path()==this.normalize(R+Ne($))}normalize(R){return M.stripTrailingSlash(function(M,V){return M&&V.startsWith(M)?V.substring(M.length):V}(this._baseHref,Bt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._platformStrategy.prepareExternalUrl(R)}go(R,$="",ne=null){this._platformStrategy.pushState(ne,"",R,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ne($)),ne)}replaceState(R,$="",ne=null){this._platformStrategy.replaceState(ne,"",R,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ne($)),ne)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(R=0){var $,ne;null===(ne=($=this._platformStrategy).historyGo)||void 0===ne||ne.call($,R)}onUrlChange(R){this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(R="",$){this._urlChangeListeners.forEach(ne=>ne(R,$))}subscribe(R,$,ne){return this._subject.subscribe({next:R,error:$,complete:ne})}}return M.\u0275fac=function(R){return new(R||M)(S.LFG(Te),S.LFG(oe))},M.normalizeQueryParams=Ne,M.joinWithSlash=be,M.stripTrailingSlash=Pe,M.\u0275prov=(0,S.Yz7)({factory:Xe,token:M,providedIn:"root"}),M})();function Xe(){return new qe((0,S.LFG)(Te),(0,S.LFG)(oe))}function Bt(M){return M.replace(/\/index.html$/,"")}var tt=(()=>((tt=tt||{})[tt.Zero=0]="Zero",tt[tt.One=1]="One",tt[tt.Two=2]="Two",tt[tt.Few=3]="Few",tt[tt.Many=4]="Many",tt[tt.Other=5]="Other",tt))();const Ln=S.kL8;class rr{}let kn=(()=>{class M extends rr{constructor(R){super(),this.locale=R}getPluralCategory(R,$){switch(Ln($||this.locale)(R)){case tt.Zero:return"zero";case tt.One:return"one";case tt.Two:return"two";case tt.Few:return"few";case tt.Many:return"many";default:return"other"}}}return M.\u0275fac=function(R){return new(R||M)(S.LFG(S.soG))},M.\u0275prov=S.Yz7({token:M,factory:M.\u0275fac}),M})();function $t(M,V){V=encodeURIComponent(V);for(const R of M.split(";")){const $=R.indexOf("="),[ne,ye]=-1==$?[R,""]:[R.slice(0,$),R.slice($+1)];if(ne.trim()===V)return decodeURIComponent(ye)}return null}let Lo=(()=>{class M{}return M.\u0275fac=function(R){return new(R||M)},M.\u0275mod=S.oAB({type:M}),M.\u0275inj=S.cJS({providers:[{provide:rr,useClass:kn}]}),M})();const qn="browser";function yo(M){return"server"===M}let ai=(()=>{class M{}return M.\u0275prov=(0,S.Yz7)({token:M,providedIn:"root",factory:()=>new oa((0,S.LFG)(_e),window)}),M})();class oa{constructor(V,R){this.document=V,this.window=R,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const R=function(M,V){const R=M.getElementById(V)||M.getElementsByName(V)[0];if(R)return R;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const $=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ne=$.currentNode;for(;ne;){const ye=ne.shadowRoot;if(ye){const Be=ye.getElementById(V)||ye.querySelector(`[name="${V}"]`);if(Be)return Be}ne=$.nextNode()}}return null}(this.document,V);R&&(this.scrollToElement(R),this.attemptFocus(R))}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=V)}}scrollToElement(V){const R=V.getBoundingClientRect(),$=R.left+this.window.pageXOffset,ne=R.top+this.window.pageYOffset,ye=this.offset();this.window.scrollTo($-ye[0],ne-ye[1])}attemptFocus(V){return V.focus(),this.document.activeElement===V}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=Oi(this.window.history)||Oi(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch(V){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(V){return!1}}}function Oi(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Pi{}},3018:(Je,Ie,B)=>{"use strict";B.d(Ie,{deG:()=>Ch,tb:()=>gC,AFp:()=>hC,ip1:()=>mb,CZH:()=>Yg,hGG:()=>IA,z2F:()=>O_,sBO:()=>xw,Sil:()=>M_,_Vd:()=>El,EJc:()=>yC,SBq:()=>Cc,qLn:()=>Ra,vpe:()=>bl,gxx:()=>Oa,tBr:()=>uc,XFs:()=>_t,OlP:()=>hr,zs3:()=>Kr,ZZ4:()=>ph,aQg:()=>Pg,soG:()=>CE,YKP:()=>f_,v3s:()=>eA,h0i:()=>Il,PXZ:()=>qS,R0b:()=>wu,FiY:()=>fr,Lbi:()=>pC,g9A:()=>fC,Qsj:()=>Z0,FYo:()=>i_,JOm:()=>so,Tiy:()=>Pf,q3G:()=>Gr,tp0:()=>Ss,EAV:()=>iA,Rgc:()=>Uf,dDg:()=>IC,DyG:()=>Zn,q4F:()=>s_,GfV:()=>Y0,s_b:()=>Fg,ifc:()=>Gt,eFA:()=>TC,G48:()=>jS,X6Q:()=>bb,_c5:()=>pA,VLi:()=>BS,c2e:()=>mC,zSh:()=>Zd,wAp:()=>xt,vHH:()=>Le,EiD:()=>Ls,mCW:()=>ve,qzn:()=>Ta,JVY:()=>om,pB0:()=>xh,eBb:()=>am,L6k:()=>Td,LAX:()=>Ml,cg1:()=>fd,Tjo:()=>hA,kL8:()=>bf,yhl:()=>$u,dqk:()=>dt,sIi:()=>od,CqO:()=>gf,QGY:()=>Ey,F4k:()=>rg,RDi:()=>R,AaK:()=>de,z3N:()=>Ao,TTD:()=>Mi,xp6:()=>vm,uIk:()=>Qm,Suo:()=>GD,Xpm:()=>pt,lG2:()=>Is,Yz7:()=>Ot,cJS:()=>os,oAB:()=>tr,Yjl:()=>Yr,Y36:()=>hf,_UZ:()=>tg,qZA:()=>yy,TgZ:()=>pf,EpF:()=>ng,Ikx:()=>vg,LFG:()=>Qn,$8M:()=>hn,NdJ:()=>mf,CRH:()=>WD,Q6J:()=>my,DdM:()=>PD,iGM:()=>$D,MAs:()=>ld,CHM:()=>Su,LSH:()=>ou,kYT:()=>Lt,_uU:()=>HI,Gf:()=>HD});var S=B(9765),x=B(5319),W=B(7574),fe=B(6682),ae=B(2441);var oe=B(1307);function ue(){return new S.xQ}function q(t){for(let n in t)if(t[n]===q)return n;throw Error("Could not find renamed property on target object.")}function de(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(de).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Pe=q({__forward_ref__:q});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return de(this())},t}function Te(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(Pe)&&t.__forward_ref__===Ne}(t)?t():t}class Le extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function Xe(t){return"string"==typeof t?t:null==t?"":String(t)}function Yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}function tt(t,n){const s=n?` in ${n}`:"";throw new Le("201",`No provider for ${Yt(t)} found${s}`)}function Wn(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function os(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ln(t){return On(t,_n)||On(t,vs)}function On(t,n){return t.hasOwnProperty(n)?t[n]:null}function wn(t){return t&&(t.hasOwnProperty(xn)||t.hasOwnProperty(Es))?t[xn]:null}const _n=q({\u0275prov:q}),xn=q({\u0275inj:q}),vs=q({ngInjectableDef:q}),Es=q({ngInjectorDef:q});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let pi;function xi(t){const n=pi;return pi=t,n}function jn(t,n,s){const a=Ln(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&_t.Optional?null:void 0!==n?n:void tt(de(t),"Injector")}function Et(t){return{toString:t}.toString()}var gr=(()=>((gr=gr||{})[gr.OnPush=0]="OnPush",gr[gr.Default=1]="Default",gr))(),Gt=(()=>((Gt=Gt||{})[Gt.Emulated=0]="Emulated",Gt[Gt.None=2]="None",Gt[Gt.ShadowDom=3]="ShadowDom",Gt))();const mn="undefined"!=typeof globalThis&&globalThis,jt="undefined"!=typeof window&&window,Pn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dt=mn||"undefined"!=typeof global&&global||jt||Pn,ke={},ze=[],Tt=q({\u0275cmp:q}),Ut=q({\u0275dir:q}),an=q({\u0275pipe:q}),te=q({\u0275mod:q}),J=q({\u0275loc:q}),re=q({\u0275fac:q}),Se=q({__NG_ELEMENT_ID__:q});let Ee=0;function pt(t){return Et(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ze,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,id:"c",styles:t.styles||ze,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,l=t.features,p=t.pipes;return a.id+=Ee++,a.inputs=Rr(t.inputs,s),a.outputs=Rr(t.outputs),l&&l.forEach(y=>y(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(bn):null,a.pipeDefs=p?()=>("function"==typeof p?p():p).map(xr):null,a})}function bn(t){return Ct(t)||function(t){return t[Ut]||null}(t)}function xr(t){return function(t){return t[an]||null}(t)}const wr={};function tr(t){return Et(()=>{const n={type:t.type,bootstrap:t.bootstrap||ze,declarations:t.declarations||ze,imports:t.imports||ze,exports:t.exports||ze,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(wr[t.id]=t.type),n})}function Lt(t,n){return Et(()=>{const s=zn(t,!0);s.declarations=n.declarations||ze,s.imports=n.imports||ze,s.exports=n.exports||ze})}function Rr(t,n){if(null==t)return ke;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),s[c]=a,n&&(n[c]=l)}return s}const Is=pt;function Yr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ct(t){return t[Tt]||null}function zn(t,n){const s=t[te]||null;if(!s&&!0===n)throw new Error(`Type ${de(t)} does not have '\u0275mod' property.`);return s}function _i(t){return Array.isArray(t)&&"object"==typeof t[1]}function sr(t){return Array.isArray(t)&&!0===t[1]}function Zs(t){return 0!=(8&t.flags)}function Po(t){return 2==(2&t.flags)}function vi(t){return 1==(1&t.flags)}function Ri(t){return null!==t.template}function ko(t){return 0!=(512&t[2])}function ei(t,n){return t.hasOwnProperty(re)?t[re]:null}class Zi{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Mi(){return yo}function yo(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ur),sa}function sa(){const t=ai(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===ke)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Ur(t,n,s,a){const c=ai(t)||function(t,n){return t[Vo]=n}(t,{previous:ke,current:null}),l=c.current||(c.current={}),p=c.previous,y=this.declaredInputs[s],w=p[y];l[y]=new Zi(w&&w.currentValue,n,p===ke),t[a]=n}Mi.ngInherit=!0;const Vo="__ngSimpleChanges__";function ai(t){return t[Vo]||null}let V;function R(t){V=t}function ye(t){return!!t.listen}const lt={createRenderer:(t,n)=>void 0!==V?V:"undefined"!=typeof document?document:void 0};function yt(t){for(;Array.isArray(t);)t=t[0];return t}function sn(t,n){return yt(n[t.index])}function Yi(t,n){return t.data[n]}function Nn(t,n){const s=n[t];return _i(s)?s:s[0]}function ar(t){return 4==(4&t[2])}function Qi(t){return 128==(128&t[2])}function ki(t,n){return null==n?null:t[n]}function Ji(t){t[18]=0}function _o(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Pt={lFrame:da(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Js(){return Pt.bindingsEnabled}function Fe(){return Pt.lFrame.lView}function un(){return Pt.lFrame.tView}function Su(t){return Pt.lFrame.contextLView=t,t[8]}function Hn(){let t=Ha();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ha(){return Pt.lFrame.currentTNode}function es(t,n){const s=Pt.lFrame;s.currentTNode=t,s.isParent=n}function ca(){return Pt.lFrame.isParent}function yr(){return Pt.isInCheckNoChangesMode}function Yn(t){Pt.isInCheckNoChangesMode=t}function vo(){return Pt.lFrame.bindingIndex++}function Mc(t,n){const s=Pt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ga(n)}function Ga(t){Pt.lFrame.currentDirectiveIndex=t}function Ru(){return Pt.lFrame.currentQueryIndex}function Nu(t){Pt.lFrame.currentQueryIndex=t}function Wa(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Io(t,n,s){if(s&_t.SkipSelf){let c=n,l=t;for(;!(c=c.parent,null!==c||s&_t.Host||(c=Wa(l),null===c||(l=l[15],10&c.type))););if(null===c)return!1;n=c,t=l}const a=Pt.lFrame=Mu();return a.currentTNode=n,a.lView=t,!0}function Xs(t){const n=Mu(),s=t[1];Pt.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Mu(){const t=Pt.lFrame,n=null===t?null:t.child;return null===n?da(t):n}function da(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ha(){const t=Pt.lFrame;return Pt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Oc=ha;function fa(){const t=ha();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fi(){return Pt.lFrame.selectedIndex}function ts(t){Pt.lFrame.selectedIndex=t}function Un(){const t=Pt.lFrame;return Yi(t.tView,t.selectedIndex)}function ks(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const l=t.data[s].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:C,ngOnDestroy:k}=l;p&&(t.contentHooks||(t.contentHooks=[])).push(-s,p),y&&((t.contentHooks||(t.contentHooks=[])).push(s,y),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,y)),w&&(t.viewHooks||(t.viewHooks=[])).push(-s,w),C&&((t.viewHooks||(t.viewHooks=[])).push(s,C),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,C)),null!=k&&(t.destroyHooks||(t.destroyHooks=[])).push(s,k)}}function Ka(t,n,s){bo(t,n,3,s)}function Mr(t,n,s,a){(3&t[2])===s&&bo(t,n,s,a)}function Wo(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function bo(t,n,s,a){const l=null!=a?a:-1,p=n.length-1;let y=0;for(let w=void 0!==a?65535&t[18]:0;w<p;w++)if("number"==typeof n[w+1]){if(y=n[w],null!=a&&y>=a)break}else n[w]<0&&(t[18]+=65536),(y<l||-1==l)&&(br(t,s,n,w),t[18]=(4294901760&t[18])+w+2),w++}function br(t,n,s,a){const c=s[a]<0,l=s[a+1],y=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(y)}finally{}}}else try{l.call(y)}finally{}}class bs{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Lu(t,n,s){const a=ye(t);let c=0;for(;c<s.length;){const l=s[c];if("number"==typeof l){if(0!==l)break;c++;const p=s[c++],y=s[c++],w=s[c++];a?t.setAttribute(n,y,w,p):n.setAttributeNS(p,y,w)}else{const p=l,y=s[++c];Ya(p)?a&&t.setProperty(n,p,y):a?t.setAttribute(n,p,y):n.setAttribute(p,y),c++}}return c}function Vu(t){return 3===t||4===t||6===t}function Ya(t){return 64===t.charCodeAt(0)}function Fs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?s=c:0===s||nc(t,s,c,null,-1===s||2===s?n[++a]:null)}}return t}function nc(t,n,s,a,c){let l=0,p=t.length;if(-1===n)p=-1;else for(;l<t.length;){const y=t[l++];if("number"==typeof y){if(y===n){p=-1;break}if(y>n){p=l-1;break}}}for(;l<t.length;){const y=t[l];if("number"==typeof y)break;if(y===s){if(null===a)return void(null!==c&&(t[l+1]=c));if(a===t[l+1])return void(t[l+2]=c)}l++,null!==a&&l++,null!==c&&l++}-1!==p&&(t.splice(p,0,n),l=p+1),t.splice(l++,0,s),null!==a&&t.splice(l++,0,a),null!==c&&t.splice(l++,0,c)}function ns(t){return-1!==t}function Vi(t){return 32767&t}function ga(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let to=!0;function Qa(t){const n=to;return to=t,n}let Bu=0;function ya(t,n){const s=va(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,_a(a.data,t),_a(n,null),_a(a.blueprint,null));const c=Ea(t,n),l=t.injectorIndex;if(ns(c)){const p=Vi(c),y=ga(c,n),w=y[1].data;for(let C=0;C<8;C++)n[l+C]=y[p+C]|w[p+C]}return n[l+8]=c,l}function _a(t,n){t.push(0,0,0,0,0,0,0,0,n)}function va(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ea(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=n;for(;null!==c;){const l=c[1],p=l.type;if(a=2===p?l.declTNode:1===p?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Ds(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Se)&&(a=s[Se]),null==a&&(a=s[Se]=Bu++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function Xa(t,n,s){if(s&_t.Optional)return t;tt(n,"NodeInjector")}function Cs(t,n,s,a){if(s&_t.Optional&&void 0===a&&(a=null),0==(s&(_t.Self|_t.Host))){const c=t[9],l=xi(void 0);try{return c?c.get(n,a,s&_t.Optional):jn(n,a,s&_t.Optional)}finally{xi(l)}}return Xa(a,n,s)}function b(t,n,s,a=_t.Default,c){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Se)?t[Se]:void 0;return"number"==typeof n?n>=0?255&n:v:n}(s);if("function"==typeof l){if(!Io(n,t,a))return a&_t.Host?Xa(c,s,a):Cs(n,s,a,c);try{const p=l(a);if(null!=p||a&_t.Optional)return p;tt(s)}finally{Oc()}}else if("number"==typeof l){let p=null,y=va(t,n),w=-1,C=a&_t.Host?n[16][6]:null;for((-1===y||a&_t.SkipSelf)&&(w=-1===y?Ea(t,n):n[y+8],-1!==w&&Re(a,!1)?(p=n[1],y=Vi(w),n=ga(w,n)):y=-1);-1!==y;){const k=n[1];if(ie(l,y,k.data)){const H=T(y,n,s,p,a,C);if(H!==E)return H}w=n[y+8],-1!==w&&Re(a,n[1].data[y+8]===C)&&ie(l,y,n)?(p=k,y=Vi(w),n=ga(w,n)):y=-1}}}return Cs(n,s,a,c)}const E={};function v(){return new ot(Hn(),Fe())}function T(t,n,s,a,c,l){const p=n[1],y=p.data[t+8],k=P(y,p,s,null==a?Po(y)&&to:a!=p&&0!=(3&y.type),c&_t.Host&&l===y);return null!==k?j(n,p,k,y):E}function P(t,n,s,a,c){const l=t.providerIndexes,p=n.data,y=1048575&l,w=t.directiveStart,k=l>>20,z=c?y+k:t.directiveEnd;for(let ee=a?y:y+k;ee<z;ee++){const ce=p[ee];if(ee<w&&s===ce||ee>=w&&ce.type===s)return ee}if(c){const ee=p[w];if(ee&&Ri(ee)&&ee.type===s)return w}return null}function j(t,n,s,a){let c=t[s];const l=n.data;if(function(t){return t instanceof bs}(c)){const p=c;p.resolving&&function(t,n){throw new Le("200",`Circular dependency in DI detected for ${t}`)}(Yt(l[s]));const y=Qa(p.canSeeViewProviders);p.resolving=!0;const w=p.injectImpl?xi(p.injectImpl):null;Io(t,a,_t.Default);try{c=t[s]=p.factory(void 0,l,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:l}=n.type.prototype;if(a){const p=yo(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),l&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,l),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,l))}(s,l[s],n)}finally{null!==w&&xi(w),Qa(y),p.resolving=!1,Oc()}}return c}function ie(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Re(t,n){return!(t&_t.Self||t&_t.Host&&n)}class ot{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return b(this._tNode,this._lView,n,a,s)}}function hn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const l=s[c];if(Vu(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(l===n)return s[c+1];c+=2}}}return null}(Hn(),t)}const Ii="__parameters__";function jr(t,n,s){return Et(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(n);function c(...l){if(this instanceof c)return a.apply(this,l),this;const p=new c(...l);return y.annotation=p,y;function y(w,C,k){const H=w.hasOwnProperty(Ii)?w[Ii]:Object.defineProperty(w,Ii,{value:[]})[Ii];for(;H.length<=k;)H.push(null);return(H[k]=H[k]||[]).push(p),w}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class hr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ot({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ch=new hr("AnalyzeForEntryComponents"),Zn=Function;function ro(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),ro(a,n)):n!==t&&n.push(a)}return n}function To(t,n){t.forEach(s=>Array.isArray(s)?To(s,n):n(s))}function sc(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function wa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const St={},zt="__NG_DI_FLAG__",Vt="ngTempTokenPath",ni=/\n/gm,Yo="__source",Dr=q({provide:String,useValue:q});let Da;function Qo(t){const n=Da;return Da=t,n}function gs(t,n=_t.Default){if(void 0===Da)throw new Error("inject() must be called from an injection context");return null===Da?jn(t,void 0,n):Da.get(t,n&_t.Optional?null:void 0,n)}function Qn(t,n=_t.Default){return(pi||gs)(Te(t),n)}function ru(t){const n=[];for(let s=0;s<t.length;s++){const a=Te(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let c,l=_t.Default;for(let p=0;p<a.length;p++){const y=a[p],w=Zf(y);"number"==typeof w?-1===w?c=y.token:l|=w:c=y}n.push(Qn(c,l))}else n.push(Qn(a))}return n}function ac(t,n){return t[zt]=n,t.prototype[zt]=n,t}function Zf(t){return t[zt]}function Dd(t,n,s,a){const c=t[Vt];throw n[Yo]&&c.unshift(n[Yo]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=de(n);if(Array.isArray(n))c=n.map(de).join(" -> ");else if("object"==typeof n){let l=[];for(let p in n)if(n.hasOwnProperty(p)){let y=n[p];l.push(p+":"+("string"==typeof y?JSON.stringify(y):de(y)))}c=`{${l.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(ni,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Vt]=null,t}const uc=ac(jr("Inject",t=>({token:t})),-1),fr=ac(jr("Optional"),8),Ss=ac(jr("SkipSelf"),4);let Bc;function lc(t){var n;return(null===(n=function(){if(void 0===Bc&&(Bc=null,dt.trustedTypes))try{Bc=dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Bc}())||void 0===n?void 0:n.createHTML(t))||t}class Rt{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nl extends Rt{getTypeName(){return"HTML"}}class An extends Rt{getTypeName(){return"Style"}}class sm extends Rt{getTypeName(){return"Script"}}class $r extends Rt{getTypeName(){return"URL"}}class at extends Rt{getTypeName(){return"ResourceURL"}}function Ao(t){return t instanceof Rt?t.changingThisBreaksApplicationSecurity:t}function Ta(t,n){const s=$u(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function $u(t){return t instanceof Rt&&t.getTypeName()||null}function om(t){return new Nl(t)}function Td(t){return new An(t)}function am(t){return new sm(t)}function Ml(t){return new $r(t)}function xh(t){return new at(t)}class io{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(lc(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Nh{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=lc(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=lc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let c=s.length-1;0<c;c--){const p=s.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&n.removeAttribute(p)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Sd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ol=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ve(t){return(t=String(t)).match(Sd)||t.match(Ol)?t:"unsafe:"+t}function li(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function fc(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Hc=li("area,br,col,hr,img,wbr"),Sa=li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mh=li("rp,rt"),Oh=fc(Hc,fc(Sa,li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fc(Mh,li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fc(Mh,Sa)),Ph=li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rs=li("srcset"),iu=fc(Ph,rs,li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hr=li("script,style,template");class Ad{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Oh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Hr.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let c=0;c<a.length;c++){const l=a.item(c),p=l.name,y=p.toLowerCase();if(!iu.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=l.value;Ph[y]&&(w=ve(w)),rs[y]&&(t=w,w=(t=String(t)).split(",").map(n=>ve(n.trim())).join(", ")),this.buf.push(" ",p,'="',kl(w),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Oh.hasOwnProperty(s)&&!Hc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(kl(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const bi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jn=/([^\#-~ |!])/g;function kl(t){return t.replace(/&/g,"&amp;").replace(bi,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Jn,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let su;function Ls(t,n){let s=null;try{su=su||function(t){const n=new Nh(t);return function(){try{return!!(new window.DOMParser).parseFromString(lc(""),"text/html")}catch(t){return!1}}()?new io(n):n}(t);let a=n?String(n):"";s=su.getInertBodyElement(a);let c=5,l=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=l,l=s.innerHTML,s=su.getInertBodyElement(a)}while(a!==l);return lc((new Ad).sanitizeChildren(Fl(s)||s))}finally{if(s){const a=Fl(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Fl(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gr=(()=>((Gr=Gr||{})[Gr.NONE=0]="NONE",Gr[Gr.HTML=1]="HTML",Gr[Gr.STYLE=2]="STYLE",Gr[Gr.SCRIPT=3]="SCRIPT",Gr[Gr.URL=4]="URL",Gr[Gr.RESOURCE_URL=5]="RESOURCE_URL",Gr))();function ou(t){const n=function(){const t=Fe();return t&&t[12]}();return n?n.sanitize(Gr.URL,t)||"":Ta(t,"URL")?Ao(t):ve(Xe(t))}const Wc="__ngContext__";function Pr(t,n){t[Wc]=n}function uu(t){const n=function(t){return t[Wc]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function qc(t){return t.ngOriginalError}function Ti(t,...n){t.error(...n)}class Ra{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),c=(t=n)&&t.ngErrorLogger||Ti;var t;c(this._console,"ERROR",n),s&&c(this._console,"ORIGINAL ERROR",s),a&&c(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(qc(n)):null}_findOriginalError(n){let s=n&&qc(n);for(;s&&qc(s);)s=qc(s);return s||null}}const Lh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dt))();function Si(t){return t instanceof Function?t():t}var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();function zl(t,n){return undefined(t,n)}function m(t){const n=t[3];return sr(n)?n[3]:n}function _(t){return L(t[13])}function N(t){return L(t[4])}function L(t){for(;null!==t&&!sr(t);)t=t[4];return t}function pe(t,n,s,a,c){if(null!=a){let l,p=!1;sr(a)?l=a:_i(a)&&(p=!0,a=a[0]);const y=yt(a);0===t&&null!==s?null==c?kr(n,s,y):yc(n,s,y,c||null,!0):1===t&&null!==s?yc(n,s,y,c||null,!0):2===t?function(t,n,s){const a=jh(t,n);a&&function(t,n,s,a){ye(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,y,p):3===t&&n.destroyNode(y),null!=l&&function(t,n,s,a,c){const l=s[7];l!==yt(s)&&pe(n,t,a,l,c);for(let y=10;y<s.length;y++){const w=s[y];zr(w[1],w,t,n,a,l)}}(n,t,l,s,c)}}function bt(t,n,s){return ye(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function kd(t,n){const s=t[9],a=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,_o(c,-1)),s.splice(a,1)}function Xo(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&kd(c,a),n>0&&(t[s-1][4]=a[4]);const l=wa(t,10+n);!function(t,n){zr(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const p=l[19];null!==p&&p.detachView(l[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Fd(t,n){if(!(256&n[2])){const s=n[11];ye(s)&&s.destroyNode&&zr(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return du(t[1],t);for(;n;){let s=null;if(_i(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)_i(n)&&du(n[1],n),n=n[3];null===n&&(n=t),_i(n)&&du(n[1],n),s=n&&n[4]}n=s}}(n)}}function du(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=n[s[a]];if(!(c instanceof bs)){const l=s[a+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const y=c[l[p]],w=l[p+1];try{w.call(y)}finally{}}else try{l.call(c)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let c=-1;if(null!==s)for(let l=0;l<s.length-1;l+=2)if("string"==typeof s[l]){const p=s[l+1],y="function"==typeof p?p(n):yt(n[p]),w=a[c=s[l+2]],C=s[l+3];"boolean"==typeof C?y.removeEventListener(s[l],w,C):C>=0?a[c=C]():a[c=-C].unsubscribe(),l+=2}else{const p=a[c=s[l+1]];s[l].call(p)}if(null!==a){for(let l=c+1;l<a.length;l++)a[l]();n[7]=null}}(t,n),1===n[1].type&&ye(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&sr(n[3])){s!==n[3]&&kd(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Jc(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Gt.None||c===Gt.Emulated)return null}return sn(a,s)}(t,n.parent,s)}function yc(t,n,s,a,c){ye(t)?t.insertBefore(n,s,a,c):n.insertBefore(s,a,c)}function kr(t,n,s){ye(t)?t.appendChild(n,s):n.appendChild(s)}function Bh(t,n,s,a,c){null!==a?yc(t,n,s,a,c):kr(t,n,s)}function jh(t,n){return ye(t)?t.parentNode(n):n.parentNode}let dm=function(t,n,s){return 40&t.type?sn(t,s):null};function $h(t,n,s,a){const c=Jc(t,a,n),l=n[11],y=function(t,n,s){return dm(t,n,s)}(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(s))for(let w=0;w<s.length;w++)Bh(l,c,s[w],y,!1);else Bh(l,c,s,y,!1)}function Hh(t,n){if(null!==n){const s=n.type;if(3&s)return sn(n,t);if(4&s)return el(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Hh(t,a);{const c=t[n.index];return sr(c)?el(-1,c):yt(c)}}if(32&s)return zl(n,t)()||yt(t[n.index]);{const a=hm(t,n);return null!==a?Array.isArray(a)?a[0]:Hh(m(t[16]),a):Hh(t,n.next)}}return null}function hm(t,n){return null!==n?t[16][6].projection[n.projection]:null}function el(t,n){const s=10+t+1;if(s<n.length){const a=n[s],c=a[1].firstChild;if(null!==c)return Hh(a,c)}return n[7]}function fm(t,n,s,a,c,l,p){for(;null!=s;){const y=a[s.index],w=s.type;if(p&&0===n&&(y&&Pr(yt(y),a),s.flags|=4),64!=(64&s.flags))if(8&w)fm(t,n,s.child,a,c,l,!1),pe(n,t,c,y,l);else if(32&w){const C=zl(s,a);let k;for(;k=C();)pe(n,t,c,k,l);pe(n,t,c,y,l)}else 16&w?pm(t,n,a,s,c,l):pe(n,t,c,y,l);s=p?s.projectionNext:s.next}}function zr(t,n,s,a,c,l){fm(s,a,t.firstChild,n,c,l,!1)}function pm(t,n,s,a,c,l){const p=s[16],w=p[6].projection[a.projection];if(Array.isArray(w))for(let C=0;C<w.length;C++)pe(n,t,c,w[C],l);else fm(t,n,w,p[3],c,l,!0)}function H_(t,n,s){ye(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function js(t,n,s){ye(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function gm(t,n,s){let a=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const l=n.length;if(c+l===a||t.charCodeAt(c+l)<=32)return c}s=c+1}}const mm="ng-template";function qu(t,n,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==gm(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function ym(t){return 4===t.type&&t.value!==mm}function Gh(t,n,s){return n===(4!==t.type||s?t.value:mm)}function LE(t,n,s){let a=4;const c=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(Vu(t[n]))return n;return t.length}(c);let p=!1;for(let y=0;y<n.length;y++){const w=n[y];if("number"!=typeof w){if(!p)if(4&a){if(a=2|1&a,""!==w&&!Gh(t,w,s)||""===w&&1===n.length){if(hu(a))return!1;p=!0}}else{const C=8&a?w:n[++y];if(8&a&&null!==t.attrs){if(!qu(t.attrs,C,s)){if(hu(a))return!1;p=!0}continue}const H=cn(8&a?"class":w,c,ym(t),s);if(-1===H){if(hu(a))return!1;p=!0;continue}if(""!==C){let z;z=H>l?"":c[H+1].toLowerCase();const ee=8&a?z:null;if(ee&&-1!==gm(ee,C,0)||2&a&&C!==z){if(hu(a))return!1;p=!0}}}}else{if(!p&&!hu(a)&&!hu(w))return!1;if(p&&hu(w))continue;p=!1,a=w|1&a}}return hu(a)||p}function hu(t){return 0==(1&t)}function cn(t,n,s,a){if(null===n)return-1;let c=0;if(a||!s){let l=!1;for(;c<n.length;){const p=n[c];if(p===t)return c;if(3===p||6===p)l=!0;else{if(1===p||2===p){let y=n[++c];for(;"string"==typeof y;)y=n[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=l?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function G_(t,n,s=!1){for(let a=0;a<n.length;a++)if(LE(t,n[a],s))return!0;return!1}function _m(t,n){return t?":not("+n.trim()+")":n}function W_(t){let n=t[0],s=1,a=2,c="",l=!1;for(;s<t.length;){let p=t[s];if("string"==typeof p)if(2&a){const y=t[++s];c+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+p:4&a&&(c+=" "+p);else""!==c&&!hu(p)&&(n+=_m(l,c),c=""),a=p,l=l||!hu(a);s++}return""!==c&&(n+=_m(l,c)),n}const rn={};function vm(t){K_(un(),Fe(),Fi()+t,yr())}function K_(t,n,s,a){if(!a)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&Ka(n,l,s)}else{const l=t.preOrderHooks;null!==l&&Mr(n,l,0,s)}ts(s)}function J_(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],l=s[a+1];if(-1!==l){const p=t.data[l];Nu(c),p.contentQueries(2,n[l],l)}}}function Jh(t,n,s,a,c,l,p,y,w,C){const k=n.blueprint.slice();return k[0]=c,k[2]=140|a,Ji(k),k[3]=k[15]=t,k[8]=s,k[10]=p||t&&t[10],k[11]=y||t&&t[11],k[12]=w||t&&t[12]||null,k[9]=C||t&&t[9]||null,k[6]=l,k[16]=2==n.type?t[16]:k,k}function $d(t,n,s,a,c){let l=t.data[n];if(null===l)l=function(t,n,s,a,c){const l=Ha(),p=ca(),w=t.data[n]=function(t,n,s,a,c,l){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,s,n,a,c);return null===t.firstChild&&(t.firstChild=w),null!==l&&(p?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w)),w}(t,n,s,a,c),Pt.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=s,l.value=a,l.attrs=c;const p=function(){const t=Pt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return es(l,!0),l}function Hd(t,n,s,a){if(0===s)return-1;const c=n.length;for(let l=0;l<s;l++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Gd(t,n,s){Xs(n);try{const a=t.viewQuery;null!==a&&Op(1,a,s);const c=t.template;null!==c&&Tp(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&J_(t,n),t.staticViewQueries&&Op(2,t.viewQuery,s);const l=t.components;null!==l&&function(t,n){for(let s=0;s<n.length;s++)cv(t,n[s])}(n,l)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,fa()}}function Zl(t,n,s,a){const c=n[2];if(256==(256&c))return;Xs(n);const l=yr();try{Ji(n),function(t){Pt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Tp(t,n,s,2,a);const p=3==(3&c);if(!l)if(p){const C=t.preOrderCheckHooks;null!==C&&Ka(n,C,null)}else{const C=t.preOrderHooks;null!==C&&Mr(n,C,0,null),Wo(n,0)}if(function(t){for(let n=_(t);null!==n;n=N(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const c=s[a],l=c[3];0==(1024&c[2])&&_o(l,1),c[2]|=1024}}}(n),function(t){for(let n=_(t);null!==n;n=N(n))for(let s=10;s<n.length;s++){const a=n[s],c=a[1];Qi(a)&&Zl(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&J_(t,n),!l)if(p){const C=t.contentCheckHooks;null!==C&&Ka(n,C)}else{const C=t.contentHooks;null!==C&&Mr(n,C,1),Wo(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)ts(~c);else{const l=c,p=s[++a],y=s[++a];Mc(p,l),y(2,n[l])}}}finally{ts(-1)}}(t,n);const y=t.components;null!==y&&function(t,n){for(let s=0;s<n.length;s++)uv(t,n[s])}(n,y);const w=t.viewQuery;if(null!==w&&Op(2,w,a),!l)if(p){const C=t.viewCheckHooks;null!==C&&Ka(n,C)}else{const C=t.viewHooks;null!==C&&Mr(n,C,2),Wo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,_o(n[3],-1))}finally{fa()}}function QE(t,n,s,a){const c=n[10],l=!yr(),p=ar(n);try{l&&!p&&c.begin&&c.begin(),p&&Gd(t,n,a),Zl(t,n,s,a)}finally{l&&!p&&c.end&&c.end()}}function Tp(t,n,s,a,c){const l=Fi(),p=2&a;try{ts(-1),p&&n.length>20&&K_(t,n,20,yr()),s(a,c)}finally{ts(l)}}function Sp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=pu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function pu(t,n,s,a,c,l,p,y,w,C){const k=20+a,H=k+c,z=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:rn);return s}(k,H),ee="function"==typeof C?C():C;return z[1]={type:t,blueprint:z,template:s,queries:null,viewQuery:y,declTNode:n,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:ee,incompleteFirstPass:!1}}function rl(t,n,s,a){const c=dv(n);null===s?c.push(a):(c.push(s),t.firstCreatePass&&hv(t).push(a,c.length-1))}function il(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,c):s[a]=[n,c]}return s}function oo(t,n,s,a,c,l,p,y){const w=sn(n,s);let k,C=n.inputs;!y&&null!=C&&(k=C[a])?(of(t,s,k,a,c),Po(n)&&function(t,n){const s=Nn(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=p?p(c,n.value||"",a):c,ye(l)?l.setProperty(w,a,c):Ya(a)||(w.setProperty?w.setProperty(a,c):w[a]=c))}function sl(t,n,s,a,c,l){const p=l.hostBindings;if(p){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const w=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(y)!=w&&y.push(w),y.push(a,c,p)}}function iv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Wd(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Xl(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;Ri(n)&&(s[""]=t)}}function xm(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function sv(t,n,s,a,c){t.data[a]=c;const l=c.factory||(c.factory=ei(c.type)),p=new bs(l,Ri(c),null);t.blueprint[a]=p,s[a]=p,sl(t,n,0,a,Hd(t,s,c.hostVars,rn),c)}function iI(t,n,s){const a=sn(n,t),c=Sp(s),l=t[10],p=ed(t,Jh(t,c,null,s.onPush?64:16,a,n,l,l.createRenderer(a,s),null,null));t[n.index]=p}function Ma(t,n,s,a,c,l){const p=sn(t,n);!function(t,n,s,a,c,l,p){if(null==l)ye(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const y=null==p?Xe(l):p(l,a||"",c);ye(t)?t.setAttribute(n,c,y,s):s?n.setAttributeNS(s,c,y):n.setAttribute(c,y)}}(n[11],p,l,t.value,s,a,c)}function sI(t,n,s,a,c,l){const p=l[n];if(null!==p){const y=a.setInput;for(let w=0;w<p.length;){const C=p[w++],k=p[w++],H=p[w++];null!==y?a.setInput(s,H,C,k):s[k]=H}}}function ov(t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return s}function uv(t,n){const s=Nn(n,t);if(Qi(s)){const a=s[1];80&s[2]?Zl(a,s,a.template,s[8]):s[5]>0&&$s(s)}}function $s(t){for(let a=_(t);null!==a;a=N(a))for(let c=10;c<a.length;c++){const l=a[c];if(1024&l[2]){const p=l[1];Zl(p,l,p.template,l[8])}else l[5]>0&&$s(l)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Nn(s[a],t);Qi(c)&&c[5]>0&&$s(c)}}function cv(t,n){const s=Nn(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Gd(a,s,s[8])}function ed(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Np(t){for(;t;){t[2]|=64;const n=m(t);if(ko(t)&&!n)return t;t=n}return null}function Mp(t,n,s){const a=n[10];a.begin&&a.begin();try{Zl(t,n,t.template,s)}catch(c){throw pv(n,c),c}finally{a.end&&a.end()}}function ul(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=uu(s),c=a[1];QE(c,a,c.template,s)}}(t[8])}function Op(t,n,s){Nu(0),n(t,s)}const lv=(()=>Promise.resolve(null))();function dv(t){return t[7]||(t[7]=[])}function hv(t){return t.cleanup||(t.cleanup=[])}function pv(t,n){const s=t[9],a=s?s.get(Ra,null):null;a&&a.handleError(n)}function of(t,n,s,a,c){for(let l=0;l<s.length;){const p=s[l++],y=s[l++],w=n[p],C=t.data[p];null!==C.setInput?C.setInput(w,c,a,y):w[y]=c}}function Pp(t,n,s){let a=s?t.styles:null,c=s?t.classes:null,l=0;if(null!==n)for(let p=0;p<n.length;p++){const y=n[p];"number"==typeof y?l=y:1==l?c=be(c,y):2==l&&(a=be(a,y+": "+n[++p]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}const Oa=new hr("INJECTOR",-1);class qd{get(n,s=St){if(s===St){const a=new Error(`NullInjectorError: No provider for ${de(n)}!`);throw a.name="NullInjectorError",a}return s}}const Zd=new hr("Set Injector scope."),Yd={},cI={};let kp;function mv(){return void 0===kp&&(kp=new qd),kp}function Fp(t,n=null,s=null,a){return new ms(t,s,n||mv(),a)}class ms{constructor(n,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];s&&To(s,y=>this.processProvider(y,n,s)),To([n],y=>this.processInjectorType(y,[],l)),this.records.set(Oa,nd(void 0,this));const p=this.records.get(Zd);this.scope=null!=p?p.value:null,this.source=c||("object"==typeof n?null:de(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=St,a=_t.Default){this.assertNotDestroyed();const c=Qo(this),l=xi(void 0);try{if(!(a&_t.SkipSelf)){let y=this.records.get(n);if(void 0===y){const w=("function"==typeof(t=n)||"object"==typeof t&&t instanceof hr)&&Ln(n);y=w&&this.injectableDefInScope(w)?nd(Rm(n),Yd):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(a&_t.Self?mv():this.parent).get(n,s=a&_t.Optional&&s===St?null:s)}catch(p){if("NullInjectorError"===p.name){if((p[Vt]=p[Vt]||[]).unshift(de(n)),c)throw p;return Dd(p,n,"R3InjectorError",this.source)}throw p}finally{xi(l),Qo(c)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,c)=>n.push(de(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=Te(n)))return!1;let c=wn(n);const l=null==c&&n.ngModule||void 0,p=void 0===l?n:l,y=-1!==a.indexOf(p);if(void 0!==l&&(c=wn(l)),null==c)return!1;if(null!=c.imports&&!y){let k;a.push(p);try{To(c.imports,H=>{this.processInjectorType(H,s,a)&&(void 0===k&&(k=[]),k.push(H))})}finally{}if(void 0!==k)for(let H=0;H<k.length;H++){const{ngModule:z,providers:ee}=k[H];To(ee,ce=>this.processProvider(ce,z,ee||ze))}}this.injectorDefTypes.add(p);const w=ei(p)||(()=>new p);this.records.set(p,nd(w,Yd));const C=c.providers;if(null!=C&&!y){const k=n;To(C,H=>this.processProvider(H,k,C))}return void 0!==l&&void 0!==n.providers}processProvider(n,s,a){let c=rd(n=Te(n))?n:Te(n&&n.provide);const l=(t=n,_v(t)?nd(void 0,t.useValue):nd(function(t,n,s){let a;if(rd(t)){const c=Te(t);return ei(c)||Rm(c)}if(_v(t))a=()=>Te(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ru(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>Qn(Te(t.useExisting));else{const c=Te(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ei(c)||Rm(c);a=()=>new c(...ru(t.deps))}return a}(t),Yd));var t;if(rd(n)||!0!==n.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=nd(void 0,Yd,!0),p.factory=()=>ru(p.multi),this.records.set(c,p)),c=n,p.multi.push(n)}this.records.set(c,l)}hydrate(n,s){return s.value===Yd&&(s.value=cI,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Te(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Rm(t){const n=Ln(t),s=null!==n?n.factory:ei(t);if(null!==s)return s;if(t instanceof hr)throw new Error(`Token ${de(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=function(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${de(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[_n]||t[vs]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function nd(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function _v(t){return null!==t&&"object"==typeof t&&Dr in t}function rd(t){return"function"==typeof t}const Pm=function(t,n,s){return function(t,n=null,s=null,a){const c=Fp(t,n,s,a);return c._resolveInjectorDefTypes(),c}({name:s},n,t,s)};let Kr=(()=>{class t{static create(s,a){return Array.isArray(s)?Pm(s,a,""):Pm(s.providers,s.parent,s.name||"")}}return t.THROW_IF_NOT_FOUND=St,t.NULL=new qd,t.\u0275prov=Ot({token:t,providedIn:"any",factory:()=>Qn(Oa)}),t.__NG_ELEMENT_ID__=-1,t})();function Hm(t,n){ks(uu(t)[1],Hn())}let Xd=null;function No(){if(!Xd){const t=dt.Symbol;if(t&&t.iterator)Xd=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Xd=a)}}}return Xd}function od(t){return!!Ym(t)&&(Array.isArray(t)||!(t instanceof Map)&&No()in t)}function Ym(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ys(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Qm(t,n,s,a){const c=Fe();return ys(c,vo(),n)&&(un(),Ma(Un(),c,t,n,s,a)),Qm}function ld(t){return function(t,n){return t[n]}(Pt.lFrame.contextLView,20+t)}function hf(t,n=_t.Default){const s=Fe();return null===s?Qn(t,n):b(Hn(),s,Te(t),n)}function my(t,n,s){const a=Fe();return ys(a,vo(),n)&&oo(un(),Un(),a,t,n,a[11],s,!1),my}function ff(t,n,s,a,c){const p=c?"class":"style";of(t,s,n.inputs[p],p,a)}function pf(t,n,s,a){const c=Fe(),l=un(),p=20+t,y=c[11],w=c[p]=bt(y,n,Pt.lFrame.currentNamespace),C=l.firstCreatePass?function(t,n,s,a,c,l,p){const y=n.consts,C=$d(n,t,2,c,ki(y,l));return function(t,n,s,a){let c=!1;if(Js()){const l=function(t,n,s){const a=t.directiveRegistry;let c=null;if(a)for(let l=0;l<a.length;l++){const p=a[l];G_(s,p.selectors,!1)&&(c||(c=[]),Ds(ya(s,n),t,p.type),Ri(p)?(Wd(t,s),c.unshift(p)):c.push(p))}return c}(t,n,s),p=null===a?null:{"":-1};if(null!==l){c=!0,xm(s,t.data.length,l.length);for(let k=0;k<l.length;k++){const H=l[k];H.providersResolver&&H.providersResolver(H)}let y=!1,w=!1,C=Hd(t,n,l.length,null);for(let k=0;k<l.length;k++){const H=l[k];s.mergedAttrs=Fs(s.mergedAttrs,H.hostAttrs),sv(t,s,n,C,H),Xl(C,H,p),null!==H.contentQueries&&(s.flags|=8),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(s.flags|=128);const z=H.type.prototype;!y&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),y=!0),!w&&(z.ngOnChanges||z.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),w=!0),C++}!function(t,n){const a=n.directiveEnd,c=t.data,l=n.attrs,p=[];let y=null,w=null;for(let C=n.directiveStart;C<a;C++){const k=c[C],H=k.inputs,z=null===l||ym(n)?null:ov(H,l);p.push(z),y=il(H,C,y),w=il(k.outputs,C,w)}null!==y&&(y.hasOwnProperty("class")&&(n.flags|=16),y.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=p,n.inputs=y,n.outputs=w}(t,s)}p&&function(t,n,s){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const l=s[n[c+1]];if(null==l)throw new Le("301",`Export of name '${n[c+1]}' not found!`);a.push(n[c],l)}}}(s,a,p)}s.mergedAttrs=Fs(s.mergedAttrs,s.attrs)}(n,s,C,ki(y,p)),null!==C.attrs&&Pp(C,C.attrs,!1),null!==C.mergedAttrs&&Pp(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(p,l,c,0,n,s,a):l.data[p];es(C,!0);const k=C.mergedAttrs;null!==k&&Lu(y,w,k);const H=C.classes;null!==H&&js(y,w,H);const z=C.styles;null!==z&&H_(y,w,z),64!=(64&C.flags)&&$h(l,c,w,C),0===Pt.lFrame.elementDepthCount&&Pr(w,c),Pt.lFrame.elementDepthCount++,vi(C)&&(function(t,n,s){!Js()||(function(t,n,s,a){const c=s.directiveStart,l=s.directiveEnd;t.firstCreatePass||ya(s,n),Pr(a,n);const p=s.initialInputs;for(let y=c;y<l;y++){const w=t.data[y],C=Ri(w);C&&iI(n,s,w);const k=j(n,t,y,s);Pr(k,n),null!==p&&sI(0,y-c,k,w,0,p),C&&(Nn(s.index,n)[8]=k)}}(t,n,s,sn(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,c=s.directiveEnd,p=s.index,y=Pt.lFrame.currentDirectiveIndex;try{ts(p);for(let w=a;w<c;w++){const C=t.data[w],k=n[w];Ga(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&iv(C,k)}}finally{ts(-1),Ga(y)}}(t,n,s))}(l,c,C),function(t,n,s){if(Zs(n)){const c=n.directiveEnd;for(let l=n.directiveStart;l<c;l++){const p=t.data[l];p.contentQueries&&p.contentQueries(1,s[l],l)}}}(l,C,c)),null!==a&&function(t,n,s=sn){const a=n.localNames;if(null!==a){let c=n.index+1;for(let l=0;l<a.length;l+=2){const p=a[l+1],y=-1===p?s(n,t):t[p];t[c++]=y}}}(c,C)}function yy(){let t=Hn();ca()?Pt.lFrame.isParent=!1:(t=t.parent,es(t,!1));const n=t;Pt.lFrame.elementDepthCount--;const s=un();s.firstCreatePass&&(ks(s,t),Zs(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&ff(s,n,Fe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&ff(s,n,Fe(),n.stylesWithoutHost,!1)}function tg(t,n,s,a){pf(t,n,s,a),yy()}function ng(){return Fe()}function Ey(t){return!!t&&"function"==typeof t.then}function rg(t){return!!t&&"function"==typeof t.subscribe}const gf=rg;function mf(t,n,s,a){const c=Fe(),l=un(),p=Hn();return function(t,n,s,a,c,l,p,y){const w=vi(a),k=t.firstCreatePass&&hv(t),H=n[8],z=dv(n);let ee=!0;if(3&a.type||y){const me=sn(a,n),Qe=y?y(me):me,Oe=z.length,Mt=y?en=>y(yt(en[a.index])):a.index;if(ye(s)){let en=null;if(!y&&w&&(en=function(t,n,s,a){const c=t.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const p=c[l];if(p===s&&c[l+1]===a){const y=n[7],w=c[l+2];return y.length>w?y[w]:null}"string"==typeof p&&(l+=2)}return null}(t,n,c,a.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=l,en.__ngLastListenerFn__=l,ee=!1;else{l=yf(a,n,H,l,!1);const Mn=s.listen(Qe,c,l);z.push(l,Mn),k&&k.push(c,Mt,Oe,Oe+1)}}else l=yf(a,n,H,l,!0),Qe.addEventListener(c,l,p),z.push(l),k&&k.push(c,Mt,Oe,p)}else l=yf(a,n,H,l,!1);const ce=a.outputs;let Ce;if(ee&&null!==ce&&(Ce=ce[c])){const me=Ce.length;if(me)for(let Qe=0;Qe<me;Qe+=2){const Ns=n[Ce[Qe]][Ce[Qe+1]].subscribe(l),Ju=z.length;z.push(l,Ns),k&&k.push(c,a.index,Ju,-(Ju+1))}}}(l,c,c[11],p,t,n,!!s,a),mf}function e0(t,n,s,a){try{return!1!==s(a)}catch(c){return pv(t,c),!1}}function yf(t,n,s,a,c){return function l(p){if(p===Function)return a;const y=2&t.flags?Nn(t.index,n):n;0==(32&n[2])&&Np(y);let w=e0(n,0,a,p),C=l.__ngNextListenerFn__;for(;C;)w=e0(n,0,C,p)&&w,C=C.__ngNextListenerFn__;return c&&!1===w&&(p.preventDefault(),p.returnValue=!1),w}}function HI(t,n=""){const s=Fe(),a=un(),c=t+20,l=a.firstCreatePass?$d(a,c,1,n,null):a.data[c],p=s[c]=function(t,n){return ye(t)?t.createText(n):t.createTextNode(n)}(s[11],n);$h(a,s,p,l),es(l,!1)}function vg(t,n,s){const a=Fe();return ys(a,vo(),n)&&oo(un(),Un(),a,t,n,a[11],s,!0),vg}const wc=void 0;var Ig=["en",[["a","p"],["AM","PM"],wc],[["AM","PM"],wc,wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wc,"{1} 'at' {0}",wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let bc={};function fd(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Fy(n);if(s)return s;const a=n.split("-")[0];if(s=Fy(a),s)return s;if("en"===a)return Ig;throw new Error(`Missing locale data for the locale "${t}".`)}function bf(t){return fd(t)[xt.PluralCase]}function Fy(t){return t in bc||(bc[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),bc[t]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const bg="en-US";let A0=bg;function Tg(t){Wn(t,"Expected localeId to be defined"),"string"==typeof t&&(A0=t.toLowerCase().replace(/_/g,"-"))}class r_{}const K0="ngComponent";class Iw{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${de(t)}. Did you add it to @NgModule.entryComponents?`);return n[K0]=t,n}(n)}}let El=(()=>{class t{}return t.NULL=new Iw,t})();function Rg(...t){}function Of(t,n){return new Cc(sn(t,n))}const pD=function(){return Of(Hn(),Fe())};let Cc=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=pD,t})();function bw(t){return t instanceof Cc?t.nativeElement:t}class i_{}let Z0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_s(),t})();const _s=function(){const t=Fe(),s=Nn(Hn().index,t);return function(t){return t[11]}(_i(s)?s:t)};let Pf=(()=>{class t{}return t.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>null}),t})();class Y0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const s_=new Y0("12.2.16");class Q0{constructor(){}supports(n){return od(n)}create(n){return new Cw(n)}}const J0=(t,n)=>n;class Cw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||J0}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,c=0,l=null;for(;s||a;){const p=!a||s&&s.currentIndex<kf(a,c,l)?s:a,y=kf(p,c,l),w=p.currentIndex;if(p===a)c--,a=a._nextRemoved;else if(s=s._next,null==p.previousIndex)c++;else{l||(l=[]);const C=y-c,k=w-c;if(C!=k){for(let z=0;z<C;z++){const ee=z<l.length?l[z]:l[z]=0,ce=ee+z;k<=ce&&ce<C&&(l[z]=ee+1)}l[p.previousIndex]=k-C}}y!==w&&n(p,y,w)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!od(n))throw new Error(`Error trying to diff '${de(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,l,p,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)l=n[y],p=this._trackByFn(y,l),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,l,p,y)),Object.is(s.item,l)||this._addIdentityChange(s,l)):(s=this._mismatch(s,l,p,y),a=!0),s=s._next}else c=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[No()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,y=>{p=this._trackByFn(c,y),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,y,p,c)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,p,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,c){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,l,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,l,c)):n=this._addAfter(new Tw(s,a),l,c),n}_verifyReinsertion(n,s,a,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==l?n=this._reinsertAfter(l,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,l=n._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Tw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Gs{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Sw,this.map.set(s,a)),a.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kf(t,n,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+n+c}class o_{constructor(){}supports(n){return n instanceof Map||Ym(n)}create(){return new a_}}class a_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Ym(n)))throw new Error(`Error trying to diff '${de(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const l=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,l)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const l=c._prev,p=c._next;return l&&(l._next=p),p&&(p._prev=l),c._next=null,c._prev=null,c}const a=new Mg(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Mg{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Og(){return new ph([new Q0])}let ph=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Og()),deps:[[t,new Ss,new fr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Ot({token:t,providedIn:"root",factory:Og}),t})();function X0(){return new Pg([new o_])}let Pg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||X0()),deps:[[t,new Ss,new fr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Ot({token:t,providedIn:"root",factory:X0}),t})();function kg(t,n,s,a,c=!1){for(;null!==s;){const l=n[s.index];if(null!==l&&a.push(yt(l)),sr(l))for(let y=10;y<l.length;y++){const w=l[y],C=w[1].firstChild;null!==C&&kg(w[1],w,C,a)}const p=s.type;if(8&p)kg(t,n,s.child,a);else if(32&p){const y=zl(s,n);let w;for(;w=y();)a.push(w)}else if(16&p){const y=hm(n,s);if(Array.isArray(y))a.push(...y);else{const w=m(n[16]);kg(w[1],w,y,a,!0)}}s=c?s.projectionNext:s.next}return a}class Ff{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return kg(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(sr(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(Xo(n,a),wa(s,a))}this._attachedToViewContainer=!1}Fd(this._lView[1],this._lView)}onDestroy(n){rl(this._lView[1],this._lView,null,n)}markForCheck(){Np(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){Yn(!0);try{Mp(t,n,s)}finally{Yn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,zr(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Lf extends Ff{constructor(n){super(n),this._view=n}detectChanges(){ul(this._view)}checkNoChanges(){!function(t){Yn(!0);try{ul(t)}finally{Yn(!1)}}(this._view)}get context(){return null}}const tE=function(t){return function(t,n,s){if(Po(t)&&!s){const a=Nn(t.index,n);return new Ff(a,a)}return 47&t.type?new Ff(n[16],n):null}(Hn(),Fe(),16==(16&t))};let xw=(()=>{class t{}return t.__NG_ELEMENT_ID__=tE,t})();const Mw=[new o_],c_=new ph([new Q0]),rE=new Pg(Mw),Vf=function(){return gh(Hn(),Fe())};let Uf=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vf,t})();const d_=Uf,h_=class extends d_{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=Jh(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(a[19]=l.createEmbeddedView(s)),Gd(s,a,n),new Ff(a)}};function gh(t,n){return 4&t.type?new h_(n,t,Of(t,n)):null}class Il{}class f_{}const kw=function(){return iE(Hn(),Fe())};let Fg=(()=>{class t{}return t.__NG_ELEMENT_ID__=kw,t})();const g_=Fg,Vg=class extends g_{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new ot(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ea(this._hostTNode,this._hostLView);if(ns(n)){const s=ga(n,this._hostLView),a=Vi(n);return new ot(s[1].data[a+8],s)}return new ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Ug(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const c=n.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(n,s,a,c,l){const p=a||this.parentInjector;if(!l&&null==n.ngModule&&p){const w=p.get(Il,null);w&&(l=w)}const y=n.create(p,c,void 0,l);return this.insert(y.hostView,s),y}insert(n,s){const a=n._lView,c=a[1];if(sr(a[3])){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const H=a[3],z=new Vg(H,H[6],H[3]);z.detach(z.indexOf(n))}}const l=this._adjustIndex(s),p=this._lContainer;!function(t,n,s,a){const c=10+a,l=s.length;a>0&&(s[c-1][4]=n),a<l-10?(n[4]=s[c],sc(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const p=n[17];null!==p&&s!==p&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(p,n);const y=n[19];null!==y&&y.insertView(t),n[2]|=128}(c,a,p,l);const y=el(l,p),w=a[11],C=jh(w,p[7]);return null!==C&&function(t,n,s,a,c,l){a[0]=c,a[6]=n,zr(t,a,s,1,c,l)}(c,p[6],w,a,C,y),n.attachToViewContainerRef(),sc(Bg(p),l,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Ug(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=Xo(this._lContainer,s);a&&(wa(Bg(this._lContainer),s),Fd(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=Xo(this._lContainer,s);return a&&null!=wa(Bg(this._lContainer),s)?new Ff(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function Ug(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function iE(t,n){let s;const a=n[t.index];if(sr(a))s=a;else{let c;if(8&t.type)c=yt(a);else{const l=n[11];c=l.createComment("");const p=sn(t,n);yc(l,jh(l,p),c,function(t,n){return ye(t)?t.nextSibling(n):n.nextSibling}(l,p),!1)}n[t.index]=s=function(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}(a,n,c,t),ed(n,s)}return new Vg(s,t,n)}const Kg={};class xD extends El{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Ct(n);return new ND(s,this.ngModule)}}function RD(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const _T=new hr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Lh});class ND extends r_{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(W_).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return RD(this.componentDef.inputs)}get outputs(){return RD(this.componentDef.outputs)}create(n,s,a,c){const l=(c=c||this.ngModule)?function(t,n){return{get:(s,a,c)=>{const l=t.get(s,Kg,c);return l!==Kg||a===Kg?l:n.get(s,a,c)}}}(n,c.injector):n,p=l.get(i_,lt),y=l.get(Pf,null),w=p.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",k=a?function(t,n,s){if(ye(t))return t.selectRootElement(n,s===Gt.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(w,a,this.componentDef.encapsulation):bt(p.createRenderer(null,this.componentDef),C,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(C)),H=this.componentDef.onPush?576:528,z=function(t,n){return{components:[],scheduler:t||Lh,clean:lv,playerHandler:n||null,flags:0}}(),ee=pu(0,null,null,1,0,null,null,null,null,null),ce=Jh(null,ee,z,H,null,null,p,w,y,l);let Ce,me;Xs(ce);try{const Qe=function(t,n,s,a,c,l){const p=s[1];s[20]=t;const w=$d(p,20,2,"#host",null),C=w.mergedAttrs=n.hostAttrs;null!==C&&(Pp(w,C,!0),null!==t&&(Lu(c,t,C),null!==w.classes&&js(c,t,w.classes),null!==w.styles&&H_(c,t,w.styles)));const k=a.createRenderer(t,n),H=Jh(s,Sp(n),null,n.onPush?64:16,s[20],w,a,k,l||null,null);return p.firstCreatePass&&(Ds(ya(w,s),p,n.type),Wd(p,w),xm(w,s.length,1)),ed(s,H),s[20]=H}(k,this.componentDef,ce,p,w);if(k)if(a)Lu(w,k,["ng-version",s_.full]);else{const{attrs:Oe,classes:Mt}=function(t){const n=[],s=[];let a=1,c=2;for(;a<t.length;){let l=t[a];if("string"==typeof l)2===c?""!==l&&n.push(l,t[++a]):8===c&&s.push(l);else{if(!hu(c))break;c=l}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);Oe&&Lu(w,k,Oe),Mt&&Mt.length>0&&js(w,k,Mt.join(" "))}if(me=Yi(ee,20),void 0!==s){const Oe=me.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const en=s[Mt];Oe.push(null!=en?Array.from(en):null)}}Ce=function(t,n,s,a,c){const l=s[1],p=function(t,n,s){const a=Hn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sv(t,a,n,Hd(t,n,1,null),s));const c=j(n,t,a.directiveStart,a);Pr(c,n);const l=sn(a,n);return l&&Pr(l,n),c}(l,s,n);if(a.components.push(p),t[8]=p,c&&c.forEach(w=>w(p,n)),n.contentQueries){const w=Hn();n.contentQueries(1,p,w.directiveStart)}const y=Hn();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ts(y.index),sl(s[1],y,0,y.directiveStart,y.directiveEnd,n),iv(n,p)),p}(Qe,this.componentDef,ce,z,[Hm]),Gd(ee,ce,null)}finally{fa()}return new IT(this.componentType,Ce,Of(me,ce),ce,me)}}class IT extends class{}{constructor(n,s,a,c,l){super(),this.location=a,this._rootLView=c,this._tNode=l,this.instance=s,this.hostView=this.changeDetectorRef=new Lf(c),this.componentType=n}get injector(){return new ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const qg=new Map;class DT extends Il{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xD(this);const a=zn(n),c=n[J]||null;c&&Tg(c),this._bootstrapComponents=Si(a.bootstrap),this._r3Injector=Fp(n,s,[{provide:Il,useValue:this},{provide:El,useValue:this.componentFactoryResolver}],de(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Kr.THROW_IF_NOT_FOUND,a=_t.Default){return n===Kr||n===Il||n===Oa?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ib extends f_{constructor(n){super(),this.moduleType=n,null!==zn(n)&&function(t){const n=new Set;!function s(a){const c=zn(a,!0),l=c.id;null!==l&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${de(n)} vs ${de(n.name)}`)}(l,qg.get(l),a),qg.set(l,a));const p=Si(c.imports);for(const y of p)n.has(y)||(n.add(y),s(y))}(t)}(n)}create(n){return new DT(this.moduleType,n)}}function PD(t,n,s){const a=function(){const t=Pt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,c=Fe();return c[a]===rn?function(t,n,s){return t[n]=s}(c,a,s?n.call(s):n()):function(t,n){return t[n]}(c,a)}function sb(t){return n=>{setTimeout(t,void 0,n)}}const bl=class extends S.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var c,l,p;let y=n,w=s||(()=>null),C=a;if(n&&"object"==typeof n){const H=n;y=null===(c=H.next)||void 0===c?void 0:c.bind(H),w=null===(l=H.error)||void 0===l?void 0:l.bind(H),C=null===(p=H.complete)||void 0===p?void 0:p.bind(H)}this.__isAsync&&(w=sb(w),y&&(y=sb(y)),C&&(C=sb(C)));const k=super.subscribe({next:y,error:w,complete:C});return n instanceof x.w&&n.add(k),k}};function $T(){return this._results[No()]()}class wE{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=No(),a=wE.prototype;a[s]||(a[s]=$T)}get changes(){return this._changes||(this._changes=new bl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const c=ro(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],l=n[a];if(s&&(c=s(c),l=s(l)),l!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ob{constructor(n){this.queryList=n,this.matches=null}clone(){return new ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class ab{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let l=0;l<a;l++){const p=s.getByIndex(l);c.push(this.queries[p.indexInDeclarationView].clone())}return new ab(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==qD(n,s).matches&&this.queries[s].setDirty()}}class BD{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class ub{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,l=this.getByIndex(a).embeddedTView(n,c);l&&(l.indexInDeclarationView=a,null!==s?s.push(l):s=[l])}return null!==s?new ub(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class cb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new cb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const l=a[c];this.matchTNodeWithReadOption(n,s,WT(s,l)),this.matchTNodeWithReadOption(n,s,P(s,n,l,!1,!1))}else a===Uf?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,P(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Cc||c===Fg||c===Uf&&4&s.type)this.addMatch(s.index,-2);else{const l=P(s,n,c,!1,!1);null!==l&&this.addMatch(s.index,l)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function WT(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function KT(t,n,s,a){return-1===s?function(t,n){return 11&t.type?Of(t,n):4&t.type?gh(t,n):null}(n,t):-2===s?function(t,n,s){return s===Cc?Of(n,t):s===Uf?gh(n,t):s===Fg?iE(n,t):void 0}(t,n,a):j(t,t[1],s,n)}function jD(t,n,s,a){const c=n[19].queries[a];if(null===c.matches){const l=t.data,p=s.matches,y=[];for(let w=0;w<p.length;w+=2){const C=p[w];y.push(C<0?null:KT(n,l[C],p[w+1],s.metadata.read))}c.matches=y}return c.matches}function lb(t,n,s,a){const c=t.queries.getByIndex(s),l=c.matches;if(null!==l){const p=jD(t,n,c,s);for(let y=0;y<l.length;y+=2){const w=l[y];if(w>0)a.push(p[y/2]);else{const C=l[y+1],k=n[-w];for(let H=10;H<k.length;H++){const z=k[H];z[17]===z[3]&&lb(z[1],z,C,a)}if(null!==k[9]){const H=k[9];for(let z=0;z<H.length;z++){const ee=H[z];lb(ee[1],ee,C,a)}}}}}return a}function $D(t){const n=Fe(),s=un(),a=Ru();Nu(a+1);const c=qD(s,a);if(t.dirty&&ar(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const l=c.crossesNgTemplate?lb(s,n,a,[]):jD(s,n,c,a);t.reset(l,bw),t.notifyOnChanges()}return!0}return!1}function HD(t,n,s){const a=un();a.firstCreatePass&&(KD(a,new BD(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),zD(a,Fe(),n)}function GD(t,n,s,a){const c=un();if(c.firstCreatePass){const l=Hn();KD(c,new BD(n,s,a),l.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}zD(c,Fe(),s)}function WD(){return t=Fe(),n=Ru(),t[19].queries[n].queryList;var t,n}function zD(t,n,s){const a=new wE(4==(4&s));rl(t,n,a,a.destroy),null===n[19]&&(n[19]=new ab),n[19].queries.push(new ob(a))}function KD(t,n,s){null===t.queries&&(t.queries=new ub),t.queries.track(new cb(n,s))}function qD(t,n){return t.queries.getByIndex(n)}const mb=new hr("Application Initializer");let Yg=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Rg,this.reject=Rg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const l=this.appInits[c]();if(Ey(l))s.push(l);else if(gf(l)){const p=new Promise((y,w)=>{l.subscribe({complete:y,error:w})});s.push(p)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Qn(mb,8))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();const hC=new hr("AppId"),DS={provide:hC,useFactory:function(){return`${yb()}${yb()}${yb()}`},deps:[]};function yb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fC=new hr("Platform Initializer"),pC=new hr("Platform ID"),gC=new hr("appBootstrapListener");let mC=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();const CE=new hr("LocaleId"),yC=new hr("DefaultCurrencyCode");class TS{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const _b=function(t){return new ib(t)},SS=_b,AS=function(t){return Promise.resolve(_b(t))},_C=function(t){const n=_b(t),a=Si(zn(t).declarations).reduce((c,l)=>{const p=Ct(l);return p&&c.push(new ND(p)),c},[]);return new TS(n,a)},xS=_C,RS=function(t){return Promise.resolve(_C(t))};let M_=(()=>{class t{constructor(){this.compileModuleSync=SS,this.compileModuleAsync=AS,this.compileModuleAndAllComponentsSync=xS,this.compileModuleAndAllComponentsAsync=RS}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();const OS=(()=>Promise.resolve(0))();function vb(t){"undefined"==typeof Zone?OS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class wu{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bl(!1),this.onMicrotaskEmpty=new bl(!1),this.onStable=new bl(!1),this.onError=new bl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let t=dt.requestAnimationFrame,n=dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ib(t),t.isCheckStableRunning=!0,Eb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ib(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,l,p,y)=>{try{return vC(t),s.invokeTask(c,l,p,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),EC(t)}},onInvoke:(s,a,c,l,p,y,w)=>{try{return vC(t),s.invoke(c,l,p,y,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),EC(t)}},onHasTask:(s,a,c,l)=>{s.hasTask(c,l),a===c&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Ib(t),Eb(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(s,a,c,l)=>(s.handleError(c,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,c){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+c,n,kS,Rg,Rg);try{return l.runTask(p,s,a)}finally{l.cancelTask(p)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const kS={};function Eb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ib(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function EC(t){t._nesting--,Eb(t)}class VS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bl,this.onMicrotaskEmpty=new bl,this.onStable=new bl,this.onError=new bl}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,c){return n.apply(s,a)}}let IC=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wu.assertNotInAngularZone(),vb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vb(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let l=-1;a&&a>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:l,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Qn(wu))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})(),wC=(()=>{class t{constructor(){this._applications=new Map,wb.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return wb.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();class US{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function BS(t){wb=t}let wb=new US,bC=!0,DC=!1;function bb(){return DC=!0,bC}function jS(){if(DC)throw new Error("Cannot enable prod mode after platform setup.");bC=!1}let xc;const CC=new hr("AllowMultipleToken");class qS{constructor(n,s){this.name=n,this.token=s}}function TC(t,n,s=[]){const a=`Platform: ${n}`,c=new hr(a);return(l=[])=>{let p=SC();if(!p||p.injector.get(CC,!1))if(t)t(s.concat(l).concat({provide:c,useValue:!0}));else{const y=s.concat(l).concat({provide:c,useValue:!0},{provide:Zd,useValue:"platform"});!function(t){if(xc&&!xc.destroyed&&!xc.injector.get(CC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xc=t.get(AC);const n=t.get(fC,null);n&&n.forEach(s=>s())}(Kr.create({providers:y,name:a}))}return function(t){const n=SC();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(c)}}function SC(){return xc&&!xc.destroyed?xc:null}let AC=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const y=function(t,n){let s;return s="noop"===t?new VS:("zone.js"===t?void 0:t)||new wu({enableLongStackTrace:bb(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),w=[{provide:wu,useValue:y}];return y.run(()=>{const C=Kr.create({providers:w,parent:this.injector,name:s.moduleType.name}),k=s.create(C),H=k.injector.get(Ra,null);if(!H)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const z=y.onError.subscribe({next:ee=>{H.handleError(ee)}});k.onDestroy(()=>{Db(this._modules,k),z.unsubscribe()})}),function(t,n,s){try{const a=s();return Ey(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(H,y,()=>{const z=k.injector.get(Yg);return z.runInitializers(),z.donePromise.then(()=>(Tg(k.injector.get(CE,bg)||bg),this._moduleDoBootstrap(k),k))})})}bootstrapModule(s,a=[]){const c=xC({},a);return function(t,n,s){const a=new ib(s);return Promise.resolve(a)}(0,0,s).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(s){const a=s.injector.get(O_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${de(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Qn(Kr))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();function xC(t,n){return Array.isArray(n)?n.reduce(xC,t):Object.assign(Object.assign({},t),n)}let O_=(()=>{class t{constructor(s,a,c,l,p){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=l,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new W.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new W.y(C=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{wu.assertNotInAngularZone(),vb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{wu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{k.unsubscribe(),H.unsubscribe()}});this.isStable=(0,fe.T)(y,w.pipe(t=>(0,oe.x)()(function(t,n){return function(a){let c;c="function"==typeof t?t:function(){return t};const l=Object.create(a,ae.N);return l.source=a,l.subjectFactory=c,l}}(ue)(t))))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=s instanceof r_?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const l=function(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Il),y=c.create(Kr.NULL,[],a||c.selector,l),w=y.location.nativeElement,C=y.injector.get(IC,null),k=C&&y.injector.get(wC);return C&&k&&k.registerApplication(w,C),y.onDestroy(()=>{this.detachView(y.hostView),Db(this.components,y),k&&k.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Db(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(gC,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Qn(wu),Qn(Kr),Qn(Ra),Qn(El),Qn(Yg))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();function Db(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class eA{}class nA{}const rA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let iA=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||rA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,c]=s.split("#");return void 0===c&&(c="default"),B(8255)(a).then(l=>l[c]).then(l=>OC(l,a,c)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(s){let[a,c]=s.split("#"),l="NgFactory";return void 0===c&&(c="default",l=""),B(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(p=>p[c+l]).then(p=>OC(p,a,c))}}return t.\u0275fac=function(s){return new(s||t)(Qn(M_),Qn(nA,8))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})();function OC(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const hA=function(t){return null},pA=TC(null,"core",[{provide:pC,useValue:"unknown"},{provide:AC,deps:[Kr]},{provide:wC,deps:[]},{provide:mC,deps:[]}]),vA=[{provide:O_,useClass:O_,deps:[wu,Kr,Ra,El,Yg]},{provide:_T,deps:[wu],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:Yg,useClass:Yg,deps:[[new fr,mb]]},{provide:M_,useClass:M_,deps:[]},DS,{provide:ph,useFactory:function(){return c_},deps:[]},{provide:Pg,useFactory:function(){return rE},deps:[]},{provide:CE,useFactory:function(t){return Tg(t=t||"undefined"!=typeof $localize&&$localize.locale||bg),t},deps:[[new uc(CE),new fr,new Ss]]},{provide:yC,useValue:"USD"}];let IA=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Qn(O_))},t.\u0275mod=tr({type:t}),t.\u0275inj=os({providers:vA}),t})()},8939:(Je,Ie,B)=>{"use strict";B.d(Ie,{hO:()=>de,xv:()=>ue,Dh:()=>oe,GT:()=>se,cc:()=>be,on:()=>K,pX:()=>ae});var S=B(3018),x=B(7841),W=B(411);Je=B.hmd(Je);const fe=["ngOnDestroy"],ae=(je,Ve,Le,ft={})=>new Proxy(je,{get:(qe,Xe)=>Le.runOutsideAngular(()=>{var Yt;if(je[Xe])return(null===(Yt=null==ft?void 0:ft.spy)||void 0===Yt?void 0:Yt.get)&&ft.spy.get(Xe,je[Xe]),je[Xe];if(fe.indexOf(Xe)>-1)return()=>{};const Bt=Ve.toPromise().then(Ye=>{const Ge=Ye&&Ye[Xe];return"function"==typeof Ge?Ge.bind(Ye):Ge&&Ge.then?Ge.then(tt=>Le.run(()=>tt)):Le.run(()=>Ge)});return new Proxy(()=>{},{get:(Ye,Ge)=>Bt[Ge],apply:(Ye,Ge,tt)=>Bt.then(mt=>{var nt;const Nt=mt&&mt(...tt);return(null===(nt=null==ft?void 0:ft.spy)||void 0===nt?void 0:nt.apply)&&ft.spy.apply(Xe,tt,Nt),Nt})})})}),se=(je,Ve)=>{Ve.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(ft=>{Object.defineProperty(je.prototype,ft,Object.getOwnPropertyDescriptor(Le.prototype||Le,ft))})})};class _e{constructor(Ve){return Ve}}const oe=new S.OlP("angularfire2.app.options"),ue=new S.OlP("angularfire2.app.name");function K(je,Ve,Le){const qe="object"==typeof Le&&Le||{};qe.name=qe.name||"string"==typeof Le&&Le||"[DEFAULT]";const Yt=x.Z.apps.filter(Bt=>Bt&&Bt.name===qe.name)[0]||Ve.runOutsideAngular(()=>x.Z.initializeApp(je,qe));try{JSON.stringify(je)!==JSON.stringify(Yt.options)&&q("error",`${Yt.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Bt){}return new _e(Yt)}const q=(je,...Ve)=>{(0,S.X6Q)()&&"undefined"!=typeof console&&console[je](...Ve)},he={provide:_e,useFactory:K,deps:[oe,S.R0b,[new S.FiY,ue]]};let de=(()=>{class je{constructor(Le){x.Z.registerVersion("angularfire",W.q4.full,"core"),x.Z.registerVersion("angularfire",W.q4.full,"app-compat"),x.Z.registerVersion("angular",S.q4F.full,Le.toString())}static initializeApp(Le,ft){return{ngModule:je,providers:[{provide:oe,useValue:Le},{provide:ue,useValue:ft}]}}}return je.\u0275fac=function(Le){return new(Le||je)(S.LFG(S.Lbi))},je.\u0275mod=S.oAB({type:je}),je.\u0275inj=S.cJS({providers:[he]}),je})();function be(je,Ve,Le,ft,qe){const[,Xe,Yt]=globalThis.\u0275AngularfireInstanceCache.find(Bt=>Bt[0]===je)||[];if(Xe)return function(je,Ve){try{return je.toString()===Ve.toString()}catch(Le){return je===Ve}}(qe,Yt)||(Te("error",`${Ve} was already initialized on the ${Le} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:qe,was:Yt})),Xe;{const Bt=ft();return globalThis.\u0275AngularfireInstanceCache.push([je,Bt,qe]),Bt}}const Ne=!!Je.hot,Te=(je,...Ve)=>{(0,S.X6Q)()&&"undefined"!=typeof console&&console[je](...Ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},411:(Je,Ie,B)=>{"use strict";B.d(Ie,{q4:()=>Sl,iC:()=>So,HU:()=>Id,vb:()=>wa,JM:()=>sc});var S=B(3018),x=B(2329),W=B(8239),fe=B(8026),ae=B(3854),se=B(3910),_e=B(5422),oe=B(5742);const ue="@firebase/installations",K="0.5.15",he=`w:${K}`,de="FIS_v2",Ve=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function ft({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function qe(D){return{token:D.token,requestStatus:2,expiresIn:mt(D.expiresIn),creationTime:Date.now()}}function Xe(D,O){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,W.Z)(function*(D,O){const Z=(yield O.json()).error;return Ve.create("request-failed",{requestName:D,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Bt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ye(D,{refreshToken:O}){const U=Bt(D);return U.append("Authorization",function(D){return`${de} ${D}`}(O)),U}function Ge(D){return tt.apply(this,arguments)}function tt(){return(tt=(0,W.Z)(function*(D){const O=yield D();return O.status>=500&&O.status<600?D():O})).apply(this,arguments)}function mt(D){return Number(D.replace("s","000"))}function Nt(D,O){return et.apply(this,arguments)}function et(){return(et=(0,W.Z)(function*({appConfig:D,heartbeatServiceProvider:O},{fid:U}){const Z=ft(D),le=Bt(D),we=O.getImmediate({optional:!0});if(we){const zt=yield we.getHeartbeatsHeader();zt&&le.append("x-firebase-client",zt)}const it={method:"POST",headers:le,body:JSON.stringify({fid:U,authVersion:de,appId:D.appId,sdkVersion:he})},St=yield Ge(()=>fetch(Z,it));if(St.ok){const zt=yield St.json();return{fid:zt.fid||U,registrationStatus:2,refreshToken:zt.refreshToken,authToken:qe(zt.authToken)}}throw yield Xe("Create Installation",St)})).apply(this,arguments)}function Bn(D){return new Promise(O=>{setTimeout(O,D)})}const fi=/^[cdef][\w-]{21}$/;function ra(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const U=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return fi.test(U)?U:""}catch(D){return""}}function qr(D){return`${D.appName}!${D.appId}`}const Ai=new Map;function Ms(D,O){const U=qr(D);Zr(U,O),function(D,O){const U=(!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=D=>{Zr(D.data.key,D.data.fid)}),pr);U&&U.postMessage({key:D,fid:O}),0===Ai.size&&pr&&(pr.close(),pr=null)}(U,O)}function Zr(D,O){const U=Ai.get(D);if(U)for(const Z of U)Z(O)}let pr=null;const On="firebase-installations-store";let We=null;function Ar(){return We||(We=(0,oe.X3)("firebase-installations-database",1,{upgrade:(D,O)=>{0===O&&D.createObjectStore(On)}})),We}function wn(D,O){return _n.apply(this,arguments)}function _n(){return(_n=(0,W.Z)(function*(D,O){const U=qr(D),le=(yield Ar()).transaction(On,"readwrite"),we=le.objectStore(On),Ue=yield we.get(U);return yield we.put(O,U),yield le.done,(!Ue||Ue.fid!==O.fid)&&Ms(D,O.fid),O})).apply(this,arguments)}function xn(D){return vs.apply(this,arguments)}function vs(){return(vs=(0,W.Z)(function*(D){const O=qr(D),Z=(yield Ar()).transaction(On,"readwrite");yield Z.objectStore(On).delete(O),yield Z.done})).apply(this,arguments)}function Es(D,O){return _t.apply(this,arguments)}function _t(){return(_t=(0,W.Z)(function*(D,O){const U=qr(D),le=(yield Ar()).transaction(On,"readwrite"),we=le.objectStore(On),Ue=yield we.get(U),it=O(Ue);return void 0===it?yield we.delete(U):yield we.put(it,U),yield le.done,it&&(!Ue||Ue.fid!==it.fid)&&Ms(D,it.fid),it})).apply(this,arguments)}function pi(D){return si.apply(this,arguments)}function si(){return(si=(0,W.Z)(function*(D){let O;const U=yield Es(D.appConfig,Z=>{const le=xi(Z),we=jn(D,le);return O=we.registrationPromise,we.installationEntry});return""===U.fid?{installationEntry:yield O}:{installationEntry:U,registrationPromise:O}})).apply(this,arguments)}function xi(D){return Gt(D||{fid:ra(),registrationStatus:0})}function jn(D,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Ve.create("app-offline"))};const U={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},Z=function(D,O){return Et.apply(this,arguments)}(D,U);return{installationEntry:U,registrationPromise:Z}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:gr(D)}:{installationEntry:O}}function Et(){return(Et=(0,W.Z)(function*(D,O){try{const U=yield Nt(D,O);return wn(D.appConfig,U)}catch(U){throw Le(U)&&409===U.customData.serverCode?yield xn(D.appConfig):yield wn(D.appConfig,{fid:O.fid,registrationStatus:0}),U}})).apply(this,arguments)}function gr(D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,W.Z)(function*(D){let O=yield Gi(D.appConfig);for(;1===O.registrationStatus;)yield Bn(100),O=yield Gi(D.appConfig);if(0===O.registrationStatus){const{installationEntry:U,registrationPromise:Z}=yield pi(D);return Z||U}return O})).apply(this,arguments)}function Gi(D){return Es(D,O=>{if(!O)throw Ve.create("installation-not-found");return Gt(O)})}function Gt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function jt(D,O){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,W.Z)(function*({appConfig:D,heartbeatServiceProvider:O},U){const Z=as(D,U),le=Ye(D,U),we=O.getImmediate({optional:!0});if(we){const zt=yield we.getHeartbeatsHeader();zt&&le.append("x-firebase-client",zt)}const it={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:he,appId:D.appId}})},St=yield Ge(()=>fetch(Z,it));if(St.ok)return qe(yield St.json());throw yield Xe("Generate Auth Token",St)})).apply(this,arguments)}function as(D,{fid:O}){return`${ft(D)}/${O}/authTokens:generate`}function dt(D){return us.apply(this,arguments)}function us(){return(us=(0,W.Z)(function*(D,O=!1){let U;const Z=yield Es(D.appConfig,we=>{if(!an(we))throw Ve.create("not-registered");const Ue=we.authToken;if(!O&&te(Ue))return we;if(1===Ue.requestStatus)return U=ct(D,O),we;{if(!navigator.onLine)throw Ve.create("app-offline");const it=re(we);return U=Tt(D,it),it}});return U?yield U:Z.authToken})).apply(this,arguments)}function ct(D,O){return ke.apply(this,arguments)}function ke(){return(ke=(0,W.Z)(function*(D,O){let U=yield ze(D.appConfig);for(;1===U.authToken.requestStatus;)yield Bn(100),U=yield ze(D.appConfig);const Z=U.authToken;return 0===Z.requestStatus?dt(D,O):Z})).apply(this,arguments)}function ze(D){return Es(D,O=>{if(!an(O))throw Ve.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Tt(D,O){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,W.Z)(function*(D,O){try{const U=yield jt(D,O),Z=Object.assign(Object.assign({},O),{authToken:U});return yield wn(D.appConfig,Z),U}catch(U){if(!Le(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const Z=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield wn(D.appConfig,Z)}else yield xn(D.appConfig);throw U}})).apply(this,arguments)}function an(D){return void 0!==D&&2===D.registrationStatus}function te(D){return 2===D.requestStatus&&!function(D){const O=Date.now();return O<D.creationTime||D.creationTime+D.expiresIn<O+36e5}(D)}function re(D){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:O})}function pt(){return(pt=(0,W.Z)(function*(D){const O=D,{installationEntry:U,registrationPromise:Z}=yield pi(O);return Z?Z.catch(console.error):dt(O).catch(console.error),U.fid})).apply(this,arguments)}function bn(){return(bn=(0,W.Z)(function*(D,O=!1){const U=D;return yield xr(U),(yield dt(U,O)).token})).apply(this,arguments)}function xr(D){return wr.apply(this,arguments)}function wr(){return(wr=(0,W.Z)(function*(D){const{registrationPromise:O}=yield pi(D);O&&(yield O)})).apply(this,arguments)}function zn(D){return Ve.create("missing-app-config-values",{valueName:D})}const bu="installations";(0,fe._registerComponent)(new se.wA(bu,D=>{const O=D.getProvider("app").getImmediate(),U=function(D){if(!D||!D.options)throw zn("App Configuration");if(!D.name)throw zn("App Name");const O=["projectId","apiKey","appId"];for(const U of O)if(!D.options[U])throw zn(U);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(O);return{app:O,appConfig:U,heartbeatServiceProvider:(0,fe._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,fe._registerComponent)(new se.wA("installations-internal",D=>{const O=D.getProvider("app").getImmediate(),U=(0,fe._getProvider)(O,bu).getImmediate();return{getId:()=>function(D){return pt.apply(this,arguments)}(U),getToken:le=>function(D){return bn.apply(this,arguments)}(U,le)}},"PRIVATE")),(0,fe.registerVersion)(ue,K),(0,fe.registerVersion)(ue,K,"esm2017");const Vn="@firebase/remote-config",kn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mr{constructor(O,U,Z,le){this.client=O,this.storage=U,this.storageCache=Z,this.logger=le}isCachedDataFresh(O,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-U,le=Z<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${le}.`),le}fetch(O){var U=this;return(0,W.Z)(function*(){const[Z,le]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(le&&U.isCachedDataFresh(O.cacheMaxAgeMillis,Z))return le;O.eTag=le&&le.eTag;const we=yield U.client.fetch(O),Ue=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Ue.push(U.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Ue),we})()}}function _i(D=navigator){return D.languages&&D.languages[0]||D.language}class sr{constructor(O,U,Z,le,we,Ue){this.firebaseInstallations=O,this.sdkVersion=U,this.namespace=Z,this.projectId=le,this.apiKey=we,this.appId=Ue}fetch(O){var U=this;return(0,W.Z)(function*(){var Z,le,we;const[Ue,it]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),zt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},kt={sdk_version:U.sdkVersion,app_instance_id:Ue,app_instance_id_token:it,app_id:U.appId,language_code:_i()},ni={method:"POST",headers:Vt,body:JSON.stringify(kt)},ps=fetch(zt,ni),Yo=new Promise((Qn,nu)=>{O.signal.addEventListener(()=>{const oc=new Error("The operation was aborted.");oc.name="AbortError",nu(oc)})});let tu;try{yield Promise.race([ps,Yo]),tu=yield ps}catch(Qn){let nu="fetch-client-network";throw"AbortError"===(null===(Z=Qn)||void 0===Z?void 0:Z.name)&&(nu="fetch-timeout"),kn.create(nu,{originalErrorMessage:null===(le=Qn)||void 0===le?void 0:le.message})}let Dr=tu.status;const Da=tu.headers.get("ETag")||void 0;let Qo,gs;if(200===tu.status){let Qn;try{Qn=yield tu.json()}catch(nu){throw kn.create("fetch-client-parse",{originalErrorMessage:null===(we=nu)||void 0===we?void 0:we.message})}Qo=Qn.entries,gs=Qn.state}if("INSTANCE_STATE_UNSPECIFIED"===gs?Dr=500:"NO_CHANGE"===gs?Dr=304:("NO_TEMPLATE"===gs||"EMPTY_CONFIG"===gs)&&(Qo={}),304!==Dr&&200!==Dr)throw kn.create("fetch-status",{httpStatus:Dr});return{status:Dr,eTag:Da,config:Qo}})()}}class vi{constructor(O,U){this.client=O,this.storage=U}fetch(O){var U=this;return(0,W.Z)(function*(){const Z=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(O,Z)})()}attemptFetch(O,{throttleEndTimeMillis:U,backoffCount:Z}){var le=this;return(0,W.Z)(function*(){yield function(D,O){return new Promise((U,Z)=>{const le=Math.max(O-Date.now(),0),we=setTimeout(U,le);D.addEventListener(()=>{clearTimeout(we),Z(kn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,U);try{const we=yield le.client.fetch(O);return yield le.storage.deleteThrottleMetadata(),we}catch(we){if(!function(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const O=Number(D.customData.httpStatus);return 429===O||500===O||503===O||504===O}(we))throw we;const Ue={throttleEndTimeMillis:Date.now()+(0,ae.$s)(Z),backoffCount:Z+1};return yield le.storage.setThrottleMetadata(Ue),le.attemptFetch(O,Ue)}})()}}class Ae{constructor(O,U,Z,le,we){this.app=O,this._client=U,this._storageCache=Z,this._storage=le,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ni(D,O){var U;const Z=D.target.error||void 0;return kn.create(O,{originalErrorMessage:Z&&(null===(U=Z)||void 0===U?void 0:U.message)})}const Ei="app_namespace_store";class qi{constructor(O,U,Z,le=function(){return new Promise((D,O)=>{var U;try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=le=>{O(Ni(le,"storage-open"))},Z.onsuccess=le=>{D(le.target.result)},Z.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(Ei,{keyPath:"compositeKey"})}}catch(Z){O(kn.create("storage-open",{originalErrorMessage:null===(U=Z)||void 0===U?void 0:U.message}))}})}()){this.appId=O,this.appName=U,this.namespace=Z,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var U=this;return(0,W.Z)(function*(){const Z=yield U.openDbPromise;return new Promise((le,we)=>{var Ue;const St=Z.transaction([Ei],"readonly").objectStore(Ei),zt=U.createCompositeKey(O);try{const Vt=St.get(zt);Vt.onerror=kt=>{we(Ni(kt,"storage-get"))},Vt.onsuccess=kt=>{const ni=kt.target.result;le(ni?ni.value:void 0)}}catch(Vt){we(kn.create("storage-get",{originalErrorMessage:null===(Ue=Vt)||void 0===Ue?void 0:Ue.message}))}})})()}set(O,U){var Z=this;return(0,W.Z)(function*(){const le=yield Z.openDbPromise;return new Promise((we,Ue)=>{var it;const zt=le.transaction([Ei],"readwrite").objectStore(Ei),Vt=Z.createCompositeKey(O);try{const kt=zt.put({compositeKey:Vt,value:U});kt.onerror=ni=>{Ue(Ni(ni,"storage-set"))},kt.onsuccess=()=>{we()}}catch(kt){Ue(kn.create("storage-set",{originalErrorMessage:null===(it=kt)||void 0===it?void 0:it.message}))}})})()}delete(O){var U=this;return(0,W.Z)(function*(){const Z=yield U.openDbPromise;return new Promise((le,we)=>{var Ue;const St=Z.transaction([Ei],"readwrite").objectStore(Ei),zt=U.createCompositeKey(O);try{const Vt=St.delete(zt);Vt.onerror=kt=>{we(Ni(kt,"storage-delete"))},Vt.onsuccess=()=>{le()}}catch(Vt){we(kn.create("storage-delete",{originalErrorMessage:null===(Ue=Vt)||void 0===Ue?void 0:Ue.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class gt{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,W.Z)(function*(){const U=O.storage.getLastFetchStatus(),Z=O.storage.getLastSuccessfulFetchTimestampMillis(),le=O.storage.getActiveConfig(),we=yield U;we&&(O.lastFetchStatus=we);const Ue=yield Z;Ue&&(O.lastSuccessfulFetchTimestampMillis=Ue);const it=yield le;it&&(O.activeConfig=it)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Ys(){return go.apply(this,arguments)}function go(){return(go=(0,W.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,fe._registerComponent)(new se.wA("remote-config",function(O,{instanceIdentifier:U}){const Z=O.getProvider("app").getImmediate(),le=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,ae.hl)())throw kn.create("indexed-db-unavailable");const{projectId:we,apiKey:Ue,appId:it}=Z.options;if(!we)throw kn.create("registration-project-id");if(!Ue)throw kn.create("registration-api-key");if(!it)throw kn.create("registration-app-id");const St=new qi(it,Z.name,U=U||"firebase"),zt=new gt(St),Vt=new _e.Yd(Vn);Vt.logLevel=_e.in.ERROR;const kt=new sr(le,fe.SDK_VERSION,U,we,Ue,it),ni=new vi(kt,St),ps=new mr(ni,St,zt,Vt),Yo=new Ae(Z,ps,zt,St,Vt);return function(D){const O=(0,ae.m9)(D);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Yo),Yo},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Vn,"0.3.14"),(0,fe.registerVersion)(Vn,"0.3.14","esm2017");const ia="/firebase-messaging-sw.js",Cu="/firebase-cloud-messaging-push-scope",Fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="google.c.a.c_id",cr="google.c.a.c_l",Lo="google.c.a.ts",qn="google.c.a.e";var ei=(()=>{return(D=ei||(ei={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ei;var D})();function Zi(D){const O=new Uint8Array(D);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mi(D){const U=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(U),le=new Uint8Array(Z.length);for(let we=0;we<Z.length;++we)le[we]=Z.charCodeAt(we);return le}const yo="fcm_token_details_db",Ur="fcm_token_object_Store";function Vo(D){return ai.apply(this,arguments)}function ai(){return ai=(0,W.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(yo))return null;let O=null;return(yield(0,oe.X3)(yo,5,{upgrade:(Z=(0,W.Z)(function*(le,we,Ue,it){var St;if(we<2||!le.objectStoreNames.contains(Ur))return;const zt=it.objectStore(Ur),Vt=yield zt.index("fcmSenderId").get(D);if(yield zt.clear(),Vt)if(2===we){const kt=Vt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;O={token:kt.fcmToken,createTime:null!==(St=kt.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:Zi(kt.vapidKey)}}}else if(3===we){const kt=Vt;O={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Zi(kt.auth),p256dh:Zi(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Zi(kt.vapidKey)}}}else if(4===we){const kt=Vt;O={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Zi(kt.auth),p256dh:Zi(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Zi(kt.vapidKey)}}}}),function(we,Ue,it,St){return Z.apply(this,arguments)})})).close(),yield(0,oe.Lj)(yo),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),oa(O)?O:null;var Z}),ai.apply(this,arguments)}function oa(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:O}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const Tn="firebase-messaging-store";let Pi=null;function M(){return Pi||(Pi=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(D,O)=>{0===O&&D.createObjectStore(Tn)}})),Pi}function V(D){return R.apply(this,arguments)}function R(){return(R=(0,W.Z)(function*(D){const O=lt(D),Z=yield(yield M()).transaction(Tn).objectStore(Tn).get(O);if(Z)return Z;{const le=yield Vo(D.appConfig.senderId);if(le)return yield $(D,le),le}})).apply(this,arguments)}function $(D,O){return ne.apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(D,O){const U=lt(D),le=(yield M()).transaction(Tn,"readwrite");return yield le.objectStore(Tn).put(O,U),yield le.done,O})).apply(this,arguments)}function ye(D){return Be.apply(this,arguments)}function Be(){return(Be=(0,W.Z)(function*(D){const O=lt(D),Z=(yield M()).transaction(Tn,"readwrite");yield Z.objectStore(Tn).delete(O),yield Z.done})).apply(this,arguments)}function lt({appConfig:D}){return D.appId}const yt=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sn(D,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,W.Z)(function*(D,O){var U;const Z=yield Nn(D),le=Qi(O),we={method:"POST",headers:Z,body:JSON.stringify(le)};let Ue;try{Ue=yield(yield fetch(ti(D.appConfig),we)).json()}catch(it){throw yt.create("token-subscribe-failed",{errorInfo:null===(U=it)||void 0===U?void 0:U.toString()})}if(Ue.error)throw yt.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yt.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Rn(D,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,W.Z)(function*(D,O){var U;const Z=yield Nn(D),le=Qi(O.subscriptionOptions),we={method:"PATCH",headers:Z,body:JSON.stringify(le)};let Ue;try{Ue=yield(yield fetch(`${ti(D.appConfig)}/${O.token}`,we)).json()}catch(it){throw yt.create("token-update-failed",{errorInfo:null===(U=it)||void 0===U?void 0:U.toString()})}if(Ue.error)throw yt.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yt.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function or(D,O){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,W.Z)(function*(D,O){var U;const le={method:"DELETE",headers:yield Nn(D)};try{const Ue=yield(yield fetch(`${ti(D.appConfig)}/${O}`,le)).json();if(Ue.error)throw yt.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(we){throw yt.create("token-unsubscribe-failed",{errorInfo:null===(U=we)||void 0===U?void 0:U.toString()})}})).apply(this,arguments)}function ti({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Nn(D){return ar.apply(this,arguments)}function ar(){return(ar=(0,W.Z)(function*({appConfig:D,installations:O}){const U=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function Qi({p256dh:D,auth:O,endpoint:U,vapidKey:Z}){const le={web:{endpoint:U,auth:O,p256dh:D}};return Z!==Fo&&(le.web.applicationPubKey=Z),le}const Qs=6048e5;function ki(D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,W.Z)(function*(D){const O=yield Js(D.swRegistration,D.vapidKey),U={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:O.endpoint,auth:Zi(O.getKey("auth")),p256dh:Zi(O.getKey("p256dh"))},Z=yield V(D.firebaseDependencies);if(Z){if($a(Z.subscriptionOptions,U))return Date.now()>=Z.createTime+Qs?Dl(D,{token:Z.token,createTime:Date.now(),subscriptionOptions:U}):Z.token;try{yield or(D.firebaseDependencies,Z.token)}catch(le){console.warn(le)}return Uo(D.firebaseDependencies,U)}return Uo(D.firebaseDependencies,U)})).apply(this,arguments)}function _o(D){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,W.Z)(function*(D){const O=yield V(D.firebaseDependencies);O&&(yield or(D.firebaseDependencies,O.token),yield ye(D.firebaseDependencies));const U=yield D.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()})).apply(this,arguments)}function Dl(D,O){return ua.apply(this,arguments)}function ua(){return(ua=(0,W.Z)(function*(D,O){try{const U=yield Rn(D.firebaseDependencies,O),Z=Object.assign(Object.assign({},O),{token:U,createTime:Date.now()});return yield $(D.firebaseDependencies,Z),U}catch(U){throw yield _o(D),U}})).apply(this,arguments)}function Uo(D,O){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,W.Z)(function*(D,O){const Z={token:yield Sn(D,O),createTime:Date.now(),subscriptionOptions:O};return yield $(D,Z),Z.token})).apply(this,arguments)}function Js(D,O){return jo.apply(this,arguments)}function jo(){return(jo=(0,W.Z)(function*(D,O){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mi(O)})})).apply(this,arguments)}function $a(D,O){return O.vapidKey===D.vapidKey&&O.endpoint===D.endpoint&&O.auth===D.auth&&O.p256dh===D.p256dh}function Fe(D){const O={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function(D,O){if(!O.notification)return;D.notification={};const U=O.notification.title;U&&(D.notification.title=U);const Z=O.notification.body;Z&&(D.notification.body=Z);const le=O.notification.image;le&&(D.notification.image=le)}(O,D),function(D,O){!O.data||(D.data=O.data)}(O,D),function(D,O){var U,Z,le,we,Ue;if(!O.fcmOptions&&!(null===(U=O.notification)||void 0===U?void 0:U.click_action))return;D.fcmOptions={};const it=null!==(le=null===(Z=O.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==le?le:null===(we=O.notification)||void 0===we?void 0:we.click_action;it&&(D.fcmOptions.link=it);const St=null===(Ue=O.fcmOptions)||void 0===Ue?void 0:Ue.analytics_label;St&&(D.fcmOptions.analyticsLabel=St)}(O,D),O}function Ha(D){return"object"==typeof D&&!!D&&mo in D}function Xi(D,O){const U=[];for(let Z=0;Z<D.length;Z++)U.push(D.charAt(Z)),Z<O.length&&U.push(O.charAt(Z));return U.join("")}function ca(D){return yt.create("missing-app-config-values",{valueName:D})}Xi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ws{constructor(O,U,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function(D){if(!D||!D.options)throw ca("App Configuration Object");if(!D.name)throw ca("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:U}=D;for(const Z of O)if(!U[Z])throw ca(Z);return{appName:D.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:le,installations:U,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function Xu(D){return $o.apply(this,arguments)}function $o(){return($o=(0,W.Z)(function*(D){var O;try{D.swRegistration=yield navigator.serviceWorker.register(ia,{scope:Cu}),D.swRegistration.update().catch(()=>{})}catch(U){throw yt.create("failed-service-worker-registration",{browserErrorMessage:null===(O=U)||void 0===O?void 0:O.message})}})).apply(this,arguments)}function yr(D,O){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,W.Z)(function*(D,O){if(!O&&!D.swRegistration&&(yield Xu(D)),O||!D.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");D.swRegistration=O}})).apply(this,arguments)}function _r(D,O){return ui.apply(this,arguments)}function ui(){return(ui=(0,W.Z)(function*(D,O){O?D.vapidKey=O:D.vapidKey||(D.vapidKey=Fo)})).apply(this,arguments)}function vo(){return(vo=(0,W.Z)(function*(D,O){if(!navigator)throw yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yt.create("permission-blocked");return yield _r(D,null==O?void 0:O.vapidKey),yield yr(D,null==O?void 0:O.serviceWorkerRegistration),ki(D)})).apply(this,arguments)}function ds(D,O,U){return Au.apply(this,arguments)}function Au(){return(Au=(0,W.Z)(function*(D,O,U){const Z=xu(O);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:U[mo],message_name:U[cr],message_time:U[Lo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xu(D){switch(D){case ei.NOTIFICATION_CLICKED:return"notification_open";case ei.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ho(){return(Ho=(0,W.Z)(function*(D,O){const U=O.data;if(!U.isFirebaseMessaging)return;D.onMessageHandler&&U.messageType===ei.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Fe(U)):D.onMessageHandler.next(Fe(U)));const Z=U.data;Ha(Z)&&"1"===Z[qn]&&(yield ds(D,U.messageType,Z))})).apply(this,arguments)}const Ga="@firebase/messaging";function Io(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,W.Z)(function*(){try{yield(0,ae.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,fe._registerComponent)(new se.wA("messaging",D=>{const O=new ws(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function(D,O){return Ho.apply(this,arguments)}(O,U)),O},"PUBLIC")),(0,fe._registerComponent)(new se.wA("messaging-internal",D=>{const O=D.getProvider("messaging").getImmediate();return{getToken:Z=>function(D,O){return vo.apply(this,arguments)}(O,Z)}},"PRIVATE")),(0,fe.registerVersion)(Ga,"0.9.19"),(0,fe.registerVersion)(Ga,"0.9.19","esm2017");const ts="analytics",Un="firebase_id",eo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wo="https://www.googletagmanager.com/gtag/js",lr=new _e.Yd("@firebase/analytics");function ec(D){return Promise.all(D.map(O=>O.catch(U=>U)))}function ks(D,O){const U=document.createElement("script");U.src=`${wo}?l=${D}&id=${O}`,U.async=!0,document.head.appendChild(U)}function Mr(D,O,U,Z,le,we){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,W.Z)(function*(D,O,U,Z,le,we){const Ue=Z[le];try{if(Ue)yield O[Ue];else{const St=(yield ec(U)).find(zt=>zt.measurementId===le);St&&(yield O[St.appId])}}catch(it){lr.error(it)}D("config",le,we)})).apply(this,arguments)}function bo(D,O,U,Z,le){return br.apply(this,arguments)}function br(){return(br=(0,W.Z)(function*(D,O,U,Z,le){try{let we=[];if(le&&le.send_to){let Ue=le.send_to;Array.isArray(Ue)||(Ue=[Ue]);const it=yield ec(U);for(const St of Ue){const zt=it.find(kt=>kt.measurementId===St),Vt=zt&&O[zt.appId];if(!Vt){we=[];break}we.push(Vt)}}0===we.length&&(we=Object.values(O)),yield Promise.all(we),D("event",Z,le||{})}catch(we){lr.error(we)}})).apply(this,arguments)}function qa(D){const O=window.document.getElementsByTagName("script");for(const U of Object.values(O))if(U.src&&U.src.includes(wo)&&U.src.includes(D))return U;return null}const Gn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fu=new class{constructor(O={},U=1e3){this.throttleMetadata=O,this.intervalMillis=U}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,U){this.throttleMetadata[O]=U}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Za(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Lu(D){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,W.Z)(function*(D){var O;const{appId:U,apiKey:Z}=D,le={method:"GET",headers:Za(Z)},we=eo.replace("{app-id}",U),Ue=yield fetch(we,le);if(200!==Ue.status&&304!==Ue.status){let it="";try{const St=yield Ue.json();(null===(O=St.error)||void 0===O?void 0:O.message)&&(it=St.error.message)}catch(St){}throw Gn.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:it})}return Ue.json()})).apply(this,arguments)}function Ya(D){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,W.Z)(function*(D,O=Fu,U){const{appId:Z,apiKey:le,measurementId:we}=D.options;if(!Z)throw Gn.create("no-app-id");if(!le){if(we)return{measurementId:we,appId:Z};throw Gn.create("no-api-key")}const Ue=O.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new ga;return setTimeout((0,W.Z)(function*(){it.abort()}),void 0!==U?U:6e4),nc({appId:Z,apiKey:le,measurementId:we},Ue,it,O)})).apply(this,arguments)}function nc(D,O,U){return ns.apply(this,arguments)}function ns(){return(ns=(0,W.Z)(function*(D,{throttleEndTimeMillis:O,backoffCount:U},Z,le=Fu){var we,Ue;const{appId:it,measurementId:St}=D;try{yield Vi(Z,O)}catch(zt){if(St)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${null===(we=zt)||void 0===we?void 0:we.message}]`),{appId:it,measurementId:St};throw zt}try{const zt=yield Lu(D);return le.deleteThrottleMetadata(it),zt}catch(zt){const Vt=zt;if(!Uu(Vt)){if(le.deleteThrottleMetadata(it),St)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${null==Vt?void 0:Vt.message}]`),{appId:it,measurementId:St};throw zt}const kt=503===Number(null===(Ue=null==Vt?void 0:Vt.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ae.$s)(U,le.intervalMillis,30):(0,ae.$s)(U,le.intervalMillis),ni={throttleEndTimeMillis:Date.now()+kt,backoffCount:U+1};return le.setThrottleMetadata(it,ni),lr.debug(`Calling attemptFetch again in ${kt} millis`),nc(D,ni,Z,le)}})).apply(this,arguments)}function Vi(D,O){return new Promise((U,Z)=>{const le=Math.max(O-Date.now(),0),we=setTimeout(U,le);D.addEventListener(()=>{clearTimeout(we),Z(Gn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function Uu(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const O=Number(D.customData.httpStatus);return 429===O||500===O||503===O||504===O}class ga{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let to,Ds;function Ja(){return(Ja=(0,W.Z)(function*(D,O,U,Z,le){if(le&&le.global)D("event",U,Z);else{const we=yield O;D("event",U,Object.assign(Object.assign({},Z),{send_to:we}))}})).apply(this,arguments)}function Ui(D){Ds=D}function Xa(D){to=D}function Cs(){return b.apply(this,arguments)}function b(){return(b=(0,W.Z)(function*(){var D;if(!(0,ae.hl)())return lr.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(O){return lr.warn(Gn.create("indexeddb-unavailable",{errorInfo:null===(D=O)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function v(){return(v=(0,W.Z)(function*(D,O,U,Z,le,we,Ue){var it;const St=Ya(D);St.then(ps=>{U[ps.measurementId]=ps.appId,D.options.measurementId&&ps.measurementId!==D.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ps=>lr.error(ps)),O.push(St);const zt=Cs().then(ps=>{if(ps)return Z.getId()}),[Vt,kt]=yield Promise.all([St,zt]);qa(we)||ks(we,Vt.measurementId),Ds&&(le("consent","default",Ds),Ui(void 0)),le("js",new Date);const ni=null!==(it=null==Ue?void 0:Ue.config)&&void 0!==it?it:{};return ni.origin="firebase",ni.update=!0,null!=kt&&(ni[Un]=kt),le("config",Vt.measurementId,ni),to&&(le("set",to),Xa(void 0)),Vt.measurementId})).apply(this,arguments)}class T{constructor(O){this.app=O}_delete(){return delete P[this.app.options.appId],Promise.resolve()}}let P={},j=[];const Y={};let ot,Qt,ie="dataLayer",Dt=!1;function Ii(D,O,U){!function(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const O=D.map((Z,le)=>`(${le+1}) ${Z}`).join(" "),U=Gn.create("invalid-analytics-context",{errorInfo:O});lr.warn(U.message)}}();const Z=D.options.appId;if(!Z)throw Gn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Gn.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=P[Z])throw Gn.create("already-exists",{id:Z});if(!Dt){!function(D){let O=[];Array.isArray(window[D])?O=window[D]:window[D]=O}(ie);const{wrappedGtag:we,gtagCore:Ue}=function(D,O,U,Z,le){let we=function(...Ue){window[Z].push(arguments)};return window[le]&&"function"==typeof window[le]&&(we=window[le]),window[le]=function(D,O,U,Z){function we(){return(we=(0,W.Z)(function*(Ue,it,St){try{"event"===Ue?yield bo(D,O,U,it,St):"config"===Ue?yield Mr(D,O,U,Z,it,St):"consent"===Ue?D("consent","update",St):D("set",it)}catch(zt){lr.error(zt)}})).apply(this,arguments)}return function(Ue,it,St){return we.apply(this,arguments)}}(we,D,O,U),{gtagCore:we,wrappedGtag:window[le]}}(P,j,Y,ie,"gtag");Qt=we,ot=Ue,Dt=!0}return P[Z]=function(D,O,U,Z,le,we,Ue){return v.apply(this,arguments)}(D,j,Y,O,ot,ie,U),new T(D)}function zo(){return jr.apply(this,arguments)}function jr(){return(jr=(0,W.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const Tl="@firebase/analytics";(0,fe._registerComponent)(new se.wA(ts,(O,{options:U})=>Ii(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,fe._registerComponent)(new se.wA("analytics-internal",function(O){try{const U=O.getProvider(ts).getImmediate();return{logEvent:(Z,le,we)=>function(D,O,U,Z){D=(0,ae.m9)(D),function(D,O,U,Z,le){return Ja.apply(this,arguments)}(Qt,P[D.app.options.appId],O,U,Z).catch(le=>lr.error(le))}(U,Z,le,we)}}catch(U){throw Gn.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,fe.registerVersion)(Tl,"0.8.3"),(0,fe.registerVersion)(Tl,"0.8.3","esm2017");var zf=B(7771),Kf=B(3637),ic=B(3342),kc=B(3101),Fc=B(309);const Sl=new S.GfV("7.4.1"),Al="__angularfire_symbol__analyticsIsSupportedValue",no="__angularfire_symbol__analyticsIsSupported",Ko="__angularfire_symbol__remoteConfigIsSupportedValue",Or="__angularfire_symbol__remoteConfigIsSupported",Zn="__angularfire_symbol__messagingIsSupportedValue",eu="__angularfire_symbol__messagingIsSupported";function sc(D,O,U){if(O){if(1===O.length)return O[0];const we=O.filter(Ue=>Ue.app===U);if(1===we.length)return we[0]}return U.container.getProvider(D).getImmediate({optional:!0})}globalThis[no]||(globalThis[no]=zo().then(D=>globalThis[Al]=D).catch(()=>globalThis[Al]=!1)),globalThis[eu]||(globalThis[eu]=Io().then(D=>globalThis[Zn]=D).catch(()=>globalThis[Zn]=!1)),globalThis[Or]||(globalThis[Or]=Ys().then(D=>globalThis[Ko]=D).catch(()=>globalThis[Ko]=!1));const wa=(D,O)=>{const U=O?[O]:(0,x.C6)(),Z=[];return U.forEach(le=>{le.container.getProvider(D).instances.forEach(Ue=>{Z.includes(Ue)||Z.push(Ue)})}),Z};function wi(){}class Vc{constructor(O,U=zf.N){this.zone=O,this.delegate=U}now(){return this.delegate.now()}schedule(O,U,Z){const le=this.zone;return this.delegate.schedule(function(Ue){le.runGuarded(()=>{O.apply(this,[Ue])})},U,Z)}}class qo{constructor(O){this.zone=O,this.task=null}call(O,U){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wi,{},wi,wi)),U.pipe((0,ic.b)({next:Z,complete:Z,error:Z})).subscribe(O).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Id=(()=>{class D{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Vc(Zone.current)),this.insideAngular=U.run(()=>new Vc(Zone.current,Kf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(U){return new(U||D)(S.LFG(S.R0b))},D.\u0275prov=S.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Zo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function So(D){return Zo(),function(D){return function(U){return(U=U.lift(new qo(D.ngZone))).pipe((0,kc.R)(D.outsideAngular),(0,Fc.QV)(D.insideAngular))}}(Zo())(D)}},6575:(Je,Ie,B)=>{"use strict";B.d(Ie,{F0:()=>br,rH:()=>qa,Od:()=>pa,Bz:()=>Qa,lC:()=>ku});var S=B(8583),x=B(3018),W=B(9765),fe=B(7971);class ae extends W.xQ{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const v=super._subscribe(E);return v&&!v.closed&&E.next(this._value),v}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new fe.N;return this._value}next(E){super.next(this._value=E)}}var se=B(4869),_e=B(9796),oe=B(7393);class ue extends oe.L{notifyNext(E,v,T,P,j){this.destination.next(v)}notifyError(E,v){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class K extends oe.L{constructor(E,v,T){super(),this.parent=E,this.outerValue=v,this.outerIndex=T,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var q=B(7444),he=B(7574);function de(b,E,v,T,P=new K(b,v,T)){if(!P.closed)return E instanceof he.y?E.subscribe(P):(0,q.s)(E)(P)}var be=B(6693);const Pe={};class Te{constructor(E){this.resultSelector=E}call(E,v){return v.subscribe(new je(E,this.resultSelector))}}class je extends ue{constructor(E,v){super(E),this.resultSelector=v,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(Pe),this.observables.push(E)}_complete(){const E=this.observables,v=E.length;if(0===v)this.destination.complete();else{this.active=v,this.toRespond=v;for(let T=0;T<v;T++)this.add(de(this,E[T],void 0,T))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,v,T){const P=this.values,Y=this.toRespond?P[T]===Pe?--this.toRespond:this.toRespond:0;P[T]=v,0===Y&&(this.resultSelector?this._tryResultSelector(P):this.destination.next(P.slice()))}_tryResultSelector(E){let v;try{v=this.resultSelector.apply(this,E)}catch(T){return void this.destination.error(T)}this.destination.next(v)}}var Ve=B(4402),Le=B(9193);function ft(b){return new he.y(E=>{let v;try{v=b()}catch(P){return void E.error(P)}return(v?(0,Ve.D)(v):(0,Le.c)()).subscribe(E)})}var qe=B(5917),Xe=B(3410),Yt=B(8071),Bt=B(2441),Ye=B(5345);function Ge(b){return function(v){const T=new tt(b),P=v.lift(T);return T.caught=P}}class tt{constructor(E){this.selector=E}call(E,v){return v.subscribe(new mt(E,this.selector,this.caught))}}class mt extends Ye.Ds{constructor(E,v,T){super(E),this.selector=v,this.caught=T}error(E){if(!this.isStopped){let v;try{v=this.selector(E,this.caught)}catch(j){return void super.error(j)}this._unsubscribeAndRecycle();const T=new Ye.IY(this);this.add(T);const P=(0,Ye.ft)(v,T);P!==T&&this.add(P)}}}var nt=B(9773);function Nt(b,E){return(0,nt.zg)(b,E,1)}var et=B(5435),Bn=B(7108);function Lr(b){return function(v){return 0===b?(0,Le.c)():v.lift(new fi(b))}}class fi{constructor(E){if(this.total=E,this.total<0)throw new Bn.W}call(E,v){return v.subscribe(new Vr(E,this.total))}}class Vr extends oe.L{constructor(E,v){super(E),this.total=v,this.ring=new Array,this.count=0}_next(E){const v=this.ring,T=this.total,P=this.count++;v.length<T?v.push(E):v[P%T]=E}_complete(){const E=this.destination;let v=this.count;if(v>0){const T=this.count>=this.total?this.total:this.count,P=this.ring;for(let j=0;j<T;j++){const Y=v++%T;E.next(P[Y])}}E.complete()}}var ra=B(4635),Er=B(5242),qr=B(4487),Ms=B(5319);class tn{constructor(E){this.callback=E}call(E,v){return v.subscribe(new Zr(E,this.callback))}}class Zr extends oe.L{constructor(E,v){super(E),this.add(new Ms.w(v))}}var gn=B(8002),pr=B(3190),Ot=B(5257),Ir=B(9761),os=B(2145),Ln=B(8049),On=B(3342),We=B(1307),Ar=B(3282);class wn{constructor(E,v){this.id=E,this.url=v}}class _n extends wn{constructor(E,v,T="imperative",P=null){super(E,v),this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends wn{constructor(E,v,T){super(E,v),this.urlAfterRedirects=T}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vs extends wn{constructor(E,v,T){super(E,v),this.reason=T}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Es extends wn{constructor(E,v,T){super(E,v),this.error=T}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _t extends wn{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends wn{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si extends wn{constructor(E,v,T,P,j){super(E,v),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=j}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xi extends wn{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn extends wn{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gr{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(E,v,T){this.routerEvent=E,this.position=v,this.anchor=T}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class Pn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function as(b){return new Pn(b)}const dt="ngNavigationCancelingError";function us(b){const E=Error("NavigationCancelingError: "+b);return E[dt]=!0,E}function ke(b,E,v){const T=v.path.split("/");if(T.length>b.length||"full"===v.pathMatch&&(E.hasChildren()||T.length<b.length))return null;const P={};for(let j=0;j<T.length;j++){const Y=T[j],ie=b[j];if(Y.startsWith(":"))P[Y.substring(1)]=ie;else if(Y!==ie.path)return null}return{consumed:b.slice(0,T.length),posParams:P}}function Tt(b,E){const v=b?Object.keys(b):void 0,T=E?Object.keys(E):void 0;if(!v||!T||v.length!=T.length)return!1;let P;for(let j=0;j<v.length;j++)if(P=v[j],!Ut(b[P],E[P]))return!1;return!0}function Ut(b,E){if(Array.isArray(b)&&Array.isArray(E)){if(b.length!==E.length)return!1;const v=[...b].sort(),T=[...E].sort();return v.every((P,j)=>T[j]===P)}return b===E}function an(b){return Array.prototype.concat.apply([],b)}function te(b){return b.length>0?b[b.length-1]:null}function re(b,E){for(const v in b)b.hasOwnProperty(v)&&E(b[v],v)}function Se(b){return(0,x.CqO)(b)?b:(0,x.QGY)(b)?(0,Ve.D)(Promise.resolve(b)):(0,qe.of)(b)}const pt={exact:function wr(b,E,v){if(!zn(b.segments,E.segments)||!Is(b.segments,E.segments,v)||b.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!b.children[T]||!wr(b.children[T],E.children[T],v))return!1;return!0},subset:Lt},Wt={exact:function(b,E){return Tt(b,E)},subset:function(b,E){return Object.keys(E).length<=Object.keys(b).length&&Object.keys(E).every(v=>Ut(b[v],E[v]))},ignored:()=>!0};function bn(b,E,v){return pt[v.paths](b.root,E.root,v.matrixParams)&&Wt[v.queryParams](b.queryParams,E.queryParams)&&!("exact"===v.fragment&&b.fragment!==E.fragment)}function Lt(b,E,v){return Rr(b,E,E.segments,v)}function Rr(b,E,v,T){if(b.segments.length>v.length){const P=b.segments.slice(0,v.length);return!(!zn(P,v)||E.hasChildren()||!Is(P,v,T))}if(b.segments.length===v.length){if(!zn(b.segments,v)||!Is(b.segments,v,T))return!1;for(const P in E.children)if(!b.children[P]||!Lt(b.children[P],E.children[P],T))return!1;return!0}{const P=v.slice(0,b.segments.length),j=v.slice(b.segments.length);return!!(zn(b.segments,P)&&Is(b.segments,P,T)&&b.children[jt])&&Rr(b.children[jt],E,j,T)}}function Is(b,E,v){return E.every((T,P)=>Wt[v](b[P].parameters,T.parameters))}class Yr{constructor(E,v,T){this.root=E,this.queryParams=v,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=as(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Ct{constructor(E,v){this.segments=E,this.children=v,this.parent=null,re(v,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vn(this)}}class gi{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=as(this.parameters)),this._parameterMap}toString(){return $t(this)}}function zn(b,E){return b.length===E.length&&b.every((v,T)=>v.path===E[T].path)}class mi{}class rt{parse(E){const v=new Dn(E);return new Yr(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${Vn(E.root,!0)}`,T=function(b){const E=Object.keys(b).map(v=>{const T=b[v];return Array.isArray(T)?T.map(P=>`${nr(v)}=${nr(P)}`).join("&"):`${nr(v)}=${nr(T)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);var b;return`${v}${T}${"string"==typeof E.fragment?`#${b=E.fragment,encodeURI(b)}`:""}`}}const qt=new rt;function vn(b){return b.segments.map(E=>$t(E)).join("/")}function Vn(b,E){if(!b.hasChildren())return vn(b);if(E){const v=b.children[jt]?Vn(b.children[jt],!1):"",T=[];return re(b.children,(P,j)=>{j!==jt&&T.push(`${j}:${Vn(P,!1)}`)}),T.length>0?`${v}(${T.join("//")})`:v}{const v=function(b,E){let v=[];return re(b.children,(T,P)=>{P===jt&&(v=v.concat(E(T,P)))}),re(b.children,(T,P)=>{P!==jt&&(v=v.concat(E(T,P)))}),v}(b,(T,P)=>P===jt?[Vn(b.children[jt],!1)]:[`${P}:${Vn(T,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[jt]?`${vn(b)}/${v[0]}`:`${vn(b)}/(${v.join("//")})`}}function Qr(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nr(b){return Qr(b).replace(/%3B/gi,";")}function En(b){return Qr(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kn(b){return decodeURIComponent(b)}function Ks(b){return kn(b.replace(/\+/g,"%20"))}function $t(b){return`${En(b.path)}${function(b){return Object.keys(b).map(E=>`;${En(E)}=${En(b[E])}`).join("")}(b.parameters)}`}const ja=/^[^\/()?;=#]+/;function Jr(b){const E=b.match(ja);return E?E[0]:""}const Xr=/^[^=?&#]+/,Kn=/^[^?&#]+/;class Dn{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(T[jt]=new Ct(E,v)),T}parseSegment(){const E=Jr(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new gi(kn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=Jr(this.remaining);if(!v)return;this.capture(v);let T="";if(this.consumeOptional("=")){const P=Jr(this.remaining);P&&(T=P,this.capture(T))}E[kn(v)]=kn(T)}parseQueryParam(E){const v=function(b){const E=b.match(Xr);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let T="";if(this.consumeOptional("=")){const Y=function(b){const E=b.match(Kn);return E?E[0]:""}(this.remaining);Y&&(T=Y,this.capture(T))}const P=Ks(v),j=Ks(T);if(E.hasOwnProperty(P)){let Y=E[P];Array.isArray(Y)||(Y=[Y],E[P]=Y),Y.push(j)}else E[P]=j}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Jr(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let j;T.indexOf(":")>-1?(j=T.substr(0,T.indexOf(":")),this.capture(j),this.capture(":")):E&&(j=jt);const Y=this.parseChildren();v[j]=1===Object.keys(Y).length?Y[jt]:new Ct([],Y),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class zi{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=cs(E,this._root);return v?v.children.map(T=>T.value):[]}firstChild(E){const v=cs(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=ir(E,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return ir(E,this._root).map(v=>v.value)}}function cs(b,E){if(b===E.value)return E;for(const v of E.children){const T=cs(b,v);if(T)return T}return null}function ir(b,E){if(b===E.value)return[E];for(const v of E.children){const T=ir(b,v);if(T.length)return T.unshift(E),T}return[]}class yi{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Ps(b){const E={};return b&&b.children.forEach(v=>E[v.value.outlet]=v),E}class Ki extends zi{constructor(E,v){super(E),this.snapshot=v,vi(this,E)}toString(){return this.snapshot.toString()}}function $n(b,E){const v=function(b,E){const Y=new Zs([],{},{},"",{},jt,E,null,b.root,-1,{});return new Po("",new yi(Y,[]))}(b,E),T=new ae([new gi("",{})]),P=new ae({}),j=new ae({}),Y=new ae({}),ie=new ae(""),Re=new mr(T,P,Y,ie,j,jt,E,v.root);return Re.snapshot=v.root,new Ki(new yi(Re,[]),v)}class mr{constructor(E,v,T,P,j,Y,ie,Re){this.url=E,this.params=v,this.queryParams=T,this.fragment=P,this.data=j,this.outlet=Y,this.component=ie,this._futureSnapshot=Re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(E=>as(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(E=>as(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _i(b,E="emptyOnly"){const v=b.pathFromRoot;let T=0;if("always"!==E)for(T=v.length-1;T>=1;){const P=v[T],j=v[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(j.component)break;T--}}return function(b){return b.reduce((E,v)=>({params:Object.assign(Object.assign({},E.params),v.params),data:Object.assign(Object.assign({},E.data),v.data),resolve:Object.assign(Object.assign({},E.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(T))}class Zs{constructor(E,v,T,P,j,Y,ie,Re,ot,Qt,Dt){this.url=E,this.params=v,this.queryParams=T,this.fragment=P,this.data=j,this.outlet=Y,this.component=ie,this.routeConfig=Re,this._urlSegment=ot,this._lastPathIndex=Qt,this._resolve=Dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=as(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=as(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Po extends zi{constructor(E,v){super(v),this.url=E,vi(this,v)}toString(){return Ri(this._root)}}function vi(b,E){E.value._routerState=b,E.children.forEach(v=>vi(b,v))}function Ri(b){const E=b.children.length>0?` { ${b.children.map(Ri).join(", ")} } `:"";return`${b.value}${E}`}function ko(b){if(b.snapshot){const E=b.snapshot,v=b._futureSnapshot;b.snapshot=v,Tt(E.queryParams,v.queryParams)||b.queryParams.next(v.queryParams),E.fragment!==v.fragment&&b.fragment.next(v.fragment),Tt(E.params,v.params)||b.params.next(v.params),function(b,E){if(b.length!==E.length)return!1;for(let v=0;v<b.length;++v)if(!Tt(b[v],E[v]))return!1;return!0}(E.url,v.url)||b.url.next(v.url),Tt(E.data,v.data)||b.data.next(v.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Ae(b,E){const v=Tt(b.params,E.params)&&function(b,E){return zn(b,E)&&b.every((v,T)=>Tt(v.parameters,E[T].parameters))}(b.url,E.url);return v&&!(!b.parent!=!E.parent)&&(!b.parent||Ae(b.parent,E.parent))}function Ei(b,E,v){if(v&&b.shouldReuseRoute(E.value,v.value.snapshot)){const T=v.value;T._futureSnapshot=E.value;const P=function(b,E,v){return E.children.map(T=>{for(const P of v.children)if(b.shouldReuseRoute(T.value,P.value.snapshot))return Ei(b,T,P);return Ei(b,T)})}(b,E,v);return new yi(T,P)}{if(b.shouldAttach(E.value)){const j=b.retrieve(E.value);if(null!==j){const Y=j.route;return ls(E,Y),Y}}const T=function(b){return new mr(new ae(b.url),new ae(b.params),new ae(b.queryParams),new ae(b.fragment),new ae(b.data),b.outlet,b.component,b)}(E.value),P=E.children.map(j=>Ei(b,j));return new yi(T,P)}}function ls(b,E){if(b.value.routeConfig!==E.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(b.children.length!==E.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");E.value._futureSnapshot=b.value;for(let v=0;v<b.children.length;++v)ls(b.children[v],E.children[v])}function gt(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function fo(b){return"object"==typeof b&&null!=b&&b.outlets}function Ft(b,E,v,T,P){let j={};return T&&re(T,(Y,ie)=>{j[ie]=Array.isArray(Y)?Y.map(Re=>`${Re}`):`${Y}`}),new Yr(v.root===b?E:po(v.root,b,E),j,P)}function po(b,E,v){const T={};return re(b.children,(P,j)=>{T[j]=P===E?v:po(P,E,v)}),new Ct(b.segments,T)}class Ys{constructor(E,v,T){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=T,E&&T.length>0&&gt(T[0]))throw new Error("Root segment cannot have matrix parameters");const P=T.find(fo);if(P&&P!==te(T))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ia{constructor(E,v,T){this.segmentGroup=E,this.processChildren=v,this.index=T}}function mo(b,E,v){if(b||(b=new Ct([],{})),0===b.segments.length&&b.hasChildren())return cr(b,E,v);const T=function(b,E,v){let T=0,P=E;const j={match:!1,pathIndex:0,commandIndex:0};for(;P<b.segments.length;){if(T>=v.length)return j;const Y=b.segments[P],ie=v[T];if(fo(ie))break;const Re=`${ie}`,ot=T<v.length-1?v[T+1]:null;if(P>0&&void 0===Re)break;if(Re&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!Zi(Re,ot,Y))return j;T+=2}else{if(!Zi(Re,{},Y))return j;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(b,E,v),P=v.slice(T.commandIndex);if(T.match&&T.pathIndex<b.segments.length){const j=new Ct(b.segments.slice(0,T.pathIndex),{});return j.children[jt]=new Ct(b.segments.slice(T.pathIndex),b.children),cr(j,0,P)}return T.match&&0===P.length?new Ct(b.segments,{}):T.match&&!b.hasChildren()?qn(b,E,v):T.match?cr(b,0,P):qn(b,E,v)}function cr(b,E,v){if(0===v.length)return new Ct(b.segments,{});{const T=function(b){return fo(b[0])?b[0].outlets:{[jt]:b}}(v),P={};return re(T,(j,Y)=>{"string"==typeof j&&(j=[j]),null!==j&&(P[Y]=mo(b.children[Y],E,j))}),re(b.children,(j,Y)=>{void 0===T[Y]&&(P[Y]=j)}),new Ct(b.segments,P)}}function qn(b,E,v){const T=b.segments.slice(0,E);let P=0;for(;P<v.length;){const j=v[P];if(fo(j)){const Re=oi(j.outlets);return new Ct(T,Re)}if(0===P&&gt(v[0])){T.push(new gi(b.segments[E].path,ei(v[0]))),P++;continue}const Y=fo(j)?j.outlets[jt]:`${j}`,ie=P<v.length-1?v[P+1]:null;Y&&ie&&gt(ie)?(T.push(new gi(Y,ei(ie))),P+=2):(T.push(new gi(Y,{})),P++)}return new Ct(T,{})}function oi(b){const E={};return re(b,(v,T)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[T]=qn(new Ct([],{}),0,v))}),E}function ei(b){const E={};return re(b,(v,T)=>E[T]=`${v}`),E}function Zi(b,E,v){return b==v.path&&Tt(E,v.parameters)}class yo{constructor(E,v,T,P){this.routeReuseStrategy=E,this.futureState=v,this.currState=T,this.forwardEvent=P}activate(E){const v=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,T,E),ko(this.futureState.root),this.activateChildRoutes(v,T,E)}deactivateChildRoutes(E,v,T){const P=Ps(v);E.children.forEach(j=>{const Y=j.value.outlet;this.deactivateRoutes(j,P[Y],T),delete P[Y]}),re(P,(j,Y)=>{this.deactivateRouteAndItsChildren(j,T)})}deactivateRoutes(E,v,T){const P=E.value,j=v?v.value:null;if(P===j)if(P.component){const Y=T.getContext(P.outlet);Y&&this.deactivateChildRoutes(E,v,Y.children)}else this.deactivateChildRoutes(E,v,T);else j&&this.deactivateRouteAndItsChildren(v,T)}deactivateRouteAndItsChildren(E,v){this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const T=v.getContext(E.value.outlet);if(T&&T.outlet){const P=T.outlet.detach(),j=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:P,route:E,contexts:j})}}deactivateRouteAndOutlet(E,v){const T=v.getContext(E.value.outlet),P=T&&E.value.component?T.children:v,j=Ps(E);for(const Y of Object.keys(j))this.deactivateRouteAndItsChildren(j[Y],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,v,T){const P=Ps(v);E.children.forEach(j=>{this.activateRoutes(j,P[j.value.outlet],T),this.forwardEvent(new Gt(j.value.snapshot))}),E.children.length&&this.forwardEvent(new Hi(E.value.snapshot))}activateRoutes(E,v,T){const P=E.value,j=v?v.value:null;if(ko(P),P===j)if(P.component){const Y=T.getOrCreateContext(P.outlet);this.activateChildRoutes(E,v,Y.children)}else this.activateChildRoutes(E,v,T);else if(P.component){const Y=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ie=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),Y.children.onOutletReAttached(ie.contexts),Y.attachRef=ie.componentRef,Y.route=ie.route.value,Y.outlet&&Y.outlet.attach(ie.componentRef,ie.route.value),sa(ie.route)}else{const ie=function(b){for(let E=b.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(P.snapshot),Re=ie?ie.module.componentFactoryResolver:null;Y.attachRef=null,Y.route=P,Y.resolver=Re,Y.outlet&&Y.outlet.activateWith(P,Re),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,T)}}function sa(b){ko(b.value),b.children.forEach(sa)}class Vo{constructor(E,v){this.routes=E,this.module=v}}function ai(b){return"function"==typeof b}function Oi(b){return b instanceof Yr}const V=Symbol("INITIAL_VALUE");function R(){return(0,pr.w)(b=>function(...b){let E,v;return(0,se.K)(b[b.length-1])&&(v=b.pop()),"function"==typeof b[b.length-1]&&(E=b.pop()),1===b.length&&(0,_e.k)(b[0])&&(b=b[0]),(0,be.n)(b,v).lift(new Te(E))}(b.map(E=>E.pipe((0,Ot.q)(1),(0,Ir.O)(V)))).pipe((0,os.R)((E,v)=>{let T=!1;return v.reduce((P,j,Y)=>P!==V?P:(j===V&&(T=!0),T||!1!==j&&Y!==v.length-1&&!Oi(j)?P:j),E)},V),(0,et.h)(E=>E!==V),(0,gn.U)(E=>Oi(E)?E:!0===E),(0,Ot.q)(1)))}let $=(()=>{class b{}return b.\u0275fac=function(v){return new(v||b)},b.\u0275cmp=x.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,T){1&v&&x._UZ(0,"router-outlet")},directives:function(){return[ku]},encapsulation:2}),b})();function ne(b,E=""){for(let v=0;v<b.length;v++){const T=b[v];ye(T,Be(E,T))}}function ye(b,E){b.children&&ne(b.children,E)}function Be(b,E){return E?b||E.path?b&&!E.path?`${b}/`:!b&&E.path?E.path:`${b}/${E.path}`:"":b}function lt(b){const E=b.children&&b.children.map(lt),v=E?Object.assign(Object.assign({},b),{children:E}):Object.assign({},b);return!v.component&&(E||v.loadChildren)&&v.outlet&&v.outlet!==jt&&(v.component=$),v}function Ht(b){return b.outlet||jt}function yt(b,E){const v=b.filter(T=>Ht(T)===E);return v.push(...b.filter(T=>Ht(T)!==E)),v}const Sn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function nn(b,E,v){var T;if(""===E.path)return"full"===E.pathMatch&&(b.hasChildren()||v.length>0)?Object.assign({},Sn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const j=(E.matcher||ke)(v,b,E);if(!j)return Object.assign({},Sn);const Y={};re(j.posParams,(Re,ot)=>{Y[ot]=Re.path});const ie=j.consumed.length>0?Object.assign(Object.assign({},Y),j.consumed[j.consumed.length-1].parameters):Y;return{matched:!0,consumedSegments:j.consumed,lastChild:j.consumed.length,parameters:ie,positionalParamSegments:null!==(T=j.posParams)&&void 0!==T?T:{}}}function Rn(b,E,v,T,P="corrected"){if(v.length>0&&function(b,E,v){return v.some(T=>Nn(b,E,T)&&Ht(T)!==jt)}(b,v,T)){const Y=new Ct(E,function(b,E,v,T){const P={};P[jt]=T,T._sourceSegment=b,T._segmentIndexShift=E.length;for(const j of v)if(""===j.path&&Ht(j)!==jt){const Y=new Ct([],{});Y._sourceSegment=b,Y._segmentIndexShift=E.length,P[Ht(j)]=Y}return P}(b,E,T,new Ct(v,b.children)));return Y._sourceSegment=b,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:[]}}if(0===v.length&&function(b,E,v){return v.some(T=>Nn(b,E,T))}(b,v,T)){const Y=new Ct(b.segments,function(b,E,v,T,P,j){const Y={};for(const ie of T)if(Nn(b,v,ie)&&!P[Ht(ie)]){const Re=new Ct([],{});Re._sourceSegment=b,Re._segmentIndexShift="legacy"===j?b.segments.length:E.length,Y[Ht(ie)]=Re}return Object.assign(Object.assign({},P),Y)}(b,E,v,T,b.children,P));return Y._sourceSegment=b,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:v}}const j=new Ct(b.segments,b.children);return j._sourceSegment=b,j._segmentIndexShift=E.length,{segmentGroup:j,slicedSegments:v}}function Nn(b,E,v){return(!(b.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function ar(b,E,v,T){return!!(Ht(b)===T||T!==jt&&Nn(E,v,b))&&("**"===b.path||nn(E,b,v).matched)}function Qi(b,E,v){return 0===E.length&&!b.children[v]}class Qs{constructor(E){this.segmentGroup=E||null}}class ki{constructor(E){this.urlTree=E}}function Ji(b){return new he.y(E=>E.error(new Qs(b)))}function _o(b){return new he.y(E=>E.error(new ki(b)))}function Pt(b){return new he.y(E=>E.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${b}'`)))}class Uo{constructor(E,v,T,P,j){this.configLoader=v,this.urlSerializer=T,this.urlTree=P,this.config=j,this.allowRedirects=!0,this.ngModule=E.get(x.h0i)}apply(){const E=Rn(this.urlTree.root,[],[],this.config).segmentGroup,v=new Ct(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,v,jt).pipe((0,gn.U)(j=>this.createUrlTree(Js(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ge(j=>{if(j instanceof ki)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof Qs?this.noMatchError(j):j}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,jt).pipe((0,gn.U)(P=>this.createUrlTree(Js(P),E.queryParams,E.fragment))).pipe(Ge(P=>{throw P instanceof Qs?this.noMatchError(P):P}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,v,T){const P=E.segments.length>0?new Ct([],{[jt]:E}):E;return new Yr(P,v,T)}expandSegmentGroup(E,v,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,v,T).pipe((0,gn.U)(j=>new Ct([],j))):this.expandSegment(E,T,v,T.segments,P,!0)}expandChildren(E,v,T){const P=[];for(const j of Object.keys(T.children))"primary"===j?P.unshift(j):P.push(j);return(0,Ve.D)(P).pipe(Nt(j=>{const Y=T.children[j],ie=yt(v,j);return this.expandSegmentGroup(E,ie,Y,j).pipe((0,gn.U)(Re=>({segment:Re,outlet:j})))}),(0,os.R)((j,Y)=>(j[Y.outlet]=Y.segment,j),{}),function(b,E){const v=arguments.length>=2;return T=>T.pipe(b?(0,et.h)((P,j)=>b(P,j,T)):qr.y,Lr(1),v?(0,Er.d)(E):(0,ra.T)(()=>new Xe.K))}())}expandSegment(E,v,T,P,j,Y){return(0,Ve.D)(T).pipe(Nt(ie=>this.expandSegmentAgainstRoute(E,v,T,ie,P,j,Y).pipe(Ge(ot=>{if(ot instanceof Qs)return(0,qe.of)(null);throw ot}))),(0,Ln.P)(ie=>!!ie),Ge((ie,Re)=>{if(ie instanceof Xe.K||"EmptyError"===ie.name){if(Qi(v,P,j))return(0,qe.of)(new Ct([],{}));throw new Qs(v)}throw ie}))}expandSegmentAgainstRoute(E,v,T,P,j,Y,ie){return ar(P,v,j,Y)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(E,v,P,j,Y):ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,T,P,j,Y):Ji(v):Ji(v)}expandSegmentAgainstRouteUsingRedirect(E,v,T,P,j,Y){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,P,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,T,P,j,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,T,P){const j=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?_o(j):this.lineralizeSegments(T,j).pipe((0,nt.zg)(Y=>{const ie=new Ct(Y,{});return this.expandSegment(E,ie,v,Y,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,T,P,j,Y){const{matched:ie,consumedSegments:Re,lastChild:ot,positionalParamSegments:Qt}=nn(v,P,j);if(!ie)return Ji(v);const Dt=this.applyRedirectCommands(Re,P.redirectTo,Qt);return P.redirectTo.startsWith("/")?_o(Dt):this.lineralizeSegments(P,Dt).pipe((0,nt.zg)(hn=>this.expandSegment(E,v,T,hn.concat(j.slice(ot)),Y,!1)))}matchSegmentAgainstRoute(E,v,T,P,j){if("**"===T.path)return T.loadChildren?(T._loadedConfig?(0,qe.of)(T._loadedConfig):this.configLoader.load(E.injector,T)).pipe((0,gn.U)(hn=>(T._loadedConfig=hn,new Ct(P,{})))):(0,qe.of)(new Ct(P,{}));const{matched:Y,consumedSegments:ie,lastChild:Re}=nn(v,T,P);if(!Y)return Ji(v);const ot=P.slice(Re);return this.getChildConfig(E,T,P).pipe((0,nt.zg)(Dt=>{const hn=Dt.module,Zt=Dt.routes,{segmentGroup:Ii,slicedSegments:Br}=Rn(v,ie,ot,Zt),dr=new Ct(Ii.segments,Ii.children);if(0===Br.length&&dr.hasChildren())return this.expandChildren(hn,Zt,dr).pipe((0,gn.U)(rc=>new Ct(ie,rc)));if(0===Zt.length&&0===Br.length)return(0,qe.of)(new Ct(ie,{}));const zo=Ht(T)===j;return this.expandSegment(hn,dr,Zt,Br,zo?jt:j,!0).pipe((0,gn.U)(Co=>new Ct(ie.concat(Co.segments),Co.children)))}))}getChildConfig(E,v,T){return v.children?(0,qe.of)(new Vo(v.children,E)):v.loadChildren?void 0!==v._loadedConfig?(0,qe.of)(v._loadedConfig):this.runCanLoadGuards(E.injector,v,T).pipe((0,nt.zg)(P=>{return P?this.configLoader.load(E.injector,v).pipe((0,gn.U)(j=>(v._loadedConfig=j,j))):(b=v,new he.y(E=>E.error(us(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))));var b})):(0,qe.of)(new Vo([],E))}runCanLoadGuards(E,v,T){const P=v.canLoad;if(!P||0===P.length)return(0,qe.of)(!0);const j=P.map(Y=>{const ie=E.get(Y);let Re;if((b=ie)&&ai(b.canLoad))Re=ie.canLoad(v,T);else{if(!ai(ie))throw new Error("Invalid CanLoad guard");Re=ie(v,T)}var b;return Se(Re)});return(0,qe.of)(j).pipe(R(),(0,On.b)(Y=>{if(!Oi(Y))return;const ie=us(`Redirecting to "${this.urlSerializer.serialize(Y)}"`);throw ie.url=Y,ie}),(0,gn.U)(Y=>!0===Y))}lineralizeSegments(E,v){let T=[],P=v.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,qe.of)(T);if(P.numberOfChildren>1||!P.children[jt])return Pt(E.redirectTo);P=P.children[jt]}}applyRedirectCommands(E,v,T){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),E,T)}applyRedirectCreatreUrlTree(E,v,T,P){const j=this.createSegmentGroup(E,v.root,T,P);return new Yr(j,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const T={};return re(E,(P,j)=>{if("string"==typeof P&&P.startsWith(":")){const ie=P.substring(1);T[j]=v[ie]}else T[j]=P}),T}createSegmentGroup(E,v,T,P){const j=this.createSegments(E,v.segments,T,P);let Y={};return re(v.children,(ie,Re)=>{Y[Re]=this.createSegmentGroup(E,ie,T,P)}),new Ct(j,Y)}createSegments(E,v,T,P){return v.map(j=>j.path.startsWith(":")?this.findPosParam(E,j,P):this.findOrReturn(j,T))}findPosParam(E,v,T){const P=T[v.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${E}'. Cannot find '${v.path}'.`);return P}findOrReturn(E,v){let T=0;for(const P of v){if(P.path===E.path)return v.splice(T),P;T++}return E}}function Js(b){const E={};for(const T of Object.keys(b.children)){const j=Js(b.children[T]);(j.segments.length>0||j.hasChildren())&&(E[T]=j)}return function(b){if(1===b.numberOfChildren&&b.children[jt]){const E=b.children[jt];return new Ct(b.segments.concat(E.segments),E.children)}return b}(new Ct(b.segments,E))}class $a{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Fe{constructor(E,v){this.component=E,this.route=v}}function un(b,E,v){const T=b._root;return Xi(T,E?E._root:null,v,[T.value])}function Hn(b,E,v){const T=function(b){if(!b)return null;for(let E=b.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(E);return(T?T.module.injector:v).get(b)}function Xi(b,E,v,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const j=Ps(E);return b.children.forEach(Y=>{(function(b,E,v,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const j=b.value,Y=E?E.value:null,ie=v?v.getContext(b.value.outlet):null;if(Y&&j.routeConfig===Y.routeConfig){const Re=function(b,E,v){if("function"==typeof v)return v(b,E);switch(v){case"pathParamsChange":return!zn(b.url,E.url);case"pathParamsOrQueryParamsChange":return!zn(b.url,E.url)||!Tt(b.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ae(b,E)||!Tt(b.queryParams,E.queryParams);default:return!Ae(b,E)}}(Y,j,j.routeConfig.runGuardsAndResolvers);Re?P.canActivateChecks.push(new $a(T)):(j.data=Y.data,j._resolvedData=Y._resolvedData),Xi(b,E,j.component?ie?ie.children:null:v,T,P),Re&&ie&&ie.outlet&&ie.outlet.isActivated&&P.canDeactivateChecks.push(new Fe(ie.outlet.component,Y))}else Y&&ws(E,ie,P),P.canActivateChecks.push(new $a(T)),Xi(b,null,j.component?ie?ie.children:null:v,T,P)})(Y,j[Y.value.outlet],v,T.concat([Y.value]),P),delete j[Y.value.outlet]}),re(j,(Y,ie)=>ws(Y,v.getContext(ie),P)),P}function ws(b,E,v){const T=Ps(b),P=b.value;re(T,(j,Y)=>{ws(j,P.component?E?E.children.getContext(Y):null:E,v)}),v.canDeactivateChecks.push(new Fe(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}class ds{}function Au(b){return new he.y(E=>E.error(b))}class Mc{constructor(E,v,T,P,j,Y){this.rootComponentType=E,this.config=v,this.urlTree=T,this.url=P,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=Y}recognize(){const E=Rn(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,E,jt);if(null===v)return null;const T=new Zs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new yi(T,v),j=new Po(this.url,P);return this.inheritParamsAndData(j._root),j}inheritParamsAndData(E){const v=E.value,T=_i(v,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,v,T){return 0===v.segments.length&&v.hasChildren()?this.processChildren(E,v):this.processSegment(E,v,v.segments,T)}processChildren(E,v){const T=[];for(const j of Object.keys(v.children)){const Y=v.children[j],ie=yt(E,j),Re=this.processSegmentGroup(ie,Y,j);if(null===Re)return null;T.push(...Re)}const P=Ru(T);return P.sort((E,v)=>E.value.outlet===jt?-1:v.value.outlet===jt?1:E.value.outlet.localeCompare(v.value.outlet)),P}processSegment(E,v,T,P){for(const j of E){const Y=this.processSegmentAgainstRoute(j,v,T,P);if(null!==Y)return Y}return Qi(v,T,P)?[]:null}processSegmentAgainstRoute(E,v,T,P){if(E.redirectTo||!ar(E,v,T,P))return null;let j,Y=[],ie=[];if("**"===E.path){const Zt=T.length>0?te(T).parameters:{};j=new Zs(T,Zt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xs(E),Ht(E),E.component,E,Wa(v),Io(v)+T.length,Mu(E))}else{const Zt=nn(v,E,T);if(!Zt.matched)return null;Y=Zt.consumedSegments,ie=T.slice(Zt.lastChild),j=new Zs(Y,Zt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xs(E),Ht(E),E.component,E,Wa(v),Io(v)+Y.length,Mu(E))}const Re=(b=E).children?b.children:b.loadChildren?b._loadedConfig.routes:[],{segmentGroup:ot,slicedSegments:Qt}=Rn(v,Y,ie,Re.filter(Zt=>void 0===Zt.redirectTo),this.relativeLinkResolution);var b;if(0===Qt.length&&ot.hasChildren()){const Zt=this.processChildren(Re,ot);return null===Zt?null:[new yi(j,Zt)]}if(0===Re.length&&0===Qt.length)return[new yi(j,[])];const Dt=Ht(E)===P,hn=this.processSegment(Re,ot,Qt,Dt?jt:P);return null===hn?null:[new yi(j,hn)]}}function Eo(b){const E=b.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Ru(b){const E=[],v=new Set;for(const T of b){if(!Eo(T)){E.push(T);continue}const P=E.find(j=>T.value.routeConfig===j.value.routeConfig);void 0!==P?(P.children.push(...T.children),v.add(P)):E.push(T)}for(const T of v){const P=Ru(T.children);E.push(new yi(T.value,P))}return E.filter(T=>!v.has(T))}function Wa(b){let E=b;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Io(b){let E=b,v=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift?E._segmentIndexShift:0;return v-1}function Xs(b){return b.data||{}}function Mu(b){return b.resolve||{}}function Go(b){return(0,pr.w)(E=>{const v=b(E);return v?(0,Ve.D)(v).pipe((0,gn.U)(()=>E)):(0,qe.of)(E)})}class Un extends class{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const za=new x.OlP("ROUTES");class Pc{constructor(E,v,T,P){this.loader=E,this.compiler=v,this.onLoadStartListener=T,this.onLoadEndListener=P}load(E,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const P=this.loadModuleFactory(v.loadChildren).pipe((0,gn.U)(j=>{this.onLoadEndListener&&this.onLoadEndListener(v);const Y=j.create(E);return new Vo(an(Y.injector.get(za,void 0,x.XFs.Self|x.XFs.Optional)).map(lt),Y)}),Ge(j=>{throw v._loader$=void 0,j}));return v._loader$=new Bt.c(P,()=>new W.xQ).pipe((0,We.x)()),v._loader$}loadModuleFactory(E){return"string"==typeof E?(0,Ve.D)(this.loader.load(E)):Se(E()).pipe((0,nt.zg)(v=>v instanceof x.YKP?(0,qe.of)(v):(0,Ve.D)(this.compiler.compileModuleAsync(v))))}}class eo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wo,this.attachRef=null}}class wo{constructor(){this.contexts=new Map}onChildOutletCreated(E,v){const T=this.getOrCreateContext(E);T.outlet=v,this.contexts.set(E,T)}onChildOutletDestroyed(E){const v=this.getContext(E);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let v=this.getContext(E);return v||(v=new eo,this.contexts.set(E,v)),v}getContext(E){return this.contexts.get(E)||null}}class ec{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function ks(b){throw b}function Ka(b,E,v){return E.parse("/")}function Mr(b,E){return(0,qe.of)(null)}const Wo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class b{constructor(v,T,P,j,Y,ie,Re,ot){this.rootComponentType=v,this.urlSerializer=T,this.rootContexts=P,this.location=j,this.config=ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new W.xQ,this.errorHandler=ks,this.malformedUriErrorHandler=Ka,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mr,afterPreactivation:Mr},this.urlHandlingStrategy=new ec,this.routeReuseStrategy=new Un,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Y.get(x.h0i),this.console=Y.get(x.c2e);const hn=Y.get(x.R0b);this.isNgZoneEnabled=hn instanceof x.R0b&&x.R0b.isInAngularZone(),this.resetConfig(ot),this.currentUrlTree=new Yr(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pc(ie,Re,Zt=>this.triggerEvent(new wt(Zt)),Zt=>this.triggerEvent(new Et(Zt))),this.routerState=$n(this.currentUrlTree,this.rootComponentType),this.transitions=new ae({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const T=this.events;return v.pipe((0,et.h)(P=>0!==P.id),(0,gn.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,pr.w)(P=>{let j=!1,Y=!1;return(0,qe.of)(P).pipe((0,On.b)(ie=>{this.currentNavigation={id:ie.id,initialUrl:ie.currentRawUrl,extractedUrl:ie.extractedUrl,trigger:ie.source,extras:ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,pr.w)(ie=>{const Re=this.browserUrlTree.toString(),ot=!this.navigated||ie.extractedUrl.toString()!==Re||Re!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ot)&&this.urlHandlingStrategy.shouldProcessUrl(ie.rawUrl))return bs(ie.source)&&(this.browserUrlTree=ie.extractedUrl),(0,qe.of)(ie).pipe((0,pr.w)(Dt=>{const hn=this.transitions.getValue();return T.next(new _n(Dt.id,this.serializeUrl(Dt.extractedUrl),Dt.source,Dt.restoredState)),hn!==this.transitions.getValue()?Le.E:Promise.resolve(Dt)}),function(b,E,v,T){return(0,pr.w)(P=>function(b,E,v,T,P){return new Uo(b,E,v,T,P).apply()}(b,E,v,P.extractedUrl,T).pipe((0,gn.U)(j=>Object.assign(Object.assign({},P),{urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,On.b)(Dt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Dt.urlAfterRedirects})}),function(b,E,v,T,P){return(0,nt.zg)(j=>function(b,E,v,T,P="emptyOnly",j="legacy"){try{const Y=new Mc(b,E,v,T,P,j).recognize();return null===Y?Au(new ds):(0,qe.of)(Y)}catch(Y){return Au(Y)}}(b,E,j.urlAfterRedirects,v(j.urlAfterRedirects),T,P).pipe((0,gn.U)(Y=>Object.assign(Object.assign({},j),{targetSnapshot:Y}))))}(this.rootComponentType,this.config,Dt=>this.serializeUrl(Dt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,On.b)(Dt=>{"eager"===this.urlUpdateStrategy&&(Dt.extras.skipLocationChange||this.setBrowserUrl(Dt.urlAfterRedirects,Dt),this.browserUrlTree=Dt.urlAfterRedirects);const hn=new _t(Dt.id,this.serializeUrl(Dt.extractedUrl),this.serializeUrl(Dt.urlAfterRedirects),Dt.targetSnapshot);T.next(hn)}));if(ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:hn,extractedUrl:Zt,source:Ii,restoredState:Br,extras:dr}=ie,zo=new _n(hn,this.serializeUrl(Zt),Ii,Br);T.next(zo);const jr=$n(Zt,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},ie),{targetSnapshot:jr,urlAfterRedirects:Zt,extras:Object.assign(Object.assign({},dr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ie.rawUrl,this.browserUrlTree=ie.urlAfterRedirects,ie.resolve(null),Le.E}),Go(ie=>{const{targetSnapshot:Re,id:ot,extractedUrl:Qt,rawUrl:Dt,extras:{skipLocationChange:hn,replaceUrl:Zt}}=ie;return this.hooks.beforePreactivation(Re,{navigationId:ot,appliedUrlTree:Qt,rawUrlTree:Dt,skipLocationChange:!!hn,replaceUrl:!!Zt})}),(0,On.b)(ie=>{const Re=new pi(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot);this.triggerEvent(Re)}),(0,gn.U)(ie=>Object.assign(Object.assign({},ie),{guards:un(ie.targetSnapshot,ie.currentSnapshot,this.rootContexts)})),function(b,E){return(0,nt.zg)(v=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:j,canDeactivateChecks:Y}}=v;return 0===Y.length&&0===j.length?(0,qe.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function(b,E,v,T){return(0,Ve.D)(b).pipe((0,nt.zg)(P=>function(b,E,v,T,P){const j=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,qe.of)(!0);const Y=j.map(ie=>{const Re=Hn(ie,E,P);let ot;if(function(b){return b&&ai(b.canDeactivate)}(Re))ot=Se(Re.canDeactivate(b,E,v,T));else{if(!ai(Re))throw new Error("Invalid CanDeactivate guard");ot=Se(Re(b,E,v,T))}return ot.pipe((0,Ln.P)())});return(0,qe.of)(Y).pipe(R())}(P.component,P.route,v,E,T)),(0,Ln.P)(P=>!0!==P,!0))}(Y,T,P,b).pipe((0,nt.zg)(ie=>ie&&function(b){return"boolean"==typeof b}(ie)?function(b,E,v,T){return(0,Ve.D)(E).pipe(Nt(P=>(0,Yt.z)(function(b,E){return null!==b&&E&&E(new gr(b)),(0,qe.of)(!0)}(P.route.parent,T),function(b,E){return null!==b&&E&&E(new Gi(b)),(0,qe.of)(!0)}(P.route,T),function(b,E,v){const T=E[E.length-1],j=E.slice(0,E.length-1).reverse().map(Y=>function(b){const E=b.routeConfig?b.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:b,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>ft(()=>{const ie=Y.guards.map(Re=>{const ot=Hn(Re,Y.node,v);let Qt;if(function(b){return b&&ai(b.canActivateChild)}(ot))Qt=Se(ot.canActivateChild(T,b));else{if(!ai(ot))throw new Error("Invalid CanActivateChild guard");Qt=Se(ot(T,b))}return Qt.pipe((0,Ln.P)())});return(0,qe.of)(ie).pipe(R())}));return(0,qe.of)(j).pipe(R())}(b,P.path,v),function(b,E,v){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,qe.of)(!0);const P=T.map(j=>ft(()=>{const Y=Hn(j,E,v);let ie;if(function(b){return b&&ai(b.canActivate)}(Y))ie=Se(Y.canActivate(E,b));else{if(!ai(Y))throw new Error("Invalid CanActivate guard");ie=Se(Y(E,b))}return ie.pipe((0,Ln.P)())}));return(0,qe.of)(P).pipe(R())}(b,P.route,v))),(0,Ln.P)(P=>!0!==P,!0))}(T,j,b,E):(0,qe.of)(ie)),(0,gn.U)(ie=>Object.assign(Object.assign({},v),{guardsResult:ie})))})}(this.ngModule.injector,ie=>this.triggerEvent(ie)),(0,On.b)(ie=>{if(Oi(ie.guardsResult)){const ot=us(`Redirecting to "${this.serializeUrl(ie.guardsResult)}"`);throw ot.url=ie.guardsResult,ot}const Re=new si(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot,!!ie.guardsResult);this.triggerEvent(Re)}),(0,et.h)(ie=>!!ie.guardsResult||(this.restoreHistory(ie),this.cancelNavigationTransition(ie,""),!1)),Go(ie=>{if(ie.guards.canActivateChecks.length)return(0,qe.of)(ie).pipe((0,On.b)(Re=>{const ot=new xi(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(ot)}),(0,pr.w)(Re=>{let ot=!1;return(0,qe.of)(Re).pipe(function(b,E){return(0,nt.zg)(v=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,qe.of)(v);let j=0;return(0,Ve.D)(P).pipe(Nt(Y=>function(b,E,v,T){return function(b,E,v,T){const P=Object.keys(b);if(0===P.length)return(0,qe.of)({});const j={};return(0,Ve.D)(P).pipe((0,nt.zg)(Y=>function(b,E,v,T){const P=Hn(b,E,T);return Se(P.resolve?P.resolve(E,v):P(E,v))}(b[Y],E,v,T).pipe((0,On.b)(ie=>{j[Y]=ie}))),Lr(1),(0,nt.zg)(()=>Object.keys(j).length===P.length?(0,qe.of)(j):Le.E))}(b._resolve,b,E,T).pipe((0,gn.U)(j=>(b._resolvedData=j,b.data=Object.assign(Object.assign({},b.data),_i(b,v).resolve),null)))}(Y.route,T,b,E)),(0,On.b)(()=>j++),Lr(1),(0,nt.zg)(Y=>j===P.length?(0,qe.of)(v):Le.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,On.b)({next:()=>ot=!0,complete:()=>{ot||(this.restoreHistory(Re),this.cancelNavigationTransition(Re,"At least one route resolver didn't emit any value."))}}))}),(0,On.b)(Re=>{const ot=new jn(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(ot)}))}),Go(ie=>{const{targetSnapshot:Re,id:ot,extractedUrl:Qt,rawUrl:Dt,extras:{skipLocationChange:hn,replaceUrl:Zt}}=ie;return this.hooks.afterPreactivation(Re,{navigationId:ot,appliedUrlTree:Qt,rawUrlTree:Dt,skipLocationChange:!!hn,replaceUrl:!!Zt})}),(0,gn.U)(ie=>{const Re=function(b,E,v){const T=Ei(b,E._root,v?v._root:void 0);return new Ki(T,E)}(this.routeReuseStrategy,ie.targetSnapshot,ie.currentRouterState);return Object.assign(Object.assign({},ie),{targetRouterState:Re})}),(0,On.b)(ie=>{this.currentUrlTree=ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ie.urlAfterRedirects,ie.rawUrl),this.routerState=ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ie),this.browserUrlTree=ie.urlAfterRedirects)}),((b,E,v)=>(0,gn.U)(T=>(new yo(E,T.targetRouterState,T.currentRouterState,v).activate(b),T)))(this.rootContexts,this.routeReuseStrategy,ie=>this.triggerEvent(ie)),(0,On.b)({next(){j=!0},complete(){j=!0}}),function(b){return E=>E.lift(new tn(b))}(()=>{var ie;if(!j&&!Y){const Re=`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(P),this.cancelNavigationTransition(P,Re)):this.cancelNavigationTransition(P,Re)}(null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.id)===P.id&&(this.currentNavigation=null)}),Ge(ie=>{if(Y=!0,function(b){return b&&b[dt]}(ie)){const Re=Oi(ie.url);Re||(this.navigated=!0,this.restoreHistory(P,!0));const ot=new vs(P.id,this.serializeUrl(P.extractedUrl),ie.message);T.next(ot),Re?setTimeout(()=>{const Qt=this.urlHandlingStrategy.merge(ie.url,this.rawUrlTree),Dt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bs(P.source)};this.scheduleNavigation(Qt,"imperative",null,Dt,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const Re=new Es(P.id,this.serializeUrl(P.extractedUrl),ie);T.next(Re);try{P.resolve(this.errorHandler(ie))}catch(ot){P.reject(ot)}}return Le.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}getTransition(){const v=this.transitions.value;return v.urlAfterRedirects=this.browserUrlTree,v}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const T=this.extractLocationChangeInfoFromEvent(v);this.shouldScheduleNavigation(this.lastLocationChangeInfo,T)&&setTimeout(()=>{const{source:P,state:j,urlTree:Y}=T,ie={replaceUrl:!0};if(j){const Re=Object.assign({},j);delete Re.navigationId,delete Re.\u0275routerPageId,0!==Object.keys(Re).length&&(ie.state=Re)}this.scheduleNavigation(Y,P,j,ie)},0),this.lastLocationChangeInfo=T}))}extractLocationChangeInfoFromEvent(v){var T;return{source:"popstate"===v.type?"popstate":"hashchange",urlTree:this.parseUrl(v.url),state:(null===(T=v.state)||void 0===T?void 0:T.navigationId)?v.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(v,T){if(!v)return!0;const P=T.urlTree.toString()===v.urlTree.toString();return T.transitionId!==v.transitionId||!P||!("hashchange"===T.source&&"popstate"===v.source||"popstate"===T.source&&"hashchange"===v.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){ne(v),this.config=v.map(lt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,T={}){const{relativeTo:P,queryParams:j,fragment:Y,queryParamsHandling:ie,preserveFragment:Re}=T,ot=P||this.routerState.root,Qt=Re?this.currentUrlTree.fragment:Y;let Dt=null;switch(ie){case"merge":Dt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),j);break;case"preserve":Dt=this.currentUrlTree.queryParams;break;default:Dt=j||null}return null!==Dt&&(Dt=this.removeEmptyProps(Dt)),function(b,E,v,T,P){if(0===v.length)return Ft(E.root,E.root,E,T,P);const j=function(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Ys(!0,0,b);let E=0,v=!1;const T=b.reduce((P,j,Y)=>{if("object"==typeof j&&null!=j){if(j.outlets){const ie={};return re(j.outlets,(Re,ot)=>{ie[ot]="string"==typeof Re?Re.split("/"):Re}),[...P,{outlets:ie}]}if(j.segmentPath)return[...P,j.segmentPath]}return"string"!=typeof j?[...P,j]:0===Y?(j.split("/").forEach((ie,Re)=>{0==Re&&"."===ie||(0==Re&&""===ie?v=!0:".."===ie?E++:""!=ie&&P.push(ie))}),P):[...P,j]},[]);return new Ys(v,E,T)}(v);if(j.toRoot())return Ft(E.root,new Ct([],{}),E,T,P);const Y=function(b,E,v){if(b.isAbsolute)return new ia(E.root,!0,0);if(-1===v.snapshot._lastPathIndex){const j=v.snapshot._urlSegment;return new ia(j,j===E.root,0)}const T=gt(b.commands[0])?0:1;return function(b,E,v){let T=b,P=E,j=v;for(;j>P;){if(j-=P,T=T.parent,!T)throw new Error("Invalid number of '../'");P=T.segments.length}return new ia(T,!1,P-j)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+T,b.numberOfDoubleDots)}(j,E,b),ie=Y.processChildren?cr(Y.segmentGroup,Y.index,j.commands):mo(Y.segmentGroup,Y.index,j.commands);return Ft(Y.segmentGroup,ie,E,T,P)}(ot,this.currentUrlTree,v,Dt,null!=Qt?Qt:null)}navigateByUrl(v,T={skipLocationChange:!1}){const P=Oi(v)?v:this.parseUrl(v),j=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,T)}navigate(v,T={skipLocationChange:!1}){return function(b){for(let E=0;E<b.length;E++){const v=b[E];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${E}`)}}(v),this.navigateByUrl(this.createUrlTree(v,T),T)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let T;try{T=this.urlSerializer.parse(v)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return T}isActive(v,T){let P;if(P=!0===T?Object.assign({},Wo):!1===T?Object.assign({},bo):T,Oi(v))return bn(this.currentUrlTree,v,P);const j=this.parseUrl(v);return bn(this.currentUrlTree,j,P)}removeEmptyProps(v){return Object.keys(v).reduce((T,P)=>{const j=v[P];return null!=j&&(T[P]=j),T},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new xn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,T,P,j,Y){var ie,Re;if(this.disposed)return Promise.resolve(!1);const ot=this.getTransition(),Qt=bs(T)&&ot&&!bs(ot.source),Zt=(this.lastSuccessfulId===ot.id||this.currentNavigation?ot.rawUrl:ot.urlAfterRedirects).toString()===v.toString();if(Qt&&Zt)return Promise.resolve(!0);let Ii,Br,dr;Y?(Ii=Y.resolve,Br=Y.reject,dr=Y.promise):dr=new Promise((Co,rc)=>{Ii=Co,Br=rc});const zo=++this.navigationId;let jr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),jr=P&&P.\u0275routerPageId?P.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?null!==(ie=this.browserPageId)&&void 0!==ie?ie:0:(null!==(Re=this.browserPageId)&&void 0!==Re?Re:0)+1):jr=0,this.setTransition({id:zo,targetPageId:jr,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:j,resolve:Ii,reject:Br,promise:dr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dr.catch(Co=>Promise.reject(Co))}setBrowserUrl(v,T){const P=this.urlSerializer.serialize(v),j=Object.assign(Object.assign({},T.extras.state),this.generateNgRouterState(T.id,T.targetPageId));this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",j):this.location.go(P,"",j)}restoreHistory(v,T=!1){var P,j;if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===Y?this.currentUrlTree===(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)&&0===Y&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,T){const P=new vs(v.id,this.serializeUrl(v.extractedUrl),T);this.triggerEvent(P),v.resolve(!1)}generateNgRouterState(v,T){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:T}:{navigationId:v}}}return b.\u0275fac=function(v){return new(v||b)(x.LFG(x.DyG),x.LFG(mi),x.LFG(wo),x.LFG(S.Ye),x.LFG(x.zs3),x.LFG(x.v3s),x.LFG(x.Sil),x.LFG(void 0))},b.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac}),b})();function bs(b){return"imperative"!==b}let qa=(()=>{class b{constructor(v,T,P,j,Y){this.router=v,this.route=T,this.commands=[],this.onChanges=new W.xQ,null==P&&j.setAttribute(Y.nativeElement,"tabindex","0")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:[]}onClick(){const v={skipLocationChange:Gn(this.skipLocationChange),replaceUrl:Gn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gn(this.preserveFragment)})}}return b.\u0275fac=function(v){return new(v||b)(x.Y36(br),x.Y36(mr),x.$8M("tabindex"),x.Y36(x.Qsj),x.Y36(x.SBq))},b.\u0275dir=x.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,T){1&v&&x.NdJ("click",function(){return T.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[x.TTD]}),b})(),Pu=(()=>{class b{constructor(v,T,P){this.router=v,this.route=T,this.locationStrategy=P,this.commands=[],this.onChanges=new W.xQ,this.subscription=v.events.subscribe(j=>{j instanceof xn&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:[]}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,T,P,j,Y){if(0!==v||T||P||j||Y||"string"==typeof this.target&&"_self"!=this.target)return!0;const ie={skipLocationChange:Gn(this.skipLocationChange),replaceUrl:Gn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ie),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gn(this.preserveFragment)})}}return b.\u0275fac=function(v){return new(v||b)(x.Y36(br),x.Y36(mr),x.Y36(S.S$))},b.\u0275dir=x.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,T){1&v&&x.NdJ("click",function(j){return T.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&v&&(x.Ikx("href",T.href,x.LSH),x.uIk("target",T.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[x.TTD]}),b})();function Gn(b){return""===b||!!b}let pa=(()=>{class b{constructor(v,T,P,j,Y,ie){this.router=v,this.element=T,this.renderer=P,this.cdr=j,this.link=Y,this.linkWithHref=ie,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=v.events.subscribe(Re=>{Re instanceof xn&&this.update()})}ngAfterContentInit(){(0,qe.of)(this.links.changes,this.linksWithHrefs.changes,(0,qe.of)(null)).pipe((0,Ar.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var v;null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe();const T=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,Ve.D)(T).pipe((0,Ar.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(v){const T=Array.isArray(v)?v:v.split(" ");this.classes=T.filter(P=>!!P)}ngOnChanges(v){this.update()}ngOnDestroy(){var v;this.routerEventsSubscription.unsubscribe(),null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(T=>{v?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}))})}isLinkActive(v){const T=function(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>v.isActive(P.urlTree,T)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return b.\u0275fac=function(v){return new(v||b)(x.Y36(br),x.Y36(x.SBq),x.Y36(x.Qsj),x.Y36(x.sBO),x.Y36(qa,8),x.Y36(Pu,8))},b.\u0275dir=x.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(v,T,P){if(1&v&&(x.Suo(P,qa,5),x.Suo(P,Pu,5)),2&v){let j;x.iGM(j=x.CRH())&&(T.links=j),x.iGM(j=x.CRH())&&(T.linksWithHrefs=j)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[x.TTD]}),b})(),ku=(()=>{class b{constructor(v,T,P,j,Y){this.parentContexts=v,this.location=T,this.resolver=P,this.changeDetector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new x.vpe,this.deactivateEvents=new x.vpe,this.name=j||jt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,v}attach(v,T){this.activated=v,this._activatedRoute=T,this.location.insert(v.hostView)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,T){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const Y=(T=T||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),ie=this.parentContexts.getOrCreateContext(this.name).children,Re=new Fu(v,ie,this.location.injector);this.activated=this.location.createComponent(Y,this.location.length,Re),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(v){return new(v||b)(x.Y36(wo),x.Y36(x.s_b),x.Y36(x._Vd),x.$8M("name"),x.Y36(x.sBO))},b.\u0275dir=x.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),b})();class Fu{constructor(E,v,T){this.route=E,this.childContexts=v,this.parent=T}get(E,v){return E===mr?this.route:E===wo?this.childContexts:this.parent.get(E,v)}}class Za{}class Vu{preload(E,v){return(0,qe.of)(null)}}let Ya=(()=>{class b{constructor(v,T,P,j,Y){this.router=v,this.injector=j,this.preloadingStrategy=Y,this.loader=new Pc(T,P,ot=>v.triggerEvent(new wt(ot)),ot=>v.triggerEvent(new Et(ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(v=>v instanceof xn),Nt(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(x.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,T){const P=[];for(const j of T)if(j.loadChildren&&!j.canLoad&&j._loadedConfig){const Y=j._loadedConfig;P.push(this.processRoutes(Y.module,Y.routes))}else j.loadChildren&&!j.canLoad?P.push(this.preloadConfig(v,j)):j.children&&P.push(this.processRoutes(v,j.children));return(0,Ve.D)(P).pipe((0,Ar.J)(),(0,gn.U)(j=>{}))}preloadConfig(v,T){return this.preloadingStrategy.preload(T,()=>(T._loadedConfig?(0,qe.of)(T._loadedConfig):this.loader.load(v.injector,T)).pipe((0,nt.zg)(j=>(T._loadedConfig=j,this.processRoutes(j.module,j.routes)))))}}return b.\u0275fac=function(v){return new(v||b)(x.LFG(br),x.LFG(x.v3s),x.LFG(x.Sil),x.LFG(x.zs3),x.LFG(Za))},b.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac}),b})(),Fs=(()=>{class b{constructor(v,T,P={}){this.router=v,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof xn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof mn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,T){this.router.triggerEvent(new mn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(v){return new(v||b)(x.LFG(br),x.LFG(S.EM),x.LFG(void 0))},b.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac}),b})();const ns=new x.OlP("ROUTER_CONFIGURATION"),Vi=new x.OlP("ROUTER_FORROOT_GUARD"),ga=[S.Ye,{provide:mi,useClass:rt},{provide:br,useFactory:function(b,E,v,T,P,j,Y,ie={},Re,ot){const Qt=new br(null,b,E,v,T,P,j,an(Y));return Re&&(Qt.urlHandlingStrategy=Re),ot&&(Qt.routeReuseStrategy=ot),function(b,E){b.errorHandler&&(E.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(E.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(E.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(E.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(E.urlUpdateStrategy=b.urlUpdateStrategy)}(ie,Qt),ie.enableTracing&&Qt.events.subscribe(Dt=>{var hn,Zt;null===(hn=console.group)||void 0===hn||hn.call(console,`Router Event: ${Dt.constructor.name}`),console.log(Dt.toString()),console.log(Dt),null===(Zt=console.groupEnd)||void 0===Zt||Zt.call(console)}),Qt},deps:[mi,wo,S.Ye,x.zs3,x.v3s,x.Sil,za,ns,[class{},new x.FiY],[class{},new x.FiY]]},wo,{provide:mr,useFactory:function(b){return b.routerState.root},deps:[br]},{provide:x.v3s,useClass:x.EAV},Ya,Vu,class{preload(E,v){return v().pipe(Ge(()=>(0,qe.of)(null)))}},{provide:ns,useValue:{enableTracing:!1}}];function to(){return new x.PXZ("Router",br)}let Qa=(()=>{class b{constructor(v,T){}static forRoot(v,T){return{ngModule:b,providers:[ga,Bu(v),{provide:Vi,useFactory:hs,deps:[[br,new x.FiY,new x.tp0]]},{provide:ns,useValue:T||{}},{provide:S.S$,useFactory:Do,deps:[S.lw,[new x.tBr(S.mr),new x.FiY],ns]},{provide:Fs,useFactory:Ja,deps:[br,S.EM,ns]},{provide:Za,useExisting:T&&T.preloadingStrategy?T.preloadingStrategy:Vu},{provide:x.PXZ,multi:!0,useFactory:to},[va,{provide:x.ip1,multi:!0,useFactory:Ea,deps:[va]},{provide:Ui,useFactory:Ds,deps:[va]},{provide:x.tb,multi:!0,useExisting:Ui}]]}}static forChild(v){return{ngModule:b,providers:[Bu(v)]}}}return b.\u0275fac=function(v){return new(v||b)(x.LFG(Vi,8),x.LFG(br,8))},b.\u0275mod=x.oAB({type:b}),b.\u0275inj=x.cJS({}),b})();function Ja(b,E,v){return v.scrollOffset&&E.setOffset(v.scrollOffset),new Fs(b,E,v)}function Do(b,E,v={}){return v.useHash?new S.Do(b,E):new S.b0(b,E)}function hs(b){return"guarded"}function Bu(b){return[{provide:x.deG,multi:!0,useValue:b},{provide:za,multi:!0,useValue:b}]}let va=(()=>{class b{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new W.xQ}appInitializer(){return this.injector.get(S.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let T=null;const P=new Promise(ie=>T=ie),j=this.injector.get(br),Y=this.injector.get(ns);return"disabled"===Y.initialNavigation?(j.setUpLocationChangeListener(),T(!0)):"enabled"===Y.initialNavigation||"enabledBlocking"===Y.initialNavigation?(j.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,T(!0),this.resultOfPreactivationDone),j.initialNavigation()):T(!0),P})}bootstrapListener(v){const T=this.injector.get(ns),P=this.injector.get(Ya),j=this.injector.get(Fs),Y=this.injector.get(br),ie=this.injector.get(x.z2F);v===ie.components[0]&&(("enabledNonBlocking"===T.initialNavigation||void 0===T.initialNavigation)&&Y.initialNavigation(),P.setUpPreloading(),j.init(),Y.resetRootComponentType(ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(v){return new(v||b)(x.LFG(x.zs3))},b.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac}),b})();function Ea(b){return b.appInitializer.bind(b)}function Ds(b){return b.bootstrapListener.bind(b)}const Ui=new x.OlP("Router Initializer")},3854:(Je,Ie,B)=>{"use strict";B.d(Ie,{BH:()=>Vr,LL:()=>Ai,ZR:()=>qr,zI:()=>Ye,US:()=>se,tV:()=>ue,L:()=>oe,$s:()=>ze,r3:()=>Ln,Sg:()=>ra,ne:()=>si,vZ:()=>wn,ZB:()=>q,pd:()=>_t,aH:()=>Lr,Pz:()=>fi,m9:()=>an,z$:()=>de,jU:()=>Ne,ru:()=>Te,xb:()=>We,w1:()=>Le,hl:()=>Yt,uI:()=>be,UG:()=>Pe,b$:()=>je,G6:()=>Xe,xO:()=>vs,zd:()=>Es,eu:()=>Bt});const fe=function(te){const J=[];let re=0;for(let Se=0;Se<te.length;Se++){let Ee=te.charCodeAt(Se);Ee<128?J[re++]=Ee:Ee<2048?(J[re++]=Ee>>6|192,J[re++]=63&Ee|128):55296==(64512&Ee)&&Se+1<te.length&&56320==(64512&te.charCodeAt(Se+1))?(Ee=65536+((1023&Ee)<<10)+(1023&te.charCodeAt(++Se)),J[re++]=Ee>>18|240,J[re++]=Ee>>12&63|128,J[re++]=Ee>>6&63|128,J[re++]=63&Ee|128):(J[re++]=Ee>>12|224,J[re++]=Ee>>6&63|128,J[re++]=63&Ee|128)}return J},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,J){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let Ee=0;Ee<te.length;Ee+=3){const pt=te[Ee],Wt=Ee+1<te.length,bn=Wt?te[Ee+1]:0,xr=Ee+2<te.length,wr=xr?te[Ee+2]:0;let Rr=(15&bn)<<2|wr>>6,Is=63&wr;xr||(Is=64,Wt||(Rr=64)),Se.push(re[pt>>2],re[(3&pt)<<4|bn>>4],re[Rr],re[Is])}return Se.join("")},encodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(te):this.encodeByteArray(fe(te),J)},decodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(te):function(te){const J=[];let re=0,Se=0;for(;re<te.length;){const Ee=te[re++];if(Ee<128)J[Se++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const pt=te[re++];J[Se++]=String.fromCharCode((31&Ee)<<6|63&pt)}else if(Ee>239&&Ee<365){const xr=((7&Ee)<<18|(63&te[re++])<<12|(63&te[re++])<<6|63&te[re++])-65536;J[Se++]=String.fromCharCode(55296+(xr>>10)),J[Se++]=String.fromCharCode(56320+(1023&xr))}else{const pt=te[re++],Wt=te[re++];J[Se++]=String.fromCharCode((15&Ee)<<12|(63&pt)<<6|63&Wt)}}return J.join("")}(this.decodeStringToByteArray(te,J))},decodeStringToByteArray(te,J){this.init_();const re=J?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let Ee=0;Ee<te.length;){const pt=re[te.charAt(Ee++)],bn=Ee<te.length?re[te.charAt(Ee)]:0;++Ee;const wr=Ee<te.length?re[te.charAt(Ee)]:64;++Ee;const Lt=Ee<te.length?re[te.charAt(Ee)]:64;if(++Ee,null==pt||null==bn||null==wr||null==Lt)throw Error();Se.push(pt<<2|bn>>4),64!==wr&&(Se.push(bn<<4&240|wr>>2),64!==Lt&&Se.push(wr<<6&192|Lt))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},oe=function(te){return function(te){const J=fe(te);return se.encodeByteArray(J,!0)}(te).replace(/\./g,"")},ue=function(te){try{return se.decodeString(te,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function q(te,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return J}for(const re in J)!J.hasOwnProperty(re)||!he(re)||(te[re]=q(te[re],J[re]));return te}function he(te){return"__proto__"!==te}function de(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(te){return!1}}function Ne(){return"object"==typeof self&&self.self===self}function Te(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const te=de();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function Xe(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yt(){return"object"==typeof indexedDB}function Bt(){return new Promise((te,J)=>{try{let re=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(Se);Ee.onsuccess=()=>{Ee.result.close(),re||self.indexedDB.deleteDatabase(Se),te(!0)},Ee.onupgradeneeded=()=>{re=!1},Ee.onerror=()=>{var pt;J((null===(pt=Ee.error)||void 0===pt?void 0:pt.message)||"")}}catch(re){J(re)}})}function Ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Nt=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if("undefined"==typeof document)return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(re){return}const J=te&&ue(te[1]);return J&&JSON.parse(J)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Lr=()=>{var te;return null===(te=Nt())||void 0===te?void 0:te.config},fi=te=>{var J;return null===(J=Nt())||void 0===J?void 0:J[`_${te}`]};class Vr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,re)=>{this.resolve=J,this.reject=re})}wrapCallback(J){return(re,Se)=>{re?this.reject(re):this.resolve(Se),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(re):J(re,Se))}}}function ra(te,J){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=J||"demo-project",Ee=te.iat||0,pt=te.sub||te.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Wt=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},te);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Wt)),""].join(".")}class qr extends Error{constructor(J,re,Se){super(re),this.code=J,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ai.prototype.create)}}class Ai{constructor(J,re,Se){this.service=J,this.serviceName=re,this.errors=Se}create(J,...re){const Se=re[0]||{},Ee=`${this.service}/${J}`,pt=this.errors[J],Wt=pt?function(te,J){return te.replace(Wn,(re,Se)=>{const Ee=J[Se];return null!=Ee?String(Ee):`<${Se}?>`})}(pt,Se):"Error";return new qr(Ee,`${this.serviceName}: ${Wt} (${Ee}).`,Se)}}const Wn=/\{\$([^}]+)}/g;function Ln(te,J){return Object.prototype.hasOwnProperty.call(te,J)}function We(te){for(const J in te)if(Object.prototype.hasOwnProperty.call(te,J))return!1;return!0}function wn(te,J){if(te===J)return!0;const re=Object.keys(te),Se=Object.keys(J);for(const Ee of re){if(!Se.includes(Ee))return!1;const pt=te[Ee],Wt=J[Ee];if(_n(pt)&&_n(Wt)){if(!wn(pt,Wt))return!1}else if(pt!==Wt)return!1}for(const Ee of Se)if(!re.includes(Ee))return!1;return!0}function _n(te){return null!==te&&"object"==typeof te}function vs(te){const J=[];for(const[re,Se]of Object.entries(te))Array.isArray(Se)?Se.forEach(Ee=>{J.push(encodeURIComponent(re)+"="+encodeURIComponent(Ee))}):J.push(encodeURIComponent(re)+"="+encodeURIComponent(Se));return J.length?"&"+J.join("&"):""}function Es(te){const J={};return te.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[Ee,pt]=Se.split("=");J[decodeURIComponent(Ee)]=decodeURIComponent(pt)}}),J}function _t(te){const J=te.indexOf("?");if(!J)return"";const re=te.indexOf("#",J);return te.substring(J,re>0?re:void 0)}function si(te,J){const re=new xi(te,J);return re.subscribe.bind(re)}class xi{constructor(J,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{J(this)}).catch(Se=>{this.error(Se)})}next(J){this.forEachObserver(re=>{re.next(J)})}error(J){this.forEachObserver(re=>{re.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,re,Se){let Ee;if(void 0===J&&void 0===re&&void 0===Se)throw new Error("Missing Observer.");Ee=function(te,J){if("object"!=typeof te||null===te)return!1;for(const re of["next","error","complete"])if(re in te&&"function"==typeof te[re])return!0;return!1}(J)?J:{next:J,error:re,complete:Se},void 0===Ee.next&&(Ee.next=Et),void 0===Ee.error&&(Ee.error=Et),void 0===Ee.complete&&(Ee.complete=Et);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch(Wt){}}),this.observers.push(Ee),pt}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,J)}sendOne(J,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{re(this.observers[J])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Et(){}function ze(te,J=1e3,re=2){const Se=J*Math.pow(re,te),Ee=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+Ee)}function an(te){return te&&te._delegate?te._delegate:te}},2329:(Je,Ie,B)=>{"use strict";B.d(Ie,{Mq:()=>S.getApp,C6:()=>S.getApps});var S=B(8026);(0,S.registerVersion)("firebase","9.12.1","app")},7841:(Je,Ie,B)=>{"use strict";B.d(Ie,{Z:()=>S.Z});var S=B(3394);S.Z.registerVersion("firebase","9.12.1","app-compat")},8241:(Je,Ie,B)=>{"use strict";B.r(Ie);var S=B(8239),x=B(3394),W=B(3854),fe=B(8026),ae=B(5422);function ue(m,d){var f={};for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&d.indexOf(_)<0&&(f[_]=m[_]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var N=0;for(_=Object.getOwnPropertySymbols(m);N<_.length;N++)d.indexOf(_[N])<0&&Object.prototype.propertyIsEnumerable.call(m,_[N])&&(f[_[N]]=m[_[N]])}return f}var Bn=B(3910);const Ms=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Wn=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tn=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gn=new ae.Yd("@firebase/auth");function pr(m,...d){gn.logLevel<=ae.in.ERROR&&gn.error(`Auth (${fe.SDK_VERSION}): ${m}`,...d)}function Ot(m,...d){throw On(m,...d)}function Ir(m,...d){return On(m,...d)}function os(m,d,f){const _=Object.assign(Object.assign({},Wn()),{[d]:f});return new W.LL("auth","Firebase",_).create(d,{appName:m.name})}function Ln(m,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&Ot(m,"argument-error"),os(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function On(m,...d){if("string"!=typeof m){const f=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return tn.create(m,...d)}function We(m,d,...f){if(!m)throw On(d,...f)}function Ar(m){const d="INTERNAL ASSERTION FAILED: "+m;throw pr(d),new Error(d)}function wn(m,d){m||Ar(d)}const _n=new Map;function xn(m){wn(m instanceof Function,"Expected a class definition");let d=_n.get(m);return d?(wn(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,_n.set(m,d),d)}function _t(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function pi(){return"http:"===si()||"https:"===si()}function si(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class wt{constructor(d,f){this.shortDelay=d,this.longDelay=f,wn(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pi()||(0,W.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Et(m,d){wn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class gr{static initialize(d,f,_){this.fetchImpl=d,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gi=new wt(3e4,6e4);function Gt(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function mn(m,d,f,_){return jt.apply(this,arguments)}function jt(){return(jt=(0,S.Z)(function*(m,d,f,_,N={}){return Pn(m,N,(0,S.Z)(function*(){let L={},X={};_&&("GET"===d?X=_:L={body:JSON.stringify(_)});const pe=(0,W.xO)(Object.assign({key:m.config.apiKey},X)).slice(1),Ke=yield m._getAdditionalHeaders();return Ke["Content-Type"]="application/json",m.languageCode&&(Ke["X-Firebase-Locale"]=m.languageCode),gr.fetch()(ct(m,m.config.apiHost,f,pe),Object.assign({method:d,headers:Ke,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Pn(m,d,f){return as.apply(this,arguments)}function as(){return(as=(0,S.Z)(function*(m,d,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},Hi),d);try{const N=new ke(m),L=yield Promise.race([f(),N.promise]);N.clearNetworkTimeout();const X=yield L.json();if("needConfirmation"in X)throw ze(m,"account-exists-with-different-credential",X);if(L.ok&&!("errorMessage"in X))return X;{const pe=L.ok?X.errorMessage:X.error.message,[Ke,He]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw ze(m,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ke)throw ze(m,"email-already-in-use",X);if("USER_DISABLED"===Ke)throw ze(m,"user-disabled",X);const It=_[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw os(m,It,He);Ot(m,It)}}catch(N){if(N instanceof W.ZR)throw N;Ot(m,"network-request-failed")}})).apply(this,arguments)}function dt(m,d,f,_){return us.apply(this,arguments)}function us(){return(us=(0,S.Z)(function*(m,d,f,_,N={}){const L=yield mn(m,d,f,_,N);return"mfaPendingCredential"in L&&Ot(m,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function ct(m,d,f,_){const N=`${d}${f}?${_}`;return m.config.emulator?Et(m.config,N):`${m.config.apiScheme}://${N}`}class ke{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(Ir(this.auth,"network-request-failed")),Gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ze(m,d,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const N=Ir(m,d,_);return N.customData._tokenResponse=f,N}function Ut(){return(Ut=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function an(m,d){return te.apply(this,arguments)}function te(){return(te=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function J(m,d){return re.apply(this,arguments)}function re(){return(re=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Se(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Wt(){return(Wt=(0,S.Z)(function*(m,d=!1){const f=(0,W.m9)(m),_=yield f.getIdToken(d),N=xr(_);We(N&&N.exp&&N.auth_time&&N.iat,f.auth,"internal-error");const L="object"==typeof N.firebase?N.firebase:void 0,X=null==L?void 0:L.sign_in_provider;return{claims:N,token:_,authTime:Se(bn(N.auth_time)),issuedAtTime:Se(bn(N.iat)),expirationTime:Se(bn(N.exp)),signInProvider:X||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function bn(m){return 1e3*Number(m)}function xr(m){var d;const[f,_,N]=m.split(".");if(void 0===f||void 0===_||void 0===N)return pr("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,W.tV)(_);return L?JSON.parse(L):(pr("Failed to decode base64 JWT payload"),null)}catch(L){return pr("Caught error parsing JWT payload as JSON",null===(d=L)||void 0===d?void 0:d.toString()),null}}function tr(m,d){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,S.Z)(function*(m,d,f=!1){if(f)return d;try{return yield d}catch(_){throw _ instanceof W.ZR&&Rr(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}function Rr({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Is{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const N=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,S.Z)(function*(){yield f.iteration()}),_)}iteration(){var d=this;return(0,S.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(f=_)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class Yr{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ct(m){return gi.apply(this,arguments)}function gi(){return(gi=(0,S.Z)(function*(m){var d;const f=m.auth,_=yield m.getIdToken(),N=yield tr(m,J(f,{idToken:_}));We(null==N?void 0:N.users.length,f,"internal-error");const L=N.users[0];m._notifyReloadListener(L);const X=(null===(d=L.providerUserInfo)||void 0===d?void 0:d.length)?mi(L.providerUserInfo):[],pe=bu(m.providerData,X),It=!!m.isAnonymous&&!(m.email&&L.passwordHash||(null==pe?void 0:pe.length)),bt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:pe,metadata:new Yr(L.createdAt,L.lastLoginAt),isAnonymous:It};Object.assign(m,bt)})).apply(this,arguments)}function zn(){return(zn=(0,S.Z)(function*(m){const d=(0,W.m9)(m);yield Ct(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function bu(m,d){return[...m.filter(_=>!d.some(N=>N.providerId===_.providerId)),...d]}function mi(m){return m.map(d=>{var{providerId:f}=d,_=ue(d,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function qt(){return(qt=(0,S.Z)(function*(m,d){const f=yield Pn(m,{},(0,S.Z)(function*(){const _=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:N,apiKey:L}=m.config,X=ct(m,N,"/v1/token",`key=${L}`),pe=yield m._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",gr.fetch()(X,{method:"POST",headers:pe,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){We(d.idToken,"internal-error"),We(void 0!==d.idToken,"internal-error"),We(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(m){const d=xr(m);return We(d,"internal-error"),We(void 0!==d.exp,"internal-error"),We(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var _=this;return(0,S.Z)(function*(){return We(!_.accessToken||_.refreshToken,d,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var _=this;return(0,S.Z)(function*(){const{accessToken:N,refreshToken:L,expiresIn:X}=yield function(m,d){return qt.apply(this,arguments)}(d,f);_.updateTokensAndExpiration(N,L,Number(X))})()}updateTokensAndExpiration(d,f,_){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,f){const{refreshToken:_,accessToken:N,expirationTime:L}=f,X=new vn;return _&&(We("string"==typeof _,"internal-error",{appName:d}),X.refreshToken=_),N&&(We("string"==typeof N,"internal-error",{appName:d}),X.accessToken=N),L&&(We("number"==typeof L,"internal-error",{appName:d}),X.expirationTime=L),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function Vn(m,d){We("string"==typeof m||void 0===m,"internal-error",{appName:d})}class Qr{constructor(d){var{uid:f,auth:_,stsTokenManager:N}=d,L=ue(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Is(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Yr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,S.Z)(function*(){const _=yield tr(f,f.stsTokenManager.getToken(f.auth,d));return We(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(d){return function(m){return Wt.apply(this,arguments)}(this,d)}reload(){return function(m){return zn.apply(this,arguments)}(this)}_assign(d){this!==d&&(We(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Qr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var _=this;return(0,S.Z)(function*(){let N=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),N=!0),f&&(yield Ct(_)),yield _.auth._persistUserIfCurrent(_),N&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,S.Z)(function*(){const f=yield d.getIdToken();return yield tr(d,function(m,d){return Ut.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var _,N,L,X,pe,Ke,He,It;const bt=null!==(_=f.displayName)&&void 0!==_?_:void 0,ln=null!==(N=f.email)&&void 0!==N?N:void 0,ji=null!==(L=f.phoneNumber)&&void 0!==L?L:void 0,Gu=null!==(X=f.photoURL)&&void 0!==X?X:void 0,Kl=null!==(pe=f.tenantId)&&void 0!==pe?pe:void 0,Wu=null!==(Ke=f._redirectEventId)&&void 0!==Ke?Ke:void 0,zu=null!==(He=f.createdAt)&&void 0!==He?He:void 0,kd=null!==(It=f.lastLoginAt)&&void 0!==It?It:void 0,{uid:Xo,emailVerified:Fd,isAnonymous:du,providerData:Ld,stsTokenManager:Uh}=f;We(Xo&&Uh,d,"internal-error");const Jc=vn.fromJSON(this.name,Uh);We("string"==typeof Xo,d,"internal-error"),Vn(bt,d.name),Vn(ln,d.name),We("boolean"==typeof Fd,d,"internal-error"),We("boolean"==typeof du,d,"internal-error"),Vn(ji,d.name),Vn(Gu,d.name),Vn(Kl,d.name),Vn(Wu,d.name),Vn(zu,d.name),Vn(kd,d.name);const Vd=new Qr({uid:Xo,auth:d,email:ln,emailVerified:Fd,displayName:bt,isAnonymous:du,photoURL:Gu,phoneNumber:ji,tenantId:Kl,stsTokenManager:Jc,createdAt:zu,lastLoginAt:kd});return Ld&&Array.isArray(Ld)&&(Vd.providerData=Ld.map(yc=>Object.assign({},yc))),Wu&&(Vd._redirectEventId=Wu),Vd}static _fromIdTokenResponse(d,f,_=!1){return(0,S.Z)(function*(){const N=new vn;N.updateFromServerResponse(f);const L=new Qr({uid:f.localId,auth:d,stsTokenManager:N,isAnonymous:_});return yield Ct(L),L})()}}const rr=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(f,_){var N=this;return(0,S.Z)(function*(){N.storage[f]=_})()}_get(f){var _=this;return(0,S.Z)(function*(){const N=_.storage[f];return void 0===N?null:N})()}_remove(f){var _=this;return(0,S.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return m.type="NONE",m})();function En(m,d,f){return`firebase:${m}:${d}:${f}`}class kn{constructor(d,f,_){this.persistence=d,this.auth=f,this.userKey=_;const{config:N,name:L}=this.auth;this.fullUserKey=En(this.userKey,N.apiKey,L),this.fullPersistenceKey=En("persistence",N.apiKey,L),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,S.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Qr._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,S.Z)(function*(){if(f.persistence===d)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,_="authUser"){return(0,S.Z)(function*(){if(!f.length)return new kn(xn(rr),d,_);const N=(yield Promise.all(f.map(function(){var He=(0,S.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return He.apply(this,arguments)}}()))).filter(He=>He);let L=N[0]||xn(rr);const X=En(_,d.config.apiKey,d.name);let pe=null;for(const He of f)try{const It=yield He._get(X);if(It){const bt=Qr._fromJSON(d,It);He!==L&&(pe=bt),L=He;break}}catch(It){}const Ke=N.filter(He=>He._shouldAllowMigration);return L._shouldAllowMigration&&Ke.length?(L=Ke[0],pe&&(yield L._set(X,pe.toJSON())),yield Promise.all(f.map(function(){var He=(0,S.Z)(function*(It){if(It!==L)try{yield It._remove(X)}catch(bt){}});return function(It){return He.apply(this,arguments)}}())),new kn(L,d,_)):new kn(L,d,_)})()}}function Ks(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ja(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if($t(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Xr(d))return"Blackberry";if(ho(d))return"Webos";if(qs(d))return"Safari";if((d.includes("chrome/")||Os(d))&&!d.includes("edge/"))return"Chrome";if(Jr(d))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function $t(m=(0,W.z$)()){return/firefox\//i.test(m)}function qs(m=(0,W.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Os(m=(0,W.z$)()){return/crios\//i.test(m)}function ja(m=(0,W.z$)()){return/iemobile/i.test(m)}function Jr(m=(0,W.z$)()){return/android/i.test(m)}function Xr(m=(0,W.z$)()){return/blackberry/i.test(m)}function ho(m=(0,W.z$)()){return/webos/i.test(m)}function Kn(m=(0,W.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function cs(m=(0,W.z$)()){return Kn(m)||Jr(m)||ho(m)||Xr(m)||/windows phone/i.test(m)||ja(m)}function yi(m,d=[]){let f;switch(m){case"Browser":f=Ks((0,W.z$)());break;case"Worker":f=`${Ks((0,W.z$)())}-${m}`;break;default:f=m}const _=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${fe.SDK_VERSION}/${_}`}class Ps{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const _=L=>new Promise((X,pe)=>{try{X(d(L))}catch(Ke){pe(Ke)}});_.onAbort=f,this.queue.push(_);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,S.Z)(function*(){var _;if(f.auth.currentUser===d)return;const N=[];try{for(const L of f.queue)yield L(d),L.onAbort&&N.push(L.onAbort)}catch(L){N.reverse();for(const X of N)try{X()}catch(pe){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=L)||void 0===_?void 0:_.message})}})()}}class Ki{constructor(d,f,_){this.app=d,this.heartbeatServiceProvider=f,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nr(this),this.idTokenSubscription=new Nr(this),this.beforeStateQueue=new Ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(d,f){var _=this;return f&&(this._popupRedirectResolver=xn(f)),this._initializationPromise=this.queue((0,S.Z)(function*(){var N,L;if(!_._deleted&&(_.persistenceManager=yield kn.create(_,d),!_._deleted)){if(null===(N=_._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(X){}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(L=_.currentUser)||void 0===L?void 0:L.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,S.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,S.Z)(function*(){var _;const N=yield f.assertedPersistence.getCurrentUser();let L=N,X=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const pe=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,Ke=null==L?void 0:L._redirectEventId,He=yield f.tryRedirectSignIn(d);(!pe||pe===Ke)&&(null==He?void 0:He.user)&&(L=He.user,X=!0)}if(!L)return f.directlySetCurrentUser(null);if(!L._redirectEventId){if(X)try{yield f.beforeStateQueue.runMiddleware(L)}catch(pe){L=N,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(pe))}return L?f.reloadAndSetCurrentUserOrClear(L):f.directlySetCurrentUser(null)}return We(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===L._redirectEventId?f.directlySetCurrentUser(L):f.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(d){var f=this;return(0,S.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(N){yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,S.Z)(function*(){var _;try{yield Ct(d)}catch(N){if("auth/network-request-failed"!==(null===(_=N)||void 0===_?void 0:_.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,S.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,S.Z)(function*(){const _=d?(0,W.m9)(d):null;return _&&We(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(d,f=!1){var _=this;return(0,S.Z)(function*(){if(!_._deleted)return d&&We(_.tenantId===d.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(d)),_.queue((0,S.Z)(function*(){yield _.directlySetCurrentUser(d),_.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,S.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,S.Z)(function*(){yield f.assertedPersistence.setPersistence(xn(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,f,_){return this.registerStateListener(this.authStateSubscription,d,f,_)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,_){return this.registerStateListener(this.idTokenSubscription,d,f,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var _=this;return(0,S.Z)(function*(){const N=yield _.getOrInitRedirectPersistenceManager(f);return null===d?N.removeCurrentUser():N.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,S.Z)(function*(){if(!f.redirectPersistenceManager){const _=d&&xn(d)||f._popupRedirectResolver;We(_,f,"argument-error"),f.redirectPersistenceManager=yield kn.create(f,[xn(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,S.Z)(function*(){var _,N;return f._isInitialized&&(yield f.queue((0,S.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===d?f._currentUser:(null===(N=f.redirectUser)||void 0===N?void 0:N._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,S.Z)(function*(){if(d===f.currentUser)return f.queue((0,S.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,_,N){if(this._deleted)return()=>{};const L="function"==typeof f?f:f.next.bind(f),X=this._isInitialized?Promise.resolve():this._initializationPromise;return We(X,this,"internal-error"),X.then(()=>L(this.currentUser)),"function"==typeof f?d.addObserver(f,_,N):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,S.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,S.Z)(function*(){var f;const _={"X-Client-Version":d.clientVersion};d.app.options.appId&&(_["X-Firebase-gmpid"]=d.app.options.appId);const N=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return N&&(_["X-Firebase-Client"]=N),_})()}}function $n(m){return(0,W.m9)(m)}class Nr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(f=>this.observer=f)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _i(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Zs(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class vi{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Ar("not implemented")}_getIdTokenResponse(d){return Ar("not implemented")}_linkToIdToken(d,f){return Ar("not implemented")}_getReauthenticationResolver(d){return Ar("not implemented")}}function Ri(m,d){return ko.apply(this,arguments)}function ko(){return(ko=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:resetPassword",Gt(m,d))})).apply(this,arguments)}function Ae(m,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ei(m,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:update",Gt(m,d))})).apply(this,arguments)}function Du(){return(Du=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithPassword",Gt(m,d))})).apply(this,arguments)}function qi(m,d){return gt.apply(this,arguments)}function gt(){return(gt=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:sendOobCode",Gt(m,d))})).apply(this,arguments)}function fo(m,d){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,S.Z)(function*(m,d){return qi(m,d)})).apply(this,arguments)}function po(m,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,S.Z)(function*(m,d){return qi(m,d)})).apply(this,arguments)}function go(m,d){return ia.apply(this,arguments)}function ia(){return(ia=(0,S.Z)(function*(m,d){return qi(m,d)})).apply(this,arguments)}function Cu(m,d){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,S.Z)(function*(m,d){return qi(m,d)})).apply(this,arguments)}function mo(){return(mo=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithEmailLink",Gt(m,d))})).apply(this,arguments)}function Lo(){return(Lo=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithEmailLink",Gt(m,d))})).apply(this,arguments)}class qn extends vi{constructor(d,f,_,N=null){super("password",_),this._email=d,this._password=f,this._tenantId=N}static _fromEmailAndPassword(d,f){return new qn(d,f,"password")}static _fromEmailAndCode(d,f,_=null){return new qn(d,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,S.Z)(function*(){switch(f.signInMethod){case"password":return function(m,d){return Du.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(m,d){return mo.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:Ot(d,"internal-error")}})()}_linkToIdToken(d,f){var _=this;return(0,S.Z)(function*(){switch(_.signInMethod){case"password":return Ae(d,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(m,d){return Lo.apply(this,arguments)}(d,{idToken:f,email:_._email,oobCode:_._password});default:Ot(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function oi(m,d){return ei.apply(this,arguments)}function ei(){return(ei=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithIdp",Gt(m,d))})).apply(this,arguments)}class Mi extends vi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Mi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):Ot("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:N}=f,L=ue(f,["providerId","signInMethod"]);if(!_||!N)return null;const X=new Mi(_,N);return X.idToken=L.idToken||void 0,X.accessToken=L.accessToken||void 0,X.secret=L.secret,X.nonce=L.nonce,X.pendingToken=L.pendingToken||null,X}_getIdTokenResponse(d){return oi(d,this.buildRequest())}_linkToIdToken(d,f){const _=this.buildRequest();return _.idToken=f,oi(d,_)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,oi(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,W.xO)(f)}return d}}function yo(m,d){return sa.apply(this,arguments)}function sa(){return(sa=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:sendVerificationCode",Gt(m,d))})).apply(this,arguments)}function Vo(){return(Vo=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithPhoneNumber",Gt(m,d))})).apply(this,arguments)}function oa(){return(oa=(0,S.Z)(function*(m,d){const f=yield dt(m,"POST","/v1/accounts:signInWithPhoneNumber",Gt(m,d));if(f.temporaryProof)throw ze(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Oi={USER_NOT_FOUND:"user-not-found"};function Tn(){return(Tn=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithPhoneNumber",Gt(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Oi)})).apply(this,arguments)}class Pi extends vi{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Pi({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Pi({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function(m,d){return Vo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function(m,d){return oa.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(m,d){return Tn.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:_,verificationCode:N}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:_,code:N}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:_,phoneNumber:N,temporaryProof:L}=d;return _||f||N||L?new Pi({verificationId:f,verificationCode:_,phoneNumber:N,temporaryProof:L}):null}}class R{constructor(d){var f,_,N,L,X,pe;const Ke=(0,W.zd)((0,W.pd)(d)),He=null!==(f=Ke.apiKey)&&void 0!==f?f:null,It=null!==(_=Ke.oobCode)&&void 0!==_?_:null,bt=function(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Ke.mode)&&void 0!==N?N:null);We(He&&It&&bt,"argument-error"),this.apiKey=He,this.operation=bt,this.code=It,this.continueUrl=null!==(L=Ke.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(X=Ke.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=Ke.tenantId)&&void 0!==pe?pe:null}static parseLink(d){const f=function(m){const d=(0,W.zd)((0,W.pd)(m)).link,f=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,_=(0,W.zd)((0,W.pd)(m)).deep_link_id;return(_?(0,W.zd)((0,W.pd)(_)).link:null)||_||f||d||m}(d);try{return new R(f)}catch(_){return null}}}let ne=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,_){return qn._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const N=R.parseLink(_);return We(N,"argument-error"),qn._fromEmailAndCode(f,N.code,N.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ye{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Be extends ye{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class lt extends Be{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return We("providerId"in f&&"signInMethod"in f,"argument-error"),Mi._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return We(d.idToken||d.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return lt.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return lt.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:N,pendingToken:L,nonce:X,providerId:pe}=d;if(!_&&!N&&!f&&!L||!pe)return null;try{return new lt(pe)._credential({idToken:f,accessToken:_,nonce:X,pendingToken:L})}catch(Ke){return null}}}let Ht=(()=>{class m extends Be{constructor(){super("facebook.com")}static credential(f){return Mi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(_){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),yt=(()=>{class m extends Be{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return Mi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:N}=f;if(!_&&!N)return null;try{return m.credential(_,N)}catch(L){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Sn=(()=>{class m extends Be{constructor(){super("github.com")}static credential(f){return Mi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(_){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Rn extends vi{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return oi(d,this.buildRequest())}_linkToIdToken(d,f){const _=this.buildRequest();return _.idToken=f,oi(d,_)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,oi(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:N,pendingToken:L}=f;return _&&N&&L&&_===N?new Rn(_,L):null}static _create(d,f){return new Rn(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class or extends ye{constructor(d){We(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return or.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return or.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Rn.fromJSON(d);return We(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:_}=d;if(!f||!_)return null;try{return Rn._create(_,f)}catch(N){return null}}}let Yi=(()=>{class m extends Be{constructor(){super("twitter.com")}static credential(f,_){return Mi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:N}=f;if(!_||!N)return null;try{return m.credential(_,N)}catch(L){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function ti(m,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signUp",Gt(m,d))})).apply(this,arguments)}class ar{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,_,N=!1){return(0,S.Z)(function*(){const L=yield Qr._fromIdTokenResponse(d,_,N),X=Qi(_);return new ar({user:L,providerId:X,_tokenResponse:_,operationType:f})})()}static _forOperation(d,f,_){return(0,S.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const N=Qi(_);return new ar({user:d,providerId:N,_tokenResponse:_,operationType:f})})()}}function Qi(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ki(){return(ki=(0,S.Z)(function*(m){var d;const f=$n(m);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new ar({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield ti(f,{returnSecureToken:!0}),N=yield ar._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ji extends W.ZR{constructor(d,f,_,N){var L;super(f.code,f.message),this.operationType=_,this.user=N,Object.setPrototypeOf(this,Ji.prototype),this.customData={appName:d.name,tenantId:null!==(L=d.tenantId)&&void 0!==L?L:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,f,_,N){return new Ji(d,f,_,N)}}function _o(m,d,f,_){return("reauthenticate"===d?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Ji._fromErrorAndOperation(m,L,d,_):L})}function Pt(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function ua(){return(ua=(0,S.Z)(function*(m,d){const f=(0,W.m9)(m);yield Js(!0,f,d);const{providerUserInfo:_}=yield an(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),N=Pt(_||[]);return f.providerData=f.providerData.filter(L=>N.has(L.providerId)),N.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Uo(m,d){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,S.Z)(function*(m,d,f=!1){const _=yield tr(m,d._linkToIdToken(m.auth,yield m.getIdToken()),f);return ar._forOperation(m,"link",_)})).apply(this,arguments)}function Js(m,d,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,S.Z)(function*(m,d,f){yield Ct(d);const N=!1===m?"provider-already-linked":"no-such-provider";We(Pt(d.providerData).has(f)===m,d.auth,N)})).apply(this,arguments)}function $a(m,d){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,S.Z)(function*(m,d,f=!1){var _;const{auth:N}=m,L="reauthenticate";try{const X=yield tr(m,_o(N,L,d,m),f);We(X.idToken,N,"internal-error");const pe=xr(X.idToken);We(pe,N,"internal-error");const{sub:Ke}=pe;return We(m.uid===Ke,N,"user-mismatch"),ar._forOperation(m,L,X)}catch(X){throw"auth/user-not-found"===(null===(_=X)||void 0===_?void 0:_.code)&&Ot(N,"user-mismatch"),X}})).apply(this,arguments)}function un(m,d){return Su.apply(this,arguments)}function Su(){return(Su=(0,S.Z)(function*(m,d,f=!1){const _="signIn",N=yield _o(m,_,d),L=yield ar._fromIdTokenResponse(m,_,N);return f||(yield m._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Hn(m,d){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,S.Z)(function*(m,d){return un($n(m),d)})).apply(this,arguments)}function Xi(m,d){return es.apply(this,arguments)}function es(){return(es=(0,S.Z)(function*(m,d){const f=(0,W.m9)(m);return yield Js(!1,f,d.providerId),Uo(f,d)})).apply(this,arguments)}function ca(m,d){return ws.apply(this,arguments)}function ws(){return(ws=(0,S.Z)(function*(m,d){return $a((0,W.m9)(m),d)})).apply(this,arguments)}function Xu(m,d){return $o.apply(this,arguments)}function $o(){return($o=(0,S.Z)(function*(m,d){return dt(m,"POST","/v1/accounts:signInWithCustomToken",Gt(m,d))})).apply(this,arguments)}function Yn(){return(Yn=(0,S.Z)(function*(m,d){const f=$n(m),_=yield Xu(f,{token:d,returnSecureToken:!0}),N=yield ar._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(N.user),N})).apply(this,arguments)}class _r{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?ui._fromServerResponse(d,f):Ot(d,"internal-error")}}class ui extends _r{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new ui(f)}}function la(m,d,f){var _;We((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),We(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(We(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(We(f.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function ds(){return(ds=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m),N={requestType:"PASSWORD_RESET",email:d};f&&la(_,N,f),yield po(_,N)})).apply(this,arguments)}function xu(){return(xu=(0,S.Z)(function*(m,d,f){yield Ri((0,W.m9)(m),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Ho(){return(Ho=(0,S.Z)(function*(m,d){yield Ei((0,W.m9)(m),{oobCode:d})})).apply(this,arguments)}function Ga(m,d){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,S.Z)(function*(m,d){const f=(0,W.m9)(m),_=yield Ri(f,{oobCode:d}),N=_.requestType;switch(We(N,f,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(_.mfaInfo,f,"internal-error");default:We(_.email,f,"internal-error")}let L=null;return _.mfaInfo&&(L=_r._fromServerResponse($n(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:L},operation:N}})).apply(this,arguments)}function Nu(){return(Nu=(0,S.Z)(function*(m,d){const{data:f}=yield Ga((0,W.m9)(m),d);return f.email})).apply(this,arguments)}function Io(){return(Io=(0,S.Z)(function*(m,d,f){const _=$n(m),N=yield ti(_,{returnSecureToken:!0,email:d,password:f}),L=yield ar._fromIdTokenResponse(_,"signIn",N);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}function da(){return(da=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m),N={requestType:"EMAIL_SIGNIN",email:d};We(f.handleCodeInApp,_,"argument-error"),f&&la(_,N,f),yield go(_,N)})).apply(this,arguments)}function fa(){return(fa=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m),N=ne.credentialWithLink(d,f||_t());return We(N._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Hn(_,N)})).apply(this,arguments)}function Ou(m,d){return Go.apply(this,arguments)}function Go(){return(Go=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:createAuthUri",Gt(m,d))})).apply(this,arguments)}function ts(){return(ts=(0,S.Z)(function*(m,d){const _={identifier:d,continueUri:pi()?_t():"http://localhost"},{signinMethods:N}=yield Ou((0,W.m9)(m),_);return N||[]})).apply(this,arguments)}function za(){return(za=(0,S.Z)(function*(m,d){const f=(0,W.m9)(m),N={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&la(f.auth,N,d);const{email:L}=yield fo(f.auth,N);L!==m.email&&(yield m.reload())})).apply(this,arguments)}function eo(){return(eo=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};f&&la(_.auth,L,f);const{email:X}=yield Cu(_.auth,L);X!==m.email&&(yield m.reload())})).apply(this,arguments)}function wo(m,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,S.Z)(function*(m,d){return mn(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ks(){return(ks=(0,S.Z)(function*(m,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const _=(0,W.m9)(m),L={idToken:yield _.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},X=yield tr(_,wo(_.auth,L));_.displayName=X.displayName||null,_.photoURL=X.photoUrl||null;const pe=_.providerData.find(({providerId:Ke})=>"password"===Ke);pe&&(pe.displayName=_.displayName,pe.photoURL=_.photoURL),yield _._updateTokensIfNecessary(X)})).apply(this,arguments)}function Wo(m,d,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,S.Z)(function*(m,d,f){const{auth:_}=m,L={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(L.email=d),f&&(L.password=f);const X=yield tr(m,Ae(_,L));yield m._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Li{constructor(d,f,_={}){this.isNewUser=d,this.providerId=f,this.profile=_}}class bs extends Li{constructor(d,f,_,N){super(d,f,_),this.username=N}}class qa extends Li{constructor(d,f){super(d,"facebook.com",f)}}class Pu extends bs{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Gn extends Li{constructor(d,f){super(d,"google.com",f)}}class pa extends bs{constructor(d,f,_){super(d,"twitter.com",f,_)}}function tc(m){const{user:d,_tokenResponse:f}=m;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(m){var d,f;if(!m)return null;const{providerId:_}=m,N=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},L=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&(null==m?void 0:m.idToken)){const X=null===(f=null===(d=xr(m.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(X)return new Li(L,"anonymous"!==X&&"custom"!==X?X:null)}if(!_)return null;switch(_){case"facebook.com":return new qa(L,N);case"github.com":return new Pu(L,N);case"google.com":return new Gn(L,N);case"twitter.com":return new pa(L,N,m.screenName||null);case"custom":case"anonymous":return new Li(L,null);default:return new Li(L,_,N)}}(f)}class Vi{constructor(d,f,_){this.type=d,this.credential=f,this.auth=_}static _fromIdtoken(d,f){return new Vi("enroll",d,f)}static _fromMfaPendingCredential(d){return new Vi("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,_;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Vi._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(_=d.multiFactorSession)||void 0===_?void 0:_.idToken)return Vi._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Uu{constructor(d,f,_){this.session=d,this.hints=f,this.signInResolver=_}static _fromError(d,f){const _=$n(d),N=f.customData._serverResponse,L=(N.mfaInfo||[]).map(pe=>_r._fromServerResponse(_,pe));We(N.mfaPendingCredential,_,"internal-error");const X=Vi._fromMfaPendingCredential(N.mfaPendingCredential);return new Uu(X,L,function(){var pe=(0,S.Z)(function*(Ke){const He=yield Ke._process(_,X);delete N.mfaInfo,delete N.mfaPendingCredential;const It=Object.assign(Object.assign({},N),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const bt=yield ar._fromIdTokenResponse(_,f.operationType,It);return yield _._updateCurrentUser(bt.user),bt;case"reauthenticate":return We(f.user,_,"internal-error"),ar._forOperation(f.user,f.operationType,It);default:Ot(_,"internal-error")}});return function(Ke){return pe.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,S.Z)(function*(){return f.signInResolver(d)})()}}function to(m,d){return mn(m,"POST","/v2/accounts/mfaEnrollment:start",Gt(m,d))}class Do{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>_r._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new Do(d)}getSession(){var d=this;return(0,S.Z)(function*(){return Vi._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,f){var _=this;return(0,S.Z)(function*(){const N=d,L=yield _.getSession(),X=yield tr(_.user,N._process(_.user.auth,L,f));return yield _.user._updateTokensIfNecessary(X),_.user.reload()})()}unenroll(d){var f=this;return(0,S.Z)(function*(){var _;const N="string"==typeof d?d:d.uid,L=yield f.user.getIdToken(),X=yield tr(f.user,function(m,d){return mn(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(m,d))}(f.user.auth,{idToken:L,mfaEnrollmentId:N}));f.enrolledFactors=f.enrolledFactors.filter(({uid:pe})=>pe!==N),yield f.user._updateTokensIfNecessary(X);try{yield f.user.reload()}catch(pe){if("auth/user-token-expired"!==(null===(_=pe)||void 0===_?void 0:_.code))throw pe}})()}}const hs=new WeakMap,ma="__sak";class ya{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ma,"1"),this.storage.removeItem(ma),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ui=(()=>{class m extends ya{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const m=(0,W.z$)();return qs(m)||Kn(m)}()&&function(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=cs(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const N=this.storage.getItem(_),L=this.localCache[_];N!==L&&f(_,L,N)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((pe,Ke,He)=>{this.notifyListeners(pe,He)});const N=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(N);if(f.newValue!==pe)null!==f.newValue?this.storage.setItem(N,f.newValue):this.storage.removeItem(N);else if(this.localCache[N]===f.newValue&&!_)return}const L=()=>{const pe=this.storage.getItem(N);!_&&this.localCache[N]===pe||this.notifyListeners(N,pe)},X=this.storage.getItem(N);(0,W.w1)()&&10===document.documentMode&&X!==f.newValue&&f.newValue!==f.oldValue?setTimeout(L,10):L()}notifyListeners(f,_){this.localCache[f]=_;const N=this.listeners[f];if(N)for(const L of Array.from(N))L(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var N=()=>super._set,L=this;return(0,S.Z)(function*(){yield N().call(L,f,_),L.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,N=this;return(0,S.Z)(function*(){const L=yield _().call(N,f);return N.localCache[f]=JSON.stringify(L),L})()}_remove(f){var _=()=>super._remove,N=this;return(0,S.Z)(function*(){yield _().call(N,f),delete N.localCache[f]})()}}return m.type="LOCAL",m})(),Cs=(()=>{class m extends ya{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();let E=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(L=>L.isListeningto(f));if(_)return _;const N=new m(f);return this.receivers.push(N),N}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,S.Z)(function*(){const N=f,{eventId:L,eventType:X,data:pe}=N.data,Ke=_.handlersMap[X];if(!(null==Ke?void 0:Ke.size))return;N.ports[0].postMessage({status:"ack",eventId:L,eventType:X});const He=Array.from(Ke).map(function(){var bt=(0,S.Z)(function*(ln){return ln(N.origin,pe)});return function(ln){return bt.apply(this,arguments)}}()),It=yield function(m){return Promise.all(m.map(function(){var d=(0,S.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return d.apply(this,arguments)}}()))}(He);N.ports[0].postMessage({status:"done",eventId:L,eventType:X,response:It})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function v(m="",d=10){let f="";for(let _=0;_<d;_++)f+=Math.floor(10*Math.random());return m+f}class T{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,_=50){var N=this;return(0,S.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let X,pe;return new Promise((Ke,He)=>{const It=v("",20);L.port1.start();const bt=setTimeout(()=>{He(new Error("unsupported_event"))},_);pe={messageChannel:L,onMessage(ln){const ji=ln;if(ji.data.eventId===It)switch(ji.data.status){case"ack":clearTimeout(bt),X=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ke(ji.data.response);break;default:clearTimeout(bt),clearTimeout(X),He(new Error("invalid_response"))}}},N.handlers.add(pe),L.port1.addEventListener("message",pe.onMessage),N.target.postMessage({eventType:d,eventId:It,data:f},[L.port2])}).finally(()=>{pe&&N.removeMessageHandler(pe)})})()}}function P(){return window}function Y(){return void 0!==P().WorkerGlobalScope&&"function"==typeof P().importScripts}function Re(){return(Re=(0,S.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Dt="firebaseLocalStorageDb",Zt="firebaseLocalStorage",Ii="fbase_key";class Br{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function dr(m,d){return m.transaction([Zt],d?"readwrite":"readonly").objectStore(Zt)}function jr(){const m=indexedDB.open(Dt,1);return new Promise((d,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(Zt,{keyPath:Ii})}catch(N){f(N)}}),m.addEventListener("success",(0,S.Z)(function*(){const _=m.result;_.objectStoreNames.contains(Zt)?d(_):(_.close(),yield function(){const m=indexedDB.deleteDatabase(Dt);return new Br(m).toPromise()}(),d(yield jr()))}))})}function Co(m,d,f){return rc.apply(this,arguments)}function rc(){return(rc=(0,S.Z)(function*(m,d,f){const _=dr(m,!0).put({[Ii]:d,value:f});return new Br(_).toPromise()})).apply(this,arguments)}function Ed(){return(Ed=(0,S.Z)(function*(m,d){const f=dr(m,!1).get(d),_=yield new Br(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Cl(m,d){const f=dr(m,!0).delete(d);return new Br(f).toPromise()}const Ia=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,S.Z)(function*(){return f.db||(f.db=yield jr()),f.db})()}_withRetries(f){var _=this;return(0,S.Z)(function*(){let N=0;for(;;)try{const L=yield _._openDb();return yield f(L)}catch(L){if(N++>3)throw L;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,S.Z)(function*(){return Y()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,S.Z)(function*(){f.receiver=E._getInstance(Y()?self:null),f.receiver._subscribe("keyChanged",function(){var _=(0,S.Z)(function*(N,L){return{keyProcessed:(yield f._poll()).includes(L.key)}});return function(N,L){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,S.Z)(function*(N,L){return["keyChanged"]});return function(N,L){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,S.Z)(function*(){var _,N;if(f.activeServiceWorker=yield function(){return Re.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new T(f.activeServiceWorker);const L=yield f.sender._send("ping",{},800);!L||(null===(_=L[0])||void 0===_?void 0:_.fulfilled)&&(null===(N=L[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,S.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const f=yield jr();return yield Co(f,ma,"1"),yield Cl(f,ma),!0}catch(f){}return!1})()}_withPendingWrite(f){var _=this;return(0,S.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var N=this;return(0,S.Z)(function*(){return N._withPendingWrite((0,S.Z)(function*(){return yield N._withRetries(L=>Co(L,f,_)),N.localCache[f]=_,N.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,S.Z)(function*(){const N=yield _._withRetries(L=>function(m,d){return Ed.apply(this,arguments)}(L,f));return _.localCache[f]=N,N})()}_remove(f){var _=this;return(0,S.Z)(function*(){return _._withPendingWrite((0,S.Z)(function*(){return yield _._withRetries(N=>Cl(N,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,S.Z)(function*(){const _=yield f._withRetries(X=>{const pe=dr(X,!1).getAll();return new Br(pe).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const N=[],L=new Set;for(const{fbase_key:X,value:pe}of _)L.add(X),JSON.stringify(f.localCache[X])!==JSON.stringify(pe)&&(f.notifyListeners(X,pe),N.push(X));for(const X of Object.keys(f.localCache))f.localCache[X]&&!L.has(X)&&(f.notifyListeners(X,null),N.push(X));return N})()}notifyListeners(f,_){this.localCache[f]=_;const N=this.listeners[f];if(N)for(const L of Array.from(N))L(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Wf(m,d){return mn(m,"POST","/v2/accounts/mfaSignIn:start",Gt(m,d))}function ic(){return(ic=(0,S.Z)(function*(m){return(yield mn(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fc(m){return new Promise((d,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=d,_.onerror=N=>{const L=Ir("internal-error");L.customData=N,f(L)},_.type="text/javascript",_.charset="UTF-8",function(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(_)})}function Sl(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Ko=1e12;class Or{constructor(d){this.auth=d,this.counter=Ko,this._widgets=new Map}render(d,f){const _=this.counter;return this._widgets.set(_,new Zn(d,this.auth.name,f||{})),this.counter++,_}reset(d){var f;const _=d||Ko;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Ko))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,S.Z)(function*(){var _;return null===(_=f._widgets.get(d||Ko))||void 0===_||_.execute(),""})()}}class Zn{constructor(d,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof d?document.getElementById(d):d;We(N,"argument-error",{appName:f}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(m){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<50;_++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}();const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lc=Sl("rcb"),qf=new wt(3e4,6e4);class To{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=P().grecaptcha)||void 0===d?void 0:d.render)}load(d,f=""){return We((m=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(P().grecaptcha):new Promise((_,N)=>{const L=P().setTimeout(()=>{N(Ir(d,"network-request-failed"))},qf.get());P()[Lc]=()=>{P().clearTimeout(L),delete P()[Lc];const pe=P().grecaptcha;if(!pe)return void N(Ir(d,"internal-error"));const Ke=pe.render;pe.render=(He,It)=>{const bt=Ke(He,It);return this.counter++,bt},this.hostLanguage=f,_(pe)},Fc(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Lc,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(L),N(Ir(d,"internal-error"))})});var m}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!!(null===(f=P().grecaptcha)||void 0===f?void 0:f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wa{load(d){return(0,S.Z)(function*(){return new Or(d)})()}clearedOneInstance(){}}const wi="recaptcha",Vc={theme:"light",type:"image"};class qo{constructor(d,f=Object.assign({},Vc),_){this.parameters=f,this.type=wi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(_),this.isInvisible="invisible"===this.parameters.size,We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof d?document.getElementById(d):d;We(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wa:new To,this.validateStartingState()}verify(){var d=this;return(0,S.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(f)||new Promise(L=>{const X=pe=>{!pe||(d.tokenChangeListeners.delete(X),L(pe))};d.tokenChangeListeners.add(X),d.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof d)d(f);else if("string"==typeof d){const _=P()[d];"function"==typeof _&&_(f)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,S.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,S.Z)(function*(){We(pi()&&!Y(),d.auth,"internal-error"),yield function(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function(m){return ic.apply(this,arguments)}(d.auth);We(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zo{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Pi._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function fs(){return(fs=(0,S.Z)(function*(m,d,f){const _=$n(m),N=yield ba(_,d,(0,W.m9)(f));return new Zo(N,L=>Hn(_,L))})).apply(this,arguments)}function ju(){return(ju=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m);yield Js(!1,_,"phone");const N=yield ba(_.auth,d,(0,W.m9)(f));return new Zo(N,L=>Xi(_,L))})).apply(this,arguments)}function xl(){return(xl=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m),N=yield ba(_.auth,d,(0,W.m9)(f));return new Zo(N,L=>ca(_,L))})).apply(this,arguments)}function ba(m,d,f){return bd.apply(this,arguments)}function bd(){return(bd=(0,S.Z)(function*(m,d,f){var _;const N=yield f.verify();try{let L;if(We("string"==typeof N,m,"argument-error"),We(f.type===wi,m,"argument-error"),L="string"==typeof d?{phoneNumber:d}:d,"session"in L){const X=L.session;if("phoneNumber"in L)return We("enroll"===X.type,m,"internal-error"),(yield to(m,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{We("signin"===X.type,m,"internal-error");const pe=(null===(_=L.multiFactorHint)||void 0===_?void 0:_.uid)||L.multiFactorUid;return We(pe,m,"missing-multi-factor-info"),(yield Wf(m,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield yo(m,{phoneNumber:L.phoneNumber,recaptchaToken:N});return X}}finally{f._reset()}})).apply(this,arguments)}function O(){return(O=(0,S.Z)(function*(m,d){yield Uo((0,W.m9)(m),d)})).apply(this,arguments)}let U=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=$n(f)}verifyPhoneNumber(f,_){return ba(this.auth,f,(0,W.m9)(_))}static credential(f,_){return Pi._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:N}=f;return _&&N?Pi._fromTokenResponse(_,N):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Z(m,d){return d?xn(d):(We(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class le extends vi{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return oi(d,this._buildIdpRequest())}_linkToIdToken(d,f){return oi(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return oi(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function we(m){return un(m.auth,new le(m),m.bypassAuthState)}function Ue(m){const{auth:d,user:f}=m;return We(f,d,"internal-error"),$a(f,new le(m),m.bypassAuthState)}function it(m){return St.apply(this,arguments)}function St(){return(St=(0,S.Z)(function*(m){const{auth:d,user:f}=m;return We(f,d,"internal-error"),Uo(f,new le(m),m.bypassAuthState)})).apply(this,arguments)}class zt{constructor(d,f,_,N,L=!1){this.auth=d,this.resolver=_,this.user=N,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,S.Z)(function*(_,N){d.pendingPromise={resolve:_,reject:N};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(L){d.reject(L)}});return function(_,N){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,S.Z)(function*(){const{urlResponse:_,sessionId:N,postBody:L,tenantId:X,error:pe,type:Ke}=d;if(pe)return void f.reject(pe);const He={auth:f.auth,requestUri:_,sessionId:N,tenantId:X||void 0,postBody:L||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ke)(He))}catch(It){f.reject(It)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return we;case"linkViaPopup":case"linkViaRedirect":return it;case"reauthViaPopup":case"reauthViaRedirect":return Ue;default:Ot(this.auth,"internal-error")}}resolve(d){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vt=new wt(2e3,1e4);function ni(){return(ni=(0,S.Z)(function*(m,d,f){const _=$n(m);Ln(m,d,ye);const N=Z(_,f);return new Da(_,"signInViaPopup",d,N).executeNotNull()})).apply(this,arguments)}function Yo(){return(Yo=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m);Ln(_.auth,d,ye);const N=Z(_.auth,f);return new Da(_.auth,"reauthViaPopup",d,N,_).executeNotNull()})).apply(this,arguments)}function Dr(){return(Dr=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m);Ln(_.auth,d,ye);const N=Z(_.auth,f);return new Da(_.auth,"linkViaPopup",d,N,_).executeNotNull()})).apply(this,arguments)}let Da=(()=>{class m extends zt{constructor(f,_,N,L,X){super(f,_,L,X),this.provider=N,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,S.Z)(function*(){const _=yield f.execute();return We(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,S.Z)(function*(){wn(1===f.filter.length,"Popup operations only handle one event");const _=v();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(N=>{f.reject(N)}),f.resolver._isIframeWebStorageSupported(f.auth,N=>{N||f.reject(Ir(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,N;this.pollId=(null===(N=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Vt.get())};f()}}return m.currentPopupAction=null,m})();const gs=new Map;class Qn extends zt{constructor(d,f,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,S.Z)(function*(){let _=gs.get(f.auth._key());if(!_){try{const L=(yield function(m,d){return oc.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;_=()=>Promise.resolve(L)}catch(N){_=()=>Promise.reject(N)}gs.set(f.auth._key(),_)}return f.bypassAuthState||gs.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,_=this;return(0,S.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(_,d);if("unknown"!==d.type){if(d.eventId){const N=yield _.auth._redirectUserForId(d.eventId);if(N)return _.user=N,f().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function oc(){return(oc=(0,S.Z)(function*(m,d){const f=nm(d),_=Uc(m);if(!(yield _._isAvailable()))return!1;const N="true"===(yield _._get(f));return yield _._remove(f),N})).apply(this,arguments)}function ru(m,d){return ac.apply(this,arguments)}function ac(){return(ac=(0,S.Z)(function*(m,d){return Uc(m)._set(nm(d),"true")})).apply(this,arguments)}function Dd(m,d){gs.set(m._key(),d)}function Uc(m){return xn(m._redirectPersistence)}function nm(m){return En("pendingRedirect",m.config.apiKey,m.name)}function Jo(){return(Jo=(0,S.Z)(function*(m,d,f){const _=$n(m);Ln(m,d,ye);const N=Z(_,f);return yield ru(N,_),N._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function Cd(){return(Cd=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m);Ln(_.auth,d,ye);const N=Z(_.auth,f);yield ru(N,_.auth);const L=yield ut(_);return N._openRedirect(_.auth,d,"reauthViaRedirect",L)})).apply(this,arguments)}function Ca(){return(Ca=(0,S.Z)(function*(m,d,f){const _=(0,W.m9)(m);Ln(_.auth,d,ye);const N=Z(_.auth,f);yield Js(!1,_,d.providerId),yield ru(N,_.auth);const L=yield ut(_);return N._openRedirect(_.auth,d,"linkViaRedirect",L)})).apply(this,arguments)}function vt(){return(vt=(0,S.Z)(function*(m,d){return yield $n(m)._initializationPromise,At(m,d,!1)})).apply(this,arguments)}function At(m,d){return cc.apply(this,arguments)}function cc(){return(cc=(0,S.Z)(function*(m,d,f=!1){const _=$n(m),N=Z(_,d),X=yield new Qn(_,N,f).execute();return X&&!f&&(delete X.user._redirectEventId,yield _._persistUserIfCurrent(X.user),yield _._setRedirectUser(null,d)),X})).apply(this,arguments)}function ut(m){return De.apply(this,arguments)}function De(){return(De=(0,S.Z)(function*(m){const d=v(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class ci{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(f=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qf(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var _;if(d.error&&!Qf(d)){const N=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(Ir(this.auth,N))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const _=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yf(d))}saveEventToCache(d){this.cachedEventUids.add(Yf(d)),this.lastProcessedEventTime=Date.now()}}function Yf(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Qf({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Jf(m){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,S.Z)(function*(m,d={}){return mn(m,"GET","/v1/projects",d)})).apply(this,arguments)}const Ah=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lc=/^https?/;function Xf(){return(Xf=(0,S.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield Jf(m);for(const f of d)try{if(U_(f))return}catch(_){}Ot(m,"unauthorized-domain")})).apply(this,arguments)}function U_(m){const d=_t(),{protocol:f,hostname:_}=new URL(d);if(m.startsWith("chrome-extension://")){const X=new URL(m);return""===X.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&X.hostname===_}if(!lc.test(f))return!1;if(Ah.test(m))return _===m;const N=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(_)}const Rl=new wt(3e4,6e4);function Kt(){const m=P().___jsl;if(null==m?void 0:m.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let jc=null;function vr(m){return jc=jc||function(m){return new Promise((d,f)=>{var _,N,L;function X(){Kt(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Kt(),f(Ir(m,"network-request-failed"))},timeout:Rl.get()})}if(null===(N=null===(_=P().gapi)||void 0===_?void 0:_.iframes)||void 0===N?void 0:N.Iframe)d(gapi.iframes.getContext());else{if(!(null===(L=P().gapi)||void 0===L?void 0:L.load)){const pe=Sl("iframefcb");return P()[pe]=()=>{gapi.load?X():f(Ir(m,"network-request-failed"))},Fc(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ke=>f(Ke))}X()}}).catch(d=>{throw jc=null,d})}(m),jc}const Rt=new wt(5e3,15e3),sm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$r=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function at(m){const d=m.config;We(d.authDomain,m,"auth-domain-config-required");const f=d.emulator?Et(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:m.name,v:fe.SDK_VERSION},N=$r.get(m.config.apiHost);N&&(_.eid=N);const L=m._getFrameworks();return L.length&&(_.fw=L.join(",")),`${f}?${(0,W.xO)(_).slice(1)}`}function Ta(){return Ta=(0,S.Z)(function*(m){const d=yield vr(m),f=P().gapi;return We(f,m,"internal-error"),d.open({where:document.body,url:at(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sm,dontclear:!0},_=>new Promise(function(){var N=(0,S.Z)(function*(L,X){yield _.restyle({setHideOnLeave:!1});const pe=Ir(m,"network-request-failed"),Ke=P().setTimeout(()=>{X(pe)},Rt.get());function He(){P().clearTimeout(Ke),L(_)}_.ping(He).then(He,()=>{X(pe)})});return function(L,X){return N.apply(this,arguments)}}()))}),Ta.apply(this,arguments)}const $u={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xh{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Sd(m,d,f,_,N,L){We(m.config.authDomain,m,"auth-domain-config-required"),We(m.config.apiKey,m,"invalid-api-key");const X={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:fe.SDK_VERSION,eventId:N};if(d instanceof ye){d.setDefaultLanguage(m.languageCode),X.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(X.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ke,He]of Object.entries(L||{}))X[Ke]=He}if(d instanceof Be){const Ke=d.getScopes().filter(He=>""!==He);Ke.length>0&&(X.scopes=Ke.join(","))}m.tenantId&&(X.tid=m.tenantId);const pe=X;for(const Ke of Object.keys(pe))void 0===pe[Ke]&&delete pe[Ke];return`${function({config:m}){return m.emulator?Et(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,W.xO)(pe).slice(1)}`}const Ol="webStorageSupport";class fc extends class{constructor(d){this.factorId=d}_process(d,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,_);case"signin":return this._finalizeSignIn(d,f.credential);default:return Ar("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new fc(d)}_finalizeEnroll(d,f,_){return function(m,d){return mn(m,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(m,d))}(d,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function(m,d){return mn(m,"POST","/v2/accounts/mfaSignIn:finalize",Gt(m,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hc=(()=>{class m{constructor(){}static assertion(f){return fc._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var m,Sa="@firebase/auth",Mh="0.20.10";class Gc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,S.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(_=>{var N;d((null===(N=_)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iu(){return window}function bi(){return bi=(0,S.Z)(function*(m,d,f){var _;const{BuildInfo:N}=iu();wn(d.sessionId,"AuthEvent did not contain a session ID");const L=yield Gr(d.sessionId),X={};return Kn()?X.ibi=N.packageName:Jr()?X.apn=N.packageName:Ot(m,"operation-not-supported-in-this-environment"),N.displayName&&(X.appDisplayName=N.displayName),X.sessionId=L,Sd(m,f,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,X)}),bi.apply(this,arguments)}function kl(){return kl=(0,S.Z)(function*(m){const{BuildInfo:d}=iu(),f={};Kn()?f.iosBundleId=d.packageName:Jr()?f.androidPackageName=d.packageName:Ot(m,"operation-not-supported-in-this-environment"),yield Jf(m,f)}),kl.apply(this,arguments)}function Fl(){return Fl=(0,S.Z)(function*(m,d,f){const{cordova:_}=iu();let N=()=>{};try{yield new Promise((L,X)=>{let pe=null;function Ke(){var bt;L();const ln=null===(bt=_.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof ln&&ln(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function He(){pe||(pe=window.setTimeout(()=>{X(Ir(m,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===(null==document?void 0:document.visibilityState)&&He()}d.addPassiveListener(Ke),document.addEventListener("resume",He,!1),Jr()&&document.addEventListener("visibilitychange",It,!1),N=()=>{d.removePassiveListener(Ke),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",It,!1),pe&&window.clearTimeout(pe)}})}finally{N()}}),Fl.apply(this,arguments)}function Gr(m){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,S.Z)(function*(m){const d=Wr(m),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(N=>N.toString(16).padStart(2,"0")).join("")}),Aa.apply(this,arguments)}function Wr(m){if(wn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),f=new Uint8Array(d);for(let _=0;_<m.length;_++)f[_]=m.charCodeAt(_);return f}(0,W.Pz)("authIdTokenMaxAge"),m="Browser",(0,fe._registerComponent)(new Bn.wA("auth",(d,{options:f})=>{const _=d.getProvider("app").getImmediate(),N=d.getProvider("heartbeat"),{apiKey:L,authDomain:X}=_.options;return((pe,Ke)=>{We(L&&!L.includes(":"),"invalid-api-key",{appName:pe.name}),We(!(null==X?void 0:X.includes(":")),"argument-error",{appName:pe.name});const He={apiKey:L,authDomain:X,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(m)},It=new Ki(pe,Ke,He);return function(m,d){const f=(null==d?void 0:d.persistence)||[],_=(Array.isArray(f)?f:[f]).map(xn);(null==d?void 0:d.errorMap)&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(_,null==d?void 0:d.popupRedirectResolver)}(It,f),It})(_,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,_)=>{d.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new Bn.wA("auth-internal",d=>{const f=$n(d.getProvider("auth").getImmediate());return new Gc(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Sa,Mh,void 0),(0,fe.registerVersion)(Sa,Mh,"esm2017");class xd extends ci{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,S.Z)(function*(){yield d.initPromise})()}}function rp(m){return xa.apply(this,arguments)}function xa(){return xa=(0,S.Z)(function*(m){const d=yield kh()._get(Vs(m));return d&&(yield kh()._remove(Vs(m))),d}),xa.apply(this,arguments)}function Rd(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const _=Math.floor(Math.random()*d.length);m.push(d.charAt(_))}return m.join("")}function kh(){return xn(Ui)}function Vs(m){return En("authEvent",m.config.apiKey,m.name)}function Us(m){if(!(null==m?void 0:m.includes("?")))return{};const[d,...f]=m.split("?");return(0,W.zd)(f.join("?"))}function uu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ir("no-auth-event")}}function gc(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Kc(m=(0,W.z$)()){return!("file:"!==gc()&&"ionic:"!==gc()&&"capacitor:"!==gc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function jl(){try{const m=self.localStorage,d=v();if(m)return m.setItem(d,"1"),m.removeItem(d),!function(m=(0,W.z$)()){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)||function(m=(0,W.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,W.hl)()}catch(m){return $l()&&(0,W.hl)()}return!1}function $l(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ci(){return("http:"===gc()||"https:"===gc()||(0,W.ru)()||Kc())&&!((0,W.b$)()||(0,W.UG)())&&jl()&&!$l()}function ap(){return Kc()&&"undefined"!=typeof document}function qc(){return qc=(0,S.Z)(function*(){return!!ap()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})}),qc.apply(this,arguments)}const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},Ra=We,Zc="persistence";function Yc(m){return Od.apply(this,arguments)}function Od(){return Od=(0,S.Z)(function*(m){yield m._initializationPromise;const d=ri(),f=En(Zc,m.config.apiKey,m.name);d&&d.setItem(f,m._getPersistence())}),Od.apply(this,arguments)}function ri(){var m;try{return(null===(m="undefined"!=typeof window?window:null)||void 0===m?void 0:m.sessionStorage)||null}catch(d){return null}}const xo=We;class cu{constructor(){this.browserResolver=xn(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=At,this._overrideRedirectResult=Dd}_openPopup(d,f,_,N){var L=this;return(0,S.Z)(function*(){var X;wn(null===(X=L.eventManagers[d._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=Sd(d,f,_,_t(),N);return function(m,d,f,_=500,N=600){const L=Math.max((window.screen.availHeight-N)/2,0).toString(),X=Math.max((window.screen.availWidth-_)/2,0).toString();let pe="";const Ke=Object.assign(Object.assign({},$u),{width:_.toString(),height:N.toString(),top:L,left:X}),He=(0,W.z$)().toLowerCase();f&&(pe=Os(He)?"_blank":f),$t(He)&&(d=d||"http://localhost",Ke.scrollbars="yes");const It=Object.entries(Ke).reduce((ln,[ji,Gu])=>`${ln}${ji}=${Gu},`,"");if(function(m=(0,W.z$)()){var d;return Kn(m)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(He)&&"_self"!==pe)return function(m,d){const f=document.createElement("a");f.href=m,f.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(d||"",pe),new xh(null);const bt=window.open(d||"",pe,It);We(bt,m,"popup-blocked");try{bt.focus()}catch(ln){}return new xh(bt)}(d,pe,v())})()}_openRedirect(d,f,_,N){var L=this;return(0,S.Z)(function*(){return yield L._originValidation(d),m=Sd(d,f,_,_t(),N),P().location.href=m,new Promise(()=>{});var m})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:N,promise:L}=this.eventManagers[f];return N?Promise.resolve(N):(wn(L,"If manager is not set, promise should be"),L)}const _=this.initAndGetManager(d);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(d){var f=this;return(0,S.Z)(function*(){const _=yield function(m){return Ta.apply(this,arguments)}(d),N=new ci(d);return _.register("authEvent",L=>(We(null==L?void 0:L.authEvent,d,"invalid-auth-event"),{status:N.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:N},f.iframes[d._key()]=_,N})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Ol,{type:Ol},N=>{var L;const X=null===(L=null==N?void 0:N[0])||void 0===L?void 0:L[Ol];void 0!==X&&f(!!X),Ot(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return Xf.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return cs()||qs()||Kn()}}),this.cordovaResolver=xn(class{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=At,this._overrideRedirectResult=Dd}_initialize(d){var f=this;return(0,S.Z)(function*(){const _=d._key();let N=f.eventManagers.get(_);return N||(N=new xd(d),f.eventManagers.set(_,N),f.attachCallbackListeners(d,N)),N})()}_openPopup(d){Ot(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,_,N){var L=this;return(0,S.Z)(function*(){!function(m){var d,f,_,N,L,X,pe,Ke,He,It;const bt=iu();We("function"==typeof(null===(d=null==bt?void 0:bt.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),We(void 0!==(null===(f=null==bt?void 0:bt.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),We("function"==typeof(null===(L=null===(N=null===(_=null==bt?void 0:bt.cordova)||void 0===_?void 0:_.plugins)||void 0===N?void 0:N.browsertab)||void 0===L?void 0:L.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(Ke=null===(pe=null===(X=null==bt?void 0:bt.cordova)||void 0===X?void 0:X.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Ke?void 0:Ke.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(It=null===(He=null==bt?void 0:bt.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===It?void 0:It.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const X=yield L._initialize(d);yield X.initialized(),X.resetRedirect(),gs.clear(),yield L._originValidation(d);const pe=function(m,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Rd(),postBody:null,tenantId:m.tenantId,error:Ir(m,"no-auth-event")}}(d,_,N);yield function(m,d){return kh()._set(Vs(m),d)}(d,pe);const Ke=yield function(m,d,f){return bi.apply(this,arguments)}(d,pe,f),He=yield function(m){const{cordova:d}=iu();return new Promise(f=>{d.plugins.browsertab.isAvailable(_=>{let N=null;_?d.plugins.browsertab.openUrl(m):N=d.InAppBrowser.open(m,function(m=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(N)})})}(Ke);return function(m,d,f){return Fl.apply(this,arguments)}(d,X,He)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return kl.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:_,handleOpenURL:N,BuildInfo:L}=iu(),X=setTimeout((0,S.Z)(function*(){yield rp(d),f.onEvent(uu())}),500),pe=function(){var It=(0,S.Z)(function*(bt){clearTimeout(X);const ln=yield rp(d);let ji=null;ln&&(null==bt?void 0:bt.url)&&(ji=function(m,d){var f,_;const N=function(m){const d=Us(m),f=d.link?decodeURIComponent(d.link):void 0,_=Us(f).link,N=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Us(N).link||N||_||f||m}(d);if(N.includes("/__/auth/callback")){const L=Us(N),X=L.firebaseError?function(m){try{return JSON.parse(m)}catch(d){return null}}(decodeURIComponent(L.firebaseError)):null,pe=null===(_=null===(f=null==X?void 0:X.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],Ke=pe?Ir(pe):null;return Ke?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:N,postBody:null}}return null}(ln,bt.url)),f.onEvent(ji||uu())});return function(ln){return It.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,pe);const Ke=N,He=`${L.packageName.toLowerCase()}://`;iu().handleOpenURL=function(){var It=(0,S.Z)(function*(bt){if(bt.toLowerCase().startsWith(He)&&pe({url:bt}),"function"==typeof Ke)try{Ke(bt)}catch(ln){console.error(ln)}});return function(bt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=At,this._overrideRedirectResult=Dd}_initialize(d){var f=this;return(0,S.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,_,N){var L=this;return(0,S.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(d,f,_,N)})()}_openRedirect(d,f,_,N){var L=this;return(0,S.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(d,f,_,N)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return ap()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,S.Z)(function*(){if(d.underlyingResolver)return;const f=yield function(){return qc.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function lp(m){return m.unwrap()}function hp(m){return Lh(m)}function Lh(m){const{_tokenResponse:d}=m instanceof W.ZR?m.customData:m;if(!d)return null;if(!(m instanceof W.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return U.credentialFromResult(m);const f=d.providerId;if(!f||"password"===f)return null;let _;switch(f){case"google.com":_=yt;break;case"facebook.com":_=Ht;break;case"github.com":_=Sn;break;case"twitter.com":_=Yi;break;default:const{oauthIdToken:N,oauthAccessToken:L,oauthTokenSecret:X,pendingToken:pe,nonce:Ke}=d;return L||X||N||pe?pe?f.startsWith("saml.")?Rn._create(f,pe):Mi._fromParams({providerId:f,signInMethod:f,pendingToken:pe,idToken:N,accessToken:L}):new lt(f).credential({idToken:N,accessToken:L,rawNonce:Ke}):null}return m instanceof W.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function Bs(m,d){return d.catch(f=>{throw f instanceof W.ZR&&function(m,d){var f,_;const N=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=d)||void 0===_?void 0:_.code))d.resolver=new Qc(m,function(m,d){var f;const _=(0,W.m9)(m),N=d;return We(d.customData.operationType,_,"argument-error"),We(null===(f=N.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Uu._fromError(_,N)}(m,d));else if(N){const L=Lh(d),X=d;L&&(X.credential=L,X.tenantId=N.tenantId||void 0,X.email=N.email||void 0,X.phoneNumber=N.phoneNumber||void 0)}}(m,f),f}).then(f=>{const N=f.user;return{operationType:f.operationType,credential:hp(f),additionalUserInfo:tc(f),user:Si.getOrCreate(N)}})}function Na(m,d){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,S.Z)(function*(m,d){const f=yield d;return{verificationId:f.verificationId,confirm:_=>Bs(m,f.confirm(_))}}),Hu.apply(this,arguments)}class Qc{constructor(d,f){this.resolver=f,this.auth=function(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Bs(lp(this.auth),this.resolver.resolveSignIn(d))}}class Si{constructor(d){this._delegate=d,this.multiFactor=function(m){const d=(0,W.m9)(m);return hs.has(d)||hs.set(d,Do._fromUser(d)),hs.get(d)}(d)}static getOrCreate(d){return Si.USER_MAP.has(d)||Si.USER_MAP.set(d,new Si(d)),Si.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,S.Z)(function*(){return Bs(f.auth,Xi(f._delegate,d))})()}linkWithPhoneNumber(d,f){var _=this;return(0,S.Z)(function*(){return Na(_.auth,function(m,d,f){return ju.apply(this,arguments)}(_._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,S.Z)(function*(){return Bs(f.auth,function(m,d,f){return Dr.apply(this,arguments)}(f._delegate,d,cu))})()}linkWithRedirect(d){var f=this;return(0,S.Z)(function*(){return yield Yc($n(f.auth)),function(m,d,f){return function(m,d,f){return Ca.apply(this,arguments)}(m,d,f)}(f._delegate,d,cu)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,S.Z)(function*(){return Bs(f.auth,ca(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Na(this.auth,function(m,d,f){return xl.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Bs(this.auth,function(m,d,f){return Yo.apply(this,arguments)}(this._delegate,d,cu))}reauthenticateWithRedirect(d){var f=this;return(0,S.Z)(function*(){return yield Yc($n(f.auth)),function(m,d,f){return function(m,d,f){return Cd.apply(this,arguments)}(m,d,f)}(f._delegate,d,cu)})()}sendEmailVerification(d){return function(m,d){return za.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,S.Z)(function*(){return yield function(m,d){return ua.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function(m,d){return Wo((0,W.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function(m,d){return Wo((0,W.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(m,d){return O.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(m,d){return ks.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function(m,d,f){return eo.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Si.USER_MAP=new WeakMap;const Hl=We;let lu=(()=>{class m{constructor(f,_){if(this.app=f,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=f.options;Hl(N,"invalid-api-key",{appName:f.name}),Hl(N,"invalid-api-key",{appName:f.name});const L="undefined"!=typeof window?cu:void 0;this._delegate=_.initialize({options:{persistence:Gl(N,f.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(Ms),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Si.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,_){!function(m,d,f){const _=$n(m);We(_._canInitEmulator,_,"emulator-config-failed"),We(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const N=!!(null==f?void 0:f.disableWarnings),L=_i(d),{host:X,port:pe}=function(m){const d=_i(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(_);if(N){const L=N[1];return{host:L,port:Zs(_.substr(L.length+1))}}{const[L,X]=_.split(":");return{host:L,port:Zs(X)}}}(d);_.config.emulator={url:`${L}//${X}${null===pe?"":`:${pe}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:X,port:pe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function(){function m(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,_)}applyActionCode(f){return function(m,d){return Ho.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Ga(this._delegate,f)}confirmPasswordReset(f,_){return function(m,d,f){return xu.apply(this,arguments)}(this._delegate,f,_)}createUserWithEmailAndPassword(f,_){var N=this;return(0,S.Z)(function*(){return Bs(N._delegate,function(m,d,f){return Io.apply(this,arguments)}(N._delegate,f,_))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(m,d){return ts.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(m,d){const f=R.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,S.Z)(function*(){Hl(Ci(),f._delegate,"operation-not-supported-in-this-environment");const _=yield function(m,d){return vt.apply(this,arguments)}(f._delegate,cu);return _?Bs(f._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(m,d){$n(m)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,_,N){const{next:L,error:X,complete:pe}=Pd(f,_,N);return this._delegate.onAuthStateChanged(L,X,pe)}onIdTokenChanged(f,_,N){const{next:L,error:X,complete:pe}=Pd(f,_,N);return this._delegate.onIdTokenChanged(L,X,pe)}sendSignInLinkToEmail(f,_){return function(m,d,f){return da.apply(this,arguments)}(this._delegate,f,_)}sendPasswordResetEmail(f,_){return function(m,d,f){return ds.apply(this,arguments)}(this._delegate,f,_||void 0)}setPersistence(f){var _=this;return(0,S.Z)(function*(){let N;switch(function(m,d){Ra(Object.values(Ti).includes(d),m,"invalid-persistence-type"),(0,W.b$)()?Ra(d!==Ti.SESSION,m,"unsupported-persistence-type"):(0,W.UG)()?Ra(d===Ti.NONE,m,"unsupported-persistence-type"):$l()?Ra(d===Ti.NONE||d===Ti.LOCAL&&(0,W.hl)(),m,"unsupported-persistence-type"):Ra(d===Ti.NONE||jl(),m,"unsupported-persistence-type")}(_._delegate,f),f){case Ti.SESSION:N=Cs;break;case Ti.LOCAL:N=(yield xn(Ia)._isAvailable())?Ia:Ui;break;case Ti.NONE:N=rr;break;default:return Ot("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Bs(this._delegate,function(m){return ki.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Bs(this._delegate,Hn(this._delegate,f))}signInWithCustomToken(f){return Bs(this._delegate,function(m,d){return Yn.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,_){return Bs(this._delegate,function(m,d,f){return Hn((0,W.m9)(m),ne.credential(d,f))}(this._delegate,f,_))}signInWithEmailLink(f,_){return Bs(this._delegate,function(m,d,f){return fa.apply(this,arguments)}(this._delegate,f,_))}signInWithPhoneNumber(f,_){return Na(this._delegate,function(m,d,f){return fs.apply(this,arguments)}(this._delegate,f,_))}signInWithPopup(f){var _=this;return(0,S.Z)(function*(){return Hl(Ci(),_._delegate,"operation-not-supported-in-this-environment"),Bs(_._delegate,function(m,d,f){return ni.apply(this,arguments)}(_._delegate,f,cu))})()}signInWithRedirect(f){var _=this;return(0,S.Z)(function*(){return Hl(Ci(),_._delegate,"operation-not-supported-in-this-environment"),yield Yc(_._delegate),function(m,d,f){return function(m,d,f){return Jo.apply(this,arguments)}(m,d,f)}(_._delegate,f,cu)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(m,d){return Nu.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Ti,m})();function Pd(m,d,f){let _=m;"function"!=typeof m&&({next:_,error:d,complete:f}=m);const N=_;return{next:X=>N(X&&Si.getOrCreate(X)),error:d,complete:f}}function Gl(m,d){const f=function(m,d){const f=ri();if(!f)return[];const _=En(Zc,m,d);switch(f.getItem(_)){case Ti.NONE:return[rr];case Ti.LOCAL:return[Ia,Cs];case Ti.SESSION:return[Cs];default:return[]}}(m,d);if("undefined"!=typeof self&&!f.includes(Ia)&&f.push(Ia),"undefined"!=typeof window)for(const _ of[Ui,Cs])f.includes(_)||f.push(_);return f.includes(rr)||f.push(rr),f}class so{constructor(){this.providerId="phone",this._delegate=new U(lp(x.Z.auth()))}static credential(d,f){return U.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}so.PHONE_SIGN_IN_METHOD=U.PHONE_SIGN_IN_METHOD,so.PROVIDER_ID=U.PROVIDER_ID;const Wl=We;class zl{constructor(d,f,_=x.Z.app()){var N;Wl(null===(N=_.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new qo(d,f,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(m){m.INTERNAL.registerComponent(new Bn.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new lu(f,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ne,FacebookAuthProvider:Ht,GithubAuthProvider:Sn,GoogleAuthProvider:yt,OAuthProvider:lt,SAMLAuthProvider:or,PhoneAuthProvider:so,PhoneMultiFactorGenerator:Hc,RecaptchaVerifier:zl,TwitterAuthProvider:Yi,Auth:lu,AuthCredential:vi,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.23")}(x.Z)},7574:(Je,Ie,B)=>{"use strict";B.d(Ie,{y:()=>q});var S=B(7393),W=B(9181),fe=B(6490),se=B(6554),_e=B(4487);var K=B(2494);let q=(()=>{class de{constructor(Pe){this._isScalar=!1,Pe&&(this._subscribe=Pe)}lift(Pe){const Ne=new de;return Ne.source=this,Ne.operator=Pe,Ne}subscribe(Pe,Ne,Te){const{operator:je}=this,Ve=function(de,be,Pe){if(de){if(de instanceof S.L)return de;if(de[W.b])return de[W.b]()}return de||be||Pe?new S.L(de,be,Pe):new S.L(fe.c)}(Pe,Ne,Te);if(Ve.add(je?je.call(Ve,this.source):this.source||K.v.useDeprecatedSynchronousErrorHandling&&!Ve.syncErrorThrowable?this._subscribe(Ve):this._trySubscribe(Ve)),K.v.useDeprecatedSynchronousErrorHandling&&Ve.syncErrorThrowable&&(Ve.syncErrorThrowable=!1,Ve.syncErrorThrown))throw Ve.syncErrorValue;return Ve}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ne){K.v.useDeprecatedSynchronousErrorHandling&&(Pe.syncErrorThrown=!0,Pe.syncErrorValue=Ne),function(de){for(;de;){const{closed:be,destination:Pe,isStopped:Ne}=de;if(be||Ne)return!1;de=Pe&&Pe instanceof S.L?Pe:null}return!0}(Pe)?Pe.error(Ne):console.warn(Ne)}}forEach(Pe,Ne){return new(Ne=he(Ne))((Te,je)=>{let Ve;Ve=this.subscribe(Le=>{try{Pe(Le)}catch(ft){je(ft),Ve&&Ve.unsubscribe()}},je,Te)})}_subscribe(Pe){const{source:Ne}=this;return Ne&&Ne.subscribe(Pe)}[se.L](){return this}pipe(...Pe){return 0===Pe.length?this:function(de){return 0===de.length?_e.y:1===de.length?de[0]:function(Pe){return de.reduce((Ne,Te)=>Te(Ne),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=he(Pe))((Ne,Te)=>{let je;this.subscribe(Ve=>je=Ve,Ve=>Te(Ve),()=>Ne(je))})}}return de.create=be=>new de(be),de})();function he(de){if(de||(de=K.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(Je,Ie,B)=>{"use strict";B.d(Ie,{c:()=>W});var S=B(2494),x=B(4449);const W={closed:!0,next(fe){},error(fe){if(S.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,x.z)(fe)},complete(){}}},9765:(Je,Ie,B)=>{"use strict";B.d(Ie,{Yc:()=>_e,xQ:()=>oe});var S=B(7574),x=B(7393),W=B(5319),fe=B(7971),ae=B(8858),se=B(9181);class _e extends x.L{constructor(q){super(q),this.destination=q}}let oe=(()=>{class K extends S.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new _e(this)}lift(he){const de=new ue(this,this);return de.operator=he,de}next(he){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:de}=this,be=de.length,Pe=de.slice();for(let Ne=0;Ne<be;Ne++)Pe[Ne].next(he)}}error(he){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=he,this.isStopped=!0;const{observers:de}=this,be=de.length,Pe=de.slice();for(let Ne=0;Ne<be;Ne++)Pe[Ne].error(he);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:he}=this,de=he.length,be=he.slice();for(let Pe=0;Pe<de;Pe++)be[Pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(he){if(this.closed)throw new fe.N;return super._trySubscribe(he)}_subscribe(he){if(this.closed)throw new fe.N;return this.hasError?(he.error(this.thrownError),W.w.EMPTY):this.isStopped?(he.complete(),W.w.EMPTY):(this.observers.push(he),new ae.W(this,he))}asObservable(){const he=new S.y;return he.source=this,he}}return K.create=(q,he)=>new ue(q,he),K})();class ue extends oe{constructor(q,he){super(),this.destination=q,this.source=he}next(q){const{destination:he}=this;he&&he.next&&he.next(q)}error(q){const{destination:he}=this;he&&he.error&&this.destination.error(q)}complete(){const{destination:q}=this;q&&q.complete&&this.destination.complete()}_subscribe(q){const{source:he}=this;return he?this.source.subscribe(q):W.w.EMPTY}}},8858:(Je,Ie,B)=>{"use strict";B.d(Ie,{W:()=>x});var S=B(5319);class x extends S.w{constructor(fe,ae){super(),this.subject=fe,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const fe=this.subject,ae=fe.observers;if(this.subject=null,!ae||0===ae.length||fe.isStopped||fe.closed)return;const se=ae.indexOf(this.subscriber);-1!==se&&ae.splice(se,1)}}},7393:(Je,Ie,B)=>{"use strict";B.d(Ie,{L:()=>_e});var S=B(9105),x=B(6490),W=B(5319),fe=B(9181),ae=B(2494),se=B(4449);class _e extends W.w{constructor(K,q,he){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=x.c;break;case 1:if(!K){this.destination=x.c;break}if("object"==typeof K){K instanceof _e?(this.syncErrorThrowable=K.syncErrorThrowable,this.destination=K,K.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,K));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,K,q,he)}}[fe.b](){return this}static create(K,q,he){const de=new _e(K,q,he);return de.syncErrorThrowable=!1,de}next(K){this.isStopped||this._next(K)}error(K){this.isStopped||(this.isStopped=!0,this._error(K))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(K){this.destination.next(K)}_error(K){this.destination.error(K),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:K}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=K,this}}class oe extends _e{constructor(K,q,he,de){super(),this._parentSubscriber=K;let be,Pe=this;(0,S.m)(q)?be=q:q&&(be=q.next,he=q.error,de=q.complete,q!==x.c&&(Pe=Object.create(q),(0,S.m)(Pe.unsubscribe)&&this.add(Pe.unsubscribe.bind(Pe)),Pe.unsubscribe=this.unsubscribe.bind(this))),this._context=Pe,this._next=be,this._error=he,this._complete=de}next(K){if(!this.isStopped&&this._next){const{_parentSubscriber:q}=this;ae.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?this.__tryOrSetError(q,this._next,K)&&this.unsubscribe():this.__tryOrUnsub(this._next,K)}}error(K){if(!this.isStopped){const{_parentSubscriber:q}=this,{useDeprecatedSynchronousErrorHandling:he}=ae.v;if(this._error)he&&q.syncErrorThrowable?(this.__tryOrSetError(q,this._error,K),this.unsubscribe()):(this.__tryOrUnsub(this._error,K),this.unsubscribe());else if(q.syncErrorThrowable)he?(q.syncErrorValue=K,q.syncErrorThrown=!0):(0,se.z)(K),this.unsubscribe();else{if(this.unsubscribe(),he)throw K;(0,se.z)(K)}}}complete(){if(!this.isStopped){const{_parentSubscriber:K}=this;if(this._complete){const q=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?(this.__tryOrSetError(K,q),this.unsubscribe()):(this.__tryOrUnsub(q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(K,q){try{K.call(this._context,q)}catch(he){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw he;(0,se.z)(he)}}__tryOrSetError(K,q,he){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{q.call(this._context,he)}catch(de){return ae.v.useDeprecatedSynchronousErrorHandling?(K.syncErrorValue=de,K.syncErrorThrown=!0,!0):((0,se.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:K}=this;this._context=null,this._parentSubscriber=null,K.unsubscribe()}}},5319:(Je,Ie,B)=>{"use strict";B.d(Ie,{w:()=>se});var S=B(9796),x=B(1555),W=B(9105);const ae=(()=>{function oe(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((K,q)=>`${q+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return oe.prototype=Object.create(Error.prototype),oe})();class se{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:K,_ctorUnsubscribe:q,_unsubscribe:he,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,K instanceof se)K.remove(this);else if(null!==K)for(let be=0;be<K.length;++be)K[be].remove(this);if((0,W.m)(he)){q&&(this._unsubscribe=void 0);try{he.call(this)}catch(be){ue=be instanceof ae?_e(be.errors):[be]}}if((0,S.k)(de)){let be=-1,Pe=de.length;for(;++be<Pe;){const Ne=de[be];if((0,x.K)(Ne))try{Ne.unsubscribe()}catch(Te){ue=ue||[],Te instanceof ae?ue=ue.concat(_e(Te.errors)):ue.push(Te)}}}if(ue)throw new ae(ue)}add(ue){let K=ue;if(!ue)return se.EMPTY;switch(typeof ue){case"function":K=new se(ue);case"object":if(K===this||K.closed||"function"!=typeof K.unsubscribe)return K;if(this.closed)return K.unsubscribe(),K;if(!(K instanceof se)){const de=K;K=new se,K._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:q}=K;if(null===q)K._parentOrParents=this;else if(q instanceof se){if(q===this)return K;K._parentOrParents=[q,this]}else{if(-1!==q.indexOf(this))return K;q.push(this)}const he=this._subscriptions;return null===he?this._subscriptions=[K]:he.push(K),K}remove(ue){const K=this._subscriptions;if(K){const q=K.indexOf(ue);-1!==q&&K.splice(q,1)}}}var oe;function _e(oe){return oe.reduce((ue,K)=>ue.concat(K instanceof ae?K.errors:K),[])}se.EMPTY=((oe=new se).closed=!0,oe)},2494:(Je,Ie,B)=>{"use strict";B.d(Ie,{v:()=>x});let S=!1;const x={Promise:void 0,set useDeprecatedSynchronousErrorHandling(W){if(W){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else S&&console.log("RxJS: Back to a better error behavior. Thank you. <3");S=W},get useDeprecatedSynchronousErrorHandling(){return S}}},5345:(Je,Ie,B)=>{"use strict";B.d(Ie,{IY:()=>fe,Ds:()=>se,ft:()=>oe});var S=B(7393),x=B(7574),W=B(7444);class fe extends S.L{constructor(K){super(),this.parent=K}_next(K){this.parent.notifyNext(K)}_error(K){this.parent.notifyError(K),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends S.L{notifyNext(K){this.destination.next(K)}notifyError(K){this.destination.error(K)}notifyComplete(){this.destination.complete()}}function oe(ue,K){if(K.closed)return;if(ue instanceof x.y)return ue.subscribe(K);let q;try{q=(0,W.s)(ue)(K)}catch(he){K.error(he)}return q}},2441:(Je,Ie,B)=>{"use strict";B.d(Ie,{c:()=>ae,N:()=>se});var S=B(9765),x=B(7574),W=B(5319),fe=B(1307);class ae extends x.y{constructor(q,he){super(),this.source=q,this.subjectFactory=he,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new W.w,q.add(this.source.subscribe(new _e(this.getSubject(),this))),q.closed&&(this._connection=null,q=W.w.EMPTY)),q}refCount(){return(0,fe.x)()(this)}}const se=(()=>{const K=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:K._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}}})();class _e extends S.Yc{constructor(q,he){super(q),this.connectable=he}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const he=q._connection;q._refCount=0,q._subject=null,q._connection=null,he&&he.unsubscribe()}}}},8071:(Je,Ie,B)=>{"use strict";B.d(Ie,{z:()=>fe});var S=B(5917),x=B(3282);function fe(...ae){return(0,x.J)(1)((0,S.of)(...ae))}},9193:(Je,Ie,B)=>{"use strict";B.d(Ie,{E:()=>x,c:()=>W});var S=B(7574);const x=new S.y(ae=>ae.complete());function W(ae){return ae?function(ae){return new S.y(se=>ae.schedule(()=>se.complete()))}(ae):x}},4402:(Je,Ie,B)=>{"use strict";B.d(Ie,{D:()=>Pe});var S=B(7574),x=B(7444),W=B(5319),fe=B(6554),_e=B(4087),oe=B(377),q=B(4072),he=B(9489);function Pe(Ne,Te){return Te?function(Ne,Te){if(null!=Ne){if(function(Ne){return Ne&&"function"==typeof Ne[fe.L]}(Ne))return function(Ne,Te){return new S.y(je=>{const Ve=new W.w;return Ve.add(Te.schedule(()=>{const Le=Ne[fe.L]();Ve.add(Le.subscribe({next(ft){Ve.add(Te.schedule(()=>je.next(ft)))},error(ft){Ve.add(Te.schedule(()=>je.error(ft)))},complete(){Ve.add(Te.schedule(()=>je.complete()))}}))})),Ve})}(Ne,Te);if((0,q.t)(Ne))return function(Ne,Te){return new S.y(je=>{const Ve=new W.w;return Ve.add(Te.schedule(()=>Ne.then(Le=>{Ve.add(Te.schedule(()=>{je.next(Le),Ve.add(Te.schedule(()=>je.complete()))}))},Le=>{Ve.add(Te.schedule(()=>je.error(Le)))}))),Ve})}(Ne,Te);if((0,he.z)(Ne))return(0,_e.r)(Ne,Te);if(function(Ne){return Ne&&"function"==typeof Ne[oe.hZ]}(Ne)||"string"==typeof Ne)return function(Ne,Te){if(!Ne)throw new Error("Iterable cannot be null");return new S.y(je=>{const Ve=new W.w;let Le;return Ve.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),Ve.add(Te.schedule(()=>{Le=Ne[oe.hZ](),Ve.add(Te.schedule(function(){if(je.closed)return;let ft,qe;try{const Xe=Le.next();ft=Xe.value,qe=Xe.done}catch(Xe){return void je.error(Xe)}qe?je.complete():(je.next(ft),this.schedule())}))})),Ve})}(Ne,Te)}throw new TypeError((null!==Ne&&typeof Ne||Ne)+" is not observable")}(Ne,Te):Ne instanceof S.y?Ne:new S.y((0,x.s)(Ne))}},6693:(Je,Ie,B)=>{"use strict";B.d(Ie,{n:()=>fe});var S=B(7574),x=B(5015),W=B(4087);function fe(ae,se){return se?(0,W.r)(ae,se):new S.y((0,x.V)(ae))}},6682:(Je,Ie,B)=>{"use strict";B.d(Ie,{T:()=>ae});var S=B(7574),x=B(4869),W=B(3282),fe=B(6693);function ae(...se){let _e=Number.POSITIVE_INFINITY,oe=null,ue=se[se.length-1];return(0,x.K)(ue)?(oe=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(_e=se.pop())):"number"==typeof ue&&(_e=se.pop()),null===oe&&1===se.length&&se[0]instanceof S.y?se[0]:(0,W.J)(_e)((0,fe.n)(se,oe))}},5917:(Je,Ie,B)=>{"use strict";B.d(Ie,{of:()=>fe});var S=B(4869),x=B(6693),W=B(4087);function fe(...ae){let se=ae[ae.length-1];return(0,S.K)(se)?(ae.pop(),(0,W.r)(ae,se)):(0,x.n)(ae)}},5242:(Je,Ie,B)=>{"use strict";B.d(Ie,{d:()=>x});var S=B(7393);function x(ae=null){return se=>se.lift(new W(ae))}class W{constructor(se){this.defaultValue=se}call(se,_e){return _e.subscribe(new fe(se,this.defaultValue))}}class fe extends S.L{constructor(se,_e){super(se),this.defaultValue=_e,this.isEmpty=!0}_next(se){this.isEmpty=!1,this.destination.next(se)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Je,Ie,B)=>{"use strict";B.d(Ie,{h:()=>x});var S=B(7393);function x(ae,se){return function(oe){return oe.lift(new W(ae,se))}}class W{constructor(se,_e){this.predicate=se,this.thisArg=_e}call(se,_e){return _e.subscribe(new fe(se,this.predicate,this.thisArg))}}class fe extends S.L{constructor(se,_e,oe){super(se),this.predicate=_e,this.thisArg=oe,this.count=0}_next(se){let _e;try{_e=this.predicate.call(this.thisArg,se,this.count++)}catch(oe){return void this.destination.error(oe)}_e&&this.destination.next(se)}}},8049:(Je,Ie,B)=>{"use strict";B.d(Ie,{P:()=>_e});var S=B(3410),x=B(5435),W=B(5257),fe=B(5242),ae=B(4635),se=B(4487);function _e(oe,ue){const K=arguments.length>=2;return q=>q.pipe(oe?(0,x.h)((he,de)=>oe(he,de,q)):se.y,(0,W.q)(1),K?(0,fe.d)(ue):(0,ae.T)(()=>new S.K))}},8002:(Je,Ie,B)=>{"use strict";B.d(Ie,{U:()=>x});var S=B(7393);function x(ae,se){return function(oe){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new W(ae,se))}}class W{constructor(se,_e){this.project=se,this.thisArg=_e}call(se,_e){return _e.subscribe(new fe(se,this.project,this.thisArg))}}class fe extends S.L{constructor(se,_e,oe){super(se),this.project=_e,this.count=0,this.thisArg=oe||this}_next(se){let _e;try{_e=this.project.call(this.thisArg,se,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(_e)}}},3282:(Je,Ie,B)=>{"use strict";B.d(Ie,{J:()=>W});var S=B(9773),x=B(4487);function W(fe=Number.POSITIVE_INFINITY){return(0,S.zg)(x.y,fe)}},9773:(Je,Ie,B)=>{"use strict";B.d(Ie,{zg:()=>fe});var S=B(8002),x=B(4402),W=B(5345);function fe(oe,ue,K=Number.POSITIVE_INFINITY){return"function"==typeof ue?q=>q.pipe(fe((he,de)=>(0,x.D)(oe(he,de)).pipe((0,S.U)((be,Pe)=>ue(he,be,de,Pe))),K)):("number"==typeof ue&&(K=ue),q=>q.lift(new ae(oe,K)))}class ae{constructor(ue,K=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=K}call(ue,K){return K.subscribe(new se(ue,this.project,this.concurrent))}}class se extends W.Ds{constructor(ue,K,q=Number.POSITIVE_INFINITY){super(ue),this.project=K,this.concurrent=q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let K;const q=this.index++;try{K=this.project(ue,q)}catch(he){return void this.destination.error(he)}this.active++,this._innerSub(K)}_innerSub(ue){const K=new W.IY(this),q=this.destination;q.add(K);const he=(0,W.ft)(ue,K);he!==K&&q.add(he)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Je,Ie,B)=>{"use strict";B.d(Ie,{ht:()=>q,QV:()=>ue});var S=B(7393),x=B(9193),W=B(5917),fe=B(7574);class oe{constructor(be,Pe,Ne){this.kind=be,this.value=Pe,this.error=Ne,this.hasValue="N"===be}observe(be){switch(this.kind){case"N":return be.next&&be.next(this.value);case"E":return be.error&&be.error(this.error);case"C":return be.complete&&be.complete()}}do(be,Pe,Ne){switch(this.kind){case"N":return be&&be(this.value);case"E":return Pe&&Pe(this.error);case"C":return Ne&&Ne()}}accept(be,Pe,Ne){return be&&"function"==typeof be.next?this.observe(be):this.do(be,Pe,Ne)}toObservable(){switch(this.kind){case"N":return(0,W.of)(this.value);case"E":return de=this.error,new fe.y(Pe=>Pe.error(de));case"C":return(0,x.c)()}var de;throw new Error("unexpected notification kind value")}static createNext(be){return void 0!==be?new oe("N",be):oe.undefinedValueNotification}static createError(be){return new oe("E",void 0,be)}static createComplete(){return oe.completeNotification}}function ue(de,be=0){return function(Ne){return Ne.lift(new K(de,be))}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0);class K{constructor(be,Pe=0){this.scheduler=be,this.delay=Pe}call(be,Pe){return Pe.subscribe(new q(be,this.scheduler,this.delay))}}class q extends S.L{constructor(be,Pe,Ne=0){super(be),this.scheduler=Pe,this.delay=Ne}static dispatch(be){const{notification:Pe,destination:Ne}=be;Pe.observe(Ne),this.unsubscribe()}scheduleMessage(be){this.destination.add(this.scheduler.schedule(q.dispatch,this.delay,new he(be,this.destination)))}_next(be){this.scheduleMessage(oe.createNext(be))}_error(be){this.scheduleMessage(oe.createError(be)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.createComplete()),this.unsubscribe()}}class he{constructor(be,Pe){this.notification=be,this.destination=Pe}}},1307:(Je,Ie,B)=>{"use strict";B.d(Ie,{x:()=>x});var S=B(7393);function x(){return function(se){return se.lift(new W(se))}}class W{constructor(se){this.connectable=se}call(se,_e){const{connectable:oe}=this;oe._refCount++;const ue=new fe(se,oe),K=_e.subscribe(ue);return ue.closed||(ue.connection=oe.connect()),K}}class fe extends S.L{constructor(se,_e){super(se),this.connectable=_e}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const _e=se._refCount;if(_e<=0)return void(this.connection=null);if(se._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:oe}=this,ue=se._connection;this.connection=null,ue&&(!oe||ue===oe)&&ue.unsubscribe()}}},2145:(Je,Ie,B)=>{"use strict";B.d(Ie,{R:()=>x});var S=B(7393);function x(ae,se){let _e=!1;return arguments.length>=2&&(_e=!0),function(ue){return ue.lift(new W(ae,se,_e))}}class W{constructor(se,_e,oe=!1){this.accumulator=se,this.seed=_e,this.hasSeed=oe}call(se,_e){return _e.subscribe(new fe(se,this.accumulator,this.seed,this.hasSeed))}}class fe extends S.L{constructor(se,_e,oe,ue){super(se),this.accumulator=_e,this._seed=oe,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(se){this.hasSeed=!0,this._seed=se}_next(se){if(this.hasSeed)return this._tryNext(se);this.seed=se,this.destination.next(se)}_tryNext(se){const _e=this.index++;let oe;try{oe=this.accumulator(this.seed,se,_e)}catch(ue){this.destination.error(ue)}this.seed=oe,this.destination.next(oe)}}},9761:(Je,Ie,B)=>{"use strict";B.d(Ie,{O:()=>W});var S=B(8071),x=B(4869);function W(...fe){const ae=fe[fe.length-1];return(0,x.K)(ae)?(fe.pop(),se=>(0,S.z)(fe,se,ae)):se=>(0,S.z)(fe,se)}},3101:(Je,Ie,B)=>{"use strict";B.d(Ie,{R:()=>Te});var S=B(7574);let x=1;const W=Promise.resolve(),fe={};function ae(Ve){return Ve in fe&&(delete fe[Ve],!0)}const se={setImmediate(Ve){const Le=x++;return fe[Le]=!0,W.then(()=>ae(Le)&&Ve()),Le},clearImmediate(Ve){ae(Ve)}};var oe=B(6465),K=B(6102);const de=new class extends K.v{flush(Le){this.active=!0,this.scheduled=void 0;const{actions:ft}=this;let qe,Xe=-1,Yt=ft.length;Le=Le||ft.shift();do{if(qe=Le.execute(Le.state,Le.delay))break}while(++Xe<Yt&&(Le=ft.shift()));if(this.active=!1,qe){for(;++Xe<Yt&&(Le=ft.shift());)Le.unsubscribe();throw qe}}}(class extends oe.o{constructor(Le,ft){super(Le,ft),this.scheduler=Le,this.work=ft}requestAsyncId(Le,ft,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Le,ft,qe):(Le.actions.push(this),Le.scheduled||(Le.scheduled=se.setImmediate(Le.flush.bind(Le,null))))}recycleAsyncId(Le,ft,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(Le,ft,qe);0===Le.actions.length&&(se.clearImmediate(ft),Le.scheduled=void 0)}});var be=B(9796);class Ne extends S.y{constructor(Le,ft=0,qe=de){var Ve;super(),this.source=Le,this.delayTime=ft,this.scheduler=qe,(!(!(0,be.k)(Ve=ft)&&Ve-parseFloat(Ve)+1>=0)||ft<0)&&(this.delayTime=0),(!qe||"function"!=typeof qe.schedule)&&(this.scheduler=de)}static create(Le,ft=0,qe=de){return new Ne(Le,ft,qe)}static dispatch(Le){const{source:ft,subscriber:qe}=Le;return this.add(ft.subscribe(qe))}_subscribe(Le){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:Le})}}function Te(Ve,Le=0){return function(qe){return qe.lift(new je(Ve,Le))}}class je{constructor(Le,ft){this.scheduler=Le,this.delay=ft}call(Le,ft){return new Ne(ft,this.delay,this.scheduler).subscribe(Le)}}},3190:(Je,Ie,B)=>{"use strict";B.d(Ie,{w:()=>fe});var S=B(8002),x=B(4402),W=B(5345);function fe(_e,oe){return"function"==typeof oe?ue=>ue.pipe(fe((K,q)=>(0,x.D)(_e(K,q)).pipe((0,S.U)((he,de)=>oe(K,he,q,de))))):ue=>ue.lift(new ae(_e))}class ae{constructor(oe){this.project=oe}call(oe,ue){return ue.subscribe(new se(oe,this.project))}}class se extends W.Ds{constructor(oe,ue){super(oe),this.project=ue,this.index=0}_next(oe){let ue;const K=this.index++;try{ue=this.project(oe,K)}catch(q){return void this.destination.error(q)}this._innerSub(ue)}_innerSub(oe){const ue=this.innerSubscription;ue&&ue.unsubscribe();const K=new W.IY(this),q=this.destination;q.add(K),this.innerSubscription=(0,W.ft)(oe,K),this.innerSubscription!==K&&q.add(this.innerSubscription)}_complete(){const{innerSubscription:oe}=this;(!oe||oe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(oe){this.destination.next(oe)}}},5257:(Je,Ie,B)=>{"use strict";B.d(Ie,{q:()=>fe});var S=B(7393),x=B(7108),W=B(9193);function fe(_e){return oe=>0===_e?(0,W.c)():oe.lift(new ae(_e))}class ae{constructor(oe){if(this.total=oe,this.total<0)throw new x.W}call(oe,ue){return ue.subscribe(new se(oe,this.total))}}class se extends S.L{constructor(oe,ue){super(oe),this.total=ue,this.count=0}_next(oe){const ue=this.total,K=++this.count;K<=ue&&(this.destination.next(oe),K===ue&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Je,Ie,B)=>{"use strict";B.d(Ie,{b:()=>fe});var S=B(7393);function x(){}var W=B(9105);function fe(_e,oe,ue){return function(q){return q.lift(new ae(_e,oe,ue))}}class ae{constructor(oe,ue,K){this.nextOrObserver=oe,this.error=ue,this.complete=K}call(oe,ue){return ue.subscribe(new se(oe,this.nextOrObserver,this.error,this.complete))}}class se extends S.L{constructor(oe,ue,K,q){super(oe),this._tapNext=x,this._tapError=x,this._tapComplete=x,this._tapError=K||x,this._tapComplete=q||x,(0,W.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||x,this._tapError=ue.error||x,this._tapComplete=ue.complete||x)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(ue){return void this.destination.error(ue)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(ue){return void this.destination.error(ue)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},4635:(Je,Ie,B)=>{"use strict";B.d(Ie,{T:()=>W});var S=B(3410),x=B(7393);function W(_e=se){return oe=>oe.lift(new fe(_e))}class fe{constructor(oe){this.errorFactory=oe}call(oe,ue){return ue.subscribe(new ae(oe,this.errorFactory))}}class ae extends x.L{constructor(oe,ue){super(oe),this.errorFactory=ue,this.hasValue=!1}_next(oe){this.hasValue=!0,this.destination.next(oe)}_complete(){if(this.hasValue)return this.destination.complete();{let oe;try{oe=this.errorFactory()}catch(ue){oe=ue}this.destination.error(oe)}}}function se(){return new S.K}},4087:(Je,Ie,B)=>{"use strict";B.d(Ie,{r:()=>W});var S=B(7574),x=B(5319);function W(fe,ae){return new S.y(se=>{const _e=new x.w;let oe=0;return _e.add(ae.schedule(function(){oe!==fe.length?(se.next(fe[oe++]),se.closed||_e.add(this.schedule())):se.complete()})),_e})}},6465:(Je,Ie,B)=>{"use strict";B.d(Ie,{o:()=>W});var S=B(5319);class x extends S.w{constructor(ae,se){super()}schedule(ae,se=0){return this}}class W extends x{constructor(ae,se){super(ae,se),this.scheduler=ae,this.work=se,this.pending=!1}schedule(ae,se=0){if(this.closed)return this;this.state=ae;const _e=this.id,oe=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(oe,_e,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(oe,this.id,se),this}requestAsyncId(ae,se,_e=0){return setInterval(ae.flush.bind(ae,this),_e)}recycleAsyncId(ae,se,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return se;clearInterval(se)}execute(ae,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ae,se);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,se){let oe,_e=!1;try{this.work(ae)}catch(ue){_e=!0,oe=!!ue&&ue||new Error(ue)}if(_e)return this.unsubscribe(),oe}_unsubscribe(){const ae=this.id,se=this.scheduler,_e=se.actions,oe=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&_e.splice(oe,1),null!=ae&&(this.id=this.recycleAsyncId(se,ae,null)),this.delay=null}}},6102:(Je,Ie,B)=>{"use strict";B.d(Ie,{v:()=>x});let S=(()=>{class W{constructor(ae,se=W.now){this.SchedulerAction=ae,this.now=se}schedule(ae,se=0,_e){return new this.SchedulerAction(this,ae).schedule(_e,se)}}return W.now=()=>Date.now(),W})();class x extends S{constructor(fe,ae=S.now){super(fe,()=>x.delegate&&x.delegate!==this?x.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,ae=0,se){return x.delegate&&x.delegate!==this?x.delegate.schedule(fe,ae,se):super.schedule(fe,ae,se)}flush(fe){const{actions:ae}=this;if(this.active)return void ae.push(fe);let se;this.active=!0;do{if(se=fe.execute(fe.state,fe.delay))break}while(fe=ae.shift());if(this.active=!1,se){for(;fe=ae.shift();)fe.unsubscribe();throw se}}}},3637:(Je,Ie,B)=>{"use strict";B.d(Ie,{z:()=>W});var S=B(6465);const W=new(B(6102).v)(S.o)},7771:(Je,Ie,B)=>{"use strict";B.d(Ie,{c:()=>se,N:()=>ae});var S=B(6465),W=B(6102);const ae=new class extends W.v{}(class extends S.o{constructor(oe,ue){super(oe,ue),this.scheduler=oe,this.work=ue}schedule(oe,ue=0){return ue>0?super.schedule(oe,ue):(this.delay=ue,this.state=oe,this.scheduler.flush(this),this)}execute(oe,ue){return ue>0||this.closed?super.execute(oe,ue):this._execute(oe,ue)}requestAsyncId(oe,ue,K=0){return null!==K&&K>0||null===K&&this.delay>0?super.requestAsyncId(oe,ue,K):oe.flush(this)}}),se=ae},377:(Je,Ie,B)=>{"use strict";B.d(Ie,{hZ:()=>x});const x="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,Ie,B)=>{"use strict";B.d(Ie,{L:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,Ie,B)=>{"use strict";B.d(Ie,{b:()=>S});const S="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Je,Ie,B)=>{"use strict";B.d(Ie,{W:()=>x});const x=(()=>{function W(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return W.prototype=Object.create(Error.prototype),W})()},3410:(Je,Ie,B)=>{"use strict";B.d(Ie,{K:()=>x});const x=(()=>{function W(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return W.prototype=Object.create(Error.prototype),W})()},7971:(Je,Ie,B)=>{"use strict";B.d(Ie,{N:()=>x});const x=(()=>{function W(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return W.prototype=Object.create(Error.prototype),W})()},4449:(Je,Ie,B)=>{"use strict";function S(x){setTimeout(()=>{throw x},0)}B.d(Ie,{z:()=>S})},4487:(Je,Ie,B)=>{"use strict";function S(x){return x}B.d(Ie,{y:()=>S})},9796:(Je,Ie,B)=>{"use strict";B.d(Ie,{k:()=>S});const S=Array.isArray||(x=>x&&"number"==typeof x.length)},9489:(Je,Ie,B)=>{"use strict";B.d(Ie,{z:()=>S});const S=x=>x&&"number"==typeof x.length&&"function"!=typeof x},9105:(Je,Ie,B)=>{"use strict";function S(x){return"function"==typeof x}B.d(Ie,{m:()=>S})},1555:(Je,Ie,B)=>{"use strict";function S(x){return null!==x&&"object"==typeof x}B.d(Ie,{K:()=>S})},4072:(Je,Ie,B)=>{"use strict";function S(x){return!!x&&"function"!=typeof x.subscribe&&"function"==typeof x.then}B.d(Ie,{t:()=>S})},4869:(Je,Ie,B)=>{"use strict";function S(x){return x&&"function"==typeof x.schedule}B.d(Ie,{K:()=>S})},7444:(Je,Ie,B)=>{"use strict";B.d(Ie,{s:()=>q});var S=B(5015),x=B(4449),fe=B(377),se=B(6554),oe=B(9489),ue=B(4072),K=B(1555);const q=he=>{if(he&&"function"==typeof he[se.L])return(he=>de=>{const be=he[se.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(de)})(he);if((0,oe.z)(he))return(0,S.V)(he);if((0,ue.t)(he))return(he=>de=>(he.then(be=>{de.closed||(de.next(be),de.complete())},be=>de.error(be)).then(null,x.z),de))(he);if(he&&"function"==typeof he[fe.hZ])return(he=>de=>{const be=he[fe.hZ]();for(;;){let Pe;try{Pe=be.next()}catch(Ne){return de.error(Ne),de}if(Pe.done){de.complete();break}if(de.next(Pe.value),de.closed)break}return"function"==typeof be.return&&de.add(()=>{be.return&&be.return()}),de})(he);{const be=`You provided ${(0,K.K)(he)?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},5015:(Je,Ie,B)=>{"use strict";B.d(Ie,{V:()=>S});const S=x=>W=>{for(let fe=0,ae=x.length;fe<ae&&!W.closed;fe++)W.next(x[fe]);W.complete()}},3363:(Je,Ie,B)=>{"use strict";B.d(Ie,{f:()=>x});var S=B(3018);let x=(()=>{class W{constructor(){}scrollToContactForm(ae){console.log(ae),ae.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}getResumeDownload(ae,se){let _e=document.createElement("a");_e.download=ae,_e.href=se,_e.click()}openSocialHandle(ae){switch(ae){case"github":window.open("https://github.com/ShreyasAmbre","blank");break;case"linkedin":window.open("https://www.linkedin.com/in/shreyas-ambre-3928b71a7","blank");break;case"whatsapp":window.open("https://wa.me/8149421528","blank");break;case"gmail":window.open("https://mail.google.com/mail/?view=cm&fs=1&to=email@domain.example","blank")}}}return W.\u0275fac=function(ae){return new(ae||W)},W.\u0275prov=S.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},2702:(Je,Ie,B)=>{"use strict";var S=B(8583),x=B(3018);class W extends S.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends W{static makeCurrent(){(0,S.HT)(new fe)}onAndCancel(e,r,o){return e.addEventListener(r,o,!1),()=>{e.removeEventListener(r,o,!1)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=(ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null);return null==r?null:function(i){_e=_e||document.createElement("a"),_e.setAttribute("href",i);const e=_e.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,S.Mx)(document.cookie,e)}}let _e,ae=null;const ue=new x.OlP("TRANSITION_ID"),q=[{provide:x.ip1,useFactory:function(i,e,r){return()=>{r.get(x.CZH).donePromise.then(()=>{const o=(0,S.q)(),u=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<u.length;h++)o.remove(u[h])})}},deps:[ue,S.K0,x.zs3],multi:!0}];class he{static init(){(0,x.VLi)(new he)}addToWindow(e){x.dqk.getAngularTestability=(o,u=!0)=>{const h=e.findTestabilityInTree(o,u);if(null==h)throw new Error("Could not find testability for element.");return h},x.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(o=>{const u=x.dqk.getAllAngularTestabilities();let h=u.length,g=!1;const I=function(A){g=g||A,h--,0==h&&o(g)};u.forEach(function(A){A.whenStable(I)})})}findTestabilityInTree(e,r,o){if(null==r)return null;const u=e.getTestability(r);return null!=u?u:o?(0,S.q)().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null}}let de=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();const mt=new x.OlP("EventManagerPlugins");let nt=(()=>{class i{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(u=>u.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,o,u){return this._findPluginFor(o).addEventListener(r,o,u)}addGlobalEventListener(r,o,u){return this._findPluginFor(o).addGlobalEventListener(r,o,u)}getZone(){return this._zone}_findPluginFor(r){const o=this._eventNameToPlugin.get(r);if(o)return o;const u=this._plugins;for(let h=0;h<u.length;h++){const g=u[h];if(g.supports(r))return this._eventNameToPlugin.set(r,g),g}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(mt),x.LFG(x.R0b))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();class Nt{constructor(e){this._doc=e}addGlobalEventListener(e,r,o){const u=(0,S.q)().getGlobalEventTarget(this._doc,e);if(!u)throw new Error(`Unsupported event target ${u} for event ${r}`);return this.addEventListener(u,r,o)}}let et=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const o=new Set;r.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})(),Bn=(()=>{class i extends et{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,o,u){r.forEach(h=>{const g=this._doc.createElement("style");g.textContent=h,u.push(o.appendChild(g))})}addHost(r){const o=[];this._addStylesToHost(this._stylesSet,r,o),this._hostNodes.set(r,o)}removeHost(r){const o=this._hostNodes.get(r);o&&o.forEach(Lr),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(r,u,o)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Lr))}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(S.K0))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();function Lr(i){(0,S.q)().remove(i)}const fi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vr=/%COMP%/g;function tn(i,e,r){for(let o=0;o<e.length;o++){let u=e[o];Array.isArray(u)?tn(i,u,r):(u=u.replace(Vr,i),r.push(u))}return r}function Zr(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let pr=(()=>{class i{constructor(r,o,u){this.eventManager=r,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Ot(r)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;switch(o.encapsulation){case x.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new On(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(r),u}case 1:case x.ifc.ShadowDom:return new We(this.eventManager,this.sharedStylesHost,r,o);default:if(!this.rendererByCompId.has(o.id)){const u=tn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(nt),x.LFG(Bn),x.LFG(x.AFp))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();class Ot{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,r){return r?document.createElementNS(fi[r]||r,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,r){e.appendChild(r)}insertBefore(e,r,o){e&&e.insertBefore(r,o)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return r||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,o,u){if(u){r=u+":"+r;const h=fi[u];h?e.setAttributeNS(h,r,o):e.setAttribute(r,o)}else e.setAttribute(r,o)}removeAttribute(e,r,o){if(o){const u=fi[o];u?e.removeAttributeNS(u,r):e.removeAttribute(`${o}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,o,u){u&(x.JOm.DashCase|x.JOm.Important)?e.style.setProperty(r,o,u&x.JOm.Important?"important":""):e.style[r]=o}removeStyle(e,r,o){o&x.JOm.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,o){e[r]=o}setValue(e,r){e.nodeValue=r}listen(e,r,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,r,Zr(o)):this.eventManager.addEventListener(e,r,Zr(o))}}class On extends Ot{constructor(e,r,o,u){super(e),this.component=o;const h=tn(u+"-"+o.id,o.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Vr,u+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Vr,i)}(u+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,r){const o=super.createElement(e,r);return super.setAttribute(o,this.contentAttr,""),o}}class We extends Ot{constructor(e,r,o,u){super(e),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=tn(u.id,u.styles,[]);for(let g=0;g<h.length;g++){const I=document.createElement("style");I.textContent=h[g],this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,o){return super.insertBefore(this.nodeOrShadowRoot(e),r,o)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ar=(()=>{class i extends Nt{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,u){return r.addEventListener(o,u,!1),()=>this.removeEventListener(r,o,u)}removeEventListener(r,o,u){return r.removeEventListener(o,u)}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(S.K0))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();const jn=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Pn=(()=>{class i extends Nt{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,o,u){const h=i.parseEventName(o),g=i.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,S.q)().onAndCancel(r,h.domEventName,g))}static parseEventName(r){const o=r.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const h=i._normalizeKey(o.pop());let g="";if(jn.forEach(A=>{const F=o.indexOf(A);F>-1&&(o.splice(F,1),g+=A+".")}),g+=h,0!=o.length||0===h.length)return null;const I={};return I.domEventName=u,I.fullKey=g,I}static getEventFullKey(r){let o="",u=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&gr.hasOwnProperty(e)&&(e=gr[e]))}return Et[e]||e}(r);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),jn.forEach(h=>{h!=u&&jt[h](r)&&(o+=h+".")}),o+=u,o}static eventCallback(r,o,u){return h=>{i.getEventFullKey(h)===r&&u.runGuarded(()=>o(h))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(S.K0))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac}),i})();const Se=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:S.bD},{provide:x.g9A,useValue:function(){fe.makeCurrent(),he.init()},multi:!0},{provide:S.K0,useFactory:function(){return(0,x.RDi)(document),document},deps:[]}]),Ee=[[],{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function(){return new x.qLn},deps:[]},{provide:mt,useClass:Ar,multi:!0,deps:[S.K0,x.R0b,x.Lbi]},{provide:mt,useClass:Pn,multi:!0,deps:[S.K0]},[],{provide:pr,useClass:pr,deps:[nt,Bn,x.AFp]},{provide:x.FYo,useExisting:pr},{provide:et,useExisting:Bn},{provide:Bn,useClass:Bn,deps:[S.K0]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b]},{provide:nt,useClass:nt,deps:[mt,x.R0b]},{provide:S.JF,useClass:de,deps:[]},[]];let pt=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:x.AFp,useValue:r.appId},{provide:ue,useExisting:x.AFp},q]}}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(i,12))},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({providers:Ee,imports:[S.ez,x.hGG]}),i})();"undefined"!=typeof window&&window;var rr=B(6575);const En=["heading"],kn=function(){return["home"]},Ks=function(){return["contact"]};let $t=(()=>{class i{constructor(r){this.elementRef=r,this.i=0,this.headingTxt="Portfolio",this.speed=100,this.len=this.headingTxt.length}ngOnInit(){}ngAfterViewInit(){}typingEffect(){this.i<this.len&&(this.heading.nativeElement.innerHTML+=this.headingTxt.charAt(this.i),this.i++,setTimeout(()=>this.typingEffect(),this.speed))}}return i.\u0275fac=function(r){return new(r||i)(x.Y36(x.SBq))},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-header"]],viewQuery:function(r,o){if(1&r&&x.Gf(En,7),2&r){let u;x.iGM(u=x.CRH())&&(o.heading=u.first)}},decls:14,vars:4,consts:[[1,"container-fluid","shadow","bg-white","rounded"],[1,"container"],[1,"d-flex","flex-wrap","justify-content-center","py-3","mb-3"],[1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-dark","text-decoration-none"],["src","assets/images/shreyasambre-logo.PNG","alt","logo",2,"height","41px"],[1,"nav","nav-pills"],[1,"nav-item","subTitleFont",3,"routerLink"],["routerLinkActive","navBtn",1,"nav-link"]],template:function(r,o){1&r&&(x.TgZ(0,"div",0),x.TgZ(1,"main"),x.TgZ(2,"div",1),x.TgZ(3,"header",2),x.TgZ(4,"a",3),x._UZ(5,"img",4),x.qZA(),x.TgZ(6,"ul",5),x.TgZ(7,"li",6),x.TgZ(8,"a",7),x._uU(9,"Home"),x.qZA(),x.qZA(),x.TgZ(10,"li",6),x.TgZ(11,"a",7),x.TgZ(12,"b"),x._uU(13,"Contact"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&r&&(x.xp6(7),x.Q6J("routerLink",x.DdM(2,kn)),x.xp6(3),x.Q6J("routerLink",x.DdM(3,Ks)))},directives:[rr.rH,rr.Od],styles:[".navBtn[_ngcontent-%COMP%]{background-color:var(--btn-background-color);color:var(--btn-color)!important;border-radius:5px}.navtitles[_ngcontent-%COMP%]{color:var(--text-color);font-size:26px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #0000001a!important}"]}),i})();var qs=B(3363);let Os=(()=>{class i{constructor(r){this.service=r}ngOnInit(){}downloadResume(){this.service.getResumeDownload("Shreyas-Ambre-Resume-v3","assets/docs/Shreyas-Ambre-Resume-v3.pdf")}}return i.\u0275fac=function(r){return new(r||i)(x.Y36(qs.f))},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-footer"]],decls:17,vars:0,consts:[[1,"page-footer","font-small",2,"background","#053F5C","color","#ffffff"],[1,"container-fluid",2,"background-color","#f1faff"],[1,"container"],[1,"row","py-5","justify-content-between"],[1,"col-6"],[1,"contactTitle","titleFont"],[1,"col-4","text-end","align-self-center"],["type","button",1,"btnClass","homeBtnClass","my-2","mx-2",3,"click"],[1,"footer-copyright","text-center","py-3"],[1,"subTitleFont"],[1,"primary"]],template:function(r,o){1&r&&(x.TgZ(0,"footer",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"h2",5),x._uU(6,"Lets's get in touch"),x.qZA(),x.qZA(),x.TgZ(7,"div",6),x.TgZ(8,"button",7),x.NdJ("click",function(){return o.downloadResume()}),x.TgZ(9,"b"),x._uU(10,"Download Resume"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",8),x.TgZ(12,"b",9),x._uU(13," \xa9 2022 Copyright: "),x.TgZ(14,"span",10),x._uU(15,"Shreyas Ambre."),x.qZA(),x._uU(16," All Right Reserved "),x.qZA(),x.qZA(),x.qZA())},styles:['.contactTitle[_ngcontent-%COMP%]{color:var( --secondary-color );font-family:"Poppins",Sans-serif;font-size:52px;font-weight:600;line-height:1.3em}.homeBtnClass[_ngcontent-%COMP%]{width:175px!important;height:45px!important}']}),i})();const Jr=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-index"]],decls:3,vars:0,template:function(r,o){1&r&&(x._UZ(0,"app-header"),x._UZ(1,"router-outlet"),x._UZ(2,"app-footer"))},directives:[$t,rr.lC,Os],styles:[""]}),i})(),children:[{path:"home",loadChildren:()=>B.e(585).then(B.bind(B,6585)).then(i=>i.HomeModule)},{path:"about",loadChildren:()=>B.e(351).then(B.bind(B,2351)).then(i=>i.AboutModule)},{path:"contact",loadChildren:()=>B.e(25).then(B.bind(B,2025)).then(i=>i.ContactModule)},{path:"**",redirectTo:"home",pathMatch:"full"}]}];let Xr=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({imports:[[rr.Bz.forRoot(Jr)],rr.Bz]}),i})(),ho=(()=>{class i{constructor(){this.title="shreyasAmbrePortfolio"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=x.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){1&r&&x._UZ(0,"router-outlet")},directives:[rr.lC],styles:[""]}),i})();var Kn=B(8939),Wi=B(3637),Dn=B(7574),zi=B(4402),cs=B(5917),ir=B(411),yi=B(9761),Ps=B(7393);function Ki(){return i=>i.lift(new $n)}class $n{call(e,r){return r.subscribe(new Nr(e))}}class Nr extends Ps.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let r;this.hasPrev?r=[this.prev,e]:this.hasPrev=!0,this.prev=e,r&&this.destination.next(r)}}var mr=B(8002),_i=B(2145);class Zs{constructor(e,r){this.compare=e,this.keySelector=r}call(e,r){return r.subscribe(new Po(e,this.compare,this.keySelector))}}class Po extends Ps.L{constructor(e,r,o){super(e),this.keySelector=o,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(e,r){return e===r}_next(e){let r;try{const{keySelector:u}=this;r=u?u(e):e}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,r)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=r,this.destination.next(e))}}var gt,vi=B(5435),ko=(B(8241),B(3394)),Ae=B(8239),Ni=B(8026),Ei=B(3910),ls=B(5422),yn=B(3854),Du="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qi={},fo=fo||{},Ft=Du||self;function po(){}function Ys(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function go(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Cu="closure_uid_"+(1e9*Math.random()>>>0),Fo=0;function Tu(i,e,r){return i.call.apply(i.bind,arguments)}function mo(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function cr(i,e,r){return(cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tu:mo).apply(null,arguments)}function Lo(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function qn(i,e){function r(){}r.prototype=e.prototype,i.X=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Wb=function(o,u,h){for(var g=Array(arguments.length-2),I=2;I<arguments.length;I++)g[I-2]=arguments[I];return e.prototype[u].apply(o,g)}}function oi(){this.s=this.s,this.o=this.o}var Zi={};oi.prototype.s=!1,oi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Cu)&&i[Cu]||(i[Cu]=++Fo)}(this);delete Zi[i]}},oi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mi=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function yo(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function sa(i,e){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(Ys(o)){const u=i.length||0,h=o.length||0;i.length=u+h;for(let g=0;g<h;g++)i[u+g]=o[g]}else i.push(o)}}function Ur(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ur.prototype.h=function(){this.defaultPrevented=!0};var Vo=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ft.addEventListener("test",po,e),Ft.removeEventListener("test",po,e)}catch(r){}return i}();function ai(i){return/^[\s\xa0]*$/.test(i)}var oa=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Oi(i,e){return i<e?-1:i>e?1:0}function aa(){var i=Ft.navigator;return i&&(i=i.userAgent)?i:""}function Tn(i){return-1!=aa().indexOf(i)}function Pi(i){return Pi[" "](i),i}Pi[" "]=po;var Ht,i,V=Tn("Opera"),R=Tn("Trident")||Tn("MSIE"),$=Tn("Edge"),ne=$||R,ye=Tn("Gecko")&&!(-1!=aa().toLowerCase().indexOf("webkit")&&!Tn("Edge"))&&!(Tn("Trident")||Tn("MSIE"))&&!Tn("Edge"),Be=-1!=aa().toLowerCase().indexOf("webkit")&&!Tn("Edge");function lt(){var i=Ft.document;return i?i.documentMode:void 0}e:{var yt="",Sn=(i=aa(),ye?/rv:([^\);]+)(\)|;)/.exec(i):$?/Edge\/([\d\.]+)/.exec(i):R?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Be?/WebKit\/(\S+)/.exec(i):V?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Sn&&(yt=Sn?Sn[1]:""),R){var nn=lt();if(null!=nn&&nn>parseFloat(yt)){Ht=String(nn);break e}}Ht=yt}var Rn={};function sn(){return e=Rn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let i=0;const e=oa(String(Ht)).split("."),r=oa("9").split("."),o=Math.max(e.length,r.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",h=r[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=Oi(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||Oi(0==u[2].length,0==h[2].length)||Oi(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i}();var e}var ti=Ft.document&&R&&(lt()||parseInt(Ht,10))||void 0;function Nn(i,e){if(Ur.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ye){e:{try{Pi(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ar[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Nn.X.h.call(this)}}qn(Nn,Ur);var ar={2:"touch",3:"pen",4:"mouse"};Nn.prototype.h=function(){Nn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Qi="closure_listenable_"+(1e6*Math.random()|0),Qs=0;function ki(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ha=u,this.key=++Qs,this.ba=this.ea=!1}function Ji(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function _o(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Pt(i){const e={};for(const r in i)e[r]=i[r];return e}const Dl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let h=0;h<Dl.length;h++)r=Dl[h],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function Uo(i){this.src=i,this.g={},this.h=0}function Bo(i,e){var r=e.type;if(r in i.g){var h,o=i.g[r],u=Mi(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(Ji(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Js(i,e,r,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ba&&h.listener==e&&h.capture==!!r&&h.ha==o)return u}return-1}Uo.prototype.add=function(i,e,r,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var g=Js(i,e,o,u);return-1<g?(e=i[g],r||(e.ea=!1)):((e=new ki(e,this.src,h,!!o,u)).ea=r,i.push(e)),e};var jo="closure_lm_"+(1e6*Math.random()|0),$a={};function Fe(i,e,r,o,u){if(o&&o.once)return Hn(i,e,r,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Fe(i,e[h],r,o,u);return null}return r=$o(r),i&&i[Qi]?i.N(e,r,go(o)?!!o.capture:!!o,u):un(i,e,r,!1,o,u)}function un(i,e,r,o,u,h){if(!e)throw Error("Invalid event type");var g=go(u)?!!u.capture:!!u,I=ws(i);if(I||(i[jo]=I=new Uo(i)),(r=I.add(e,r,o,g,h)).proxy)return r;if(o=function(){const e=ca;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)Vo||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(es(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function Hn(i,e,r,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Hn(i,e[h],r,o,u);return null}return r=$o(r),i&&i[Qi]?i.O(e,r,go(o)?!!o.capture:!!o,u):un(i,e,r,!0,o,u)}function Ha(i,e,r,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)Ha(i,e[h],r,o,u);else o=go(o)?!!o.capture:!!o,r=$o(r),i&&i[Qi]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Js(h=i.g[e],r,o,u))&&(Ji(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=ws(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Js(e,r,o,u)),(r=-1<i?e[i]:null)&&Xi(r))}function Xi(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Qi])Bo(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(es(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=ws(e))?(Bo(r,i),0==r.h&&(r.src=null,e[jo]=null)):Ji(i)}}}function es(i){return i in $a?$a[i]:$a[i]="on"+i}function ca(i,e){if(i.ba)i=!0;else{e=new Nn(e,this);var r=i.listener,o=i.ha||i.src;i.ea&&Xi(i),i=r.call(o,e)}return i}function ws(i){return(i=i[jo])instanceof Uo?i:null}var Xu="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(i){return"function"==typeof i?i:(i[Xu]||(i[Xu]=function(e){return i.handleEvent(e)}),i[Xu])}function yr(){oi.call(this),this.i=new Uo(this),this.P=this,this.I=null}function Yn(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ur(e,i);else if(e instanceof Ur)e.target=e.target||i;else{var u=e;ua(e=new Ur(o,i),u)}if(u=!0,r)for(var h=r.length-1;0<=h;h--){var g=e.g=r[h];u=_r(g,o,!0,e)&&u}if(u=_r(g=e.g=i,o,!0,e)&&u,u=_r(g,o,!1,e)&&u,r)for(h=0;h<r.length;h++)u=_r(g=e.g=r[h],o,!1,e)&&u}function _r(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.ba&&g.capture==r){var I=g.listener,A=g.ha||g.src;g.ea&&Bo(i.i,g),u=!1!==I.call(A,o)&&u}}return u&&!o.defaultPrevented}qn(yr,oi),yr.prototype[Qi]=!0,yr.prototype.removeEventListener=function(i,e,r,o){Ha(this,i,e,r,o)},yr.prototype.M=function(){if(yr.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)Ji(r[o]);delete i.g[e],i.h--}}this.I=null},yr.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},yr.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var ui=Ft.JSON.stringify;function la(){var i=Ru;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ho,ds=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Au,i=>i.reset());class Au{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function xu(i){Ft.setTimeout(()=>{throw i},0)}function Mc(i,e){Ho||function(){var i=Ft.Promise.resolve(void 0);Ho=function(){i.then(Nu)}}(),Eo||(Ho(),Eo=!0),Ru.add(i,e)}var Eo=!1,Ru=new class{constructor(){this.h=this.g=null}add(e,r){const o=ds.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function Nu(){for(var i;i=la();){try{i.h.call(i.g)}catch(r){xu(r)}var e=ds;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Eo=!1}function Wa(i,e){yr.call(this),this.h=i||1,this.g=e||Ft,this.j=cr(this.lb,this),this.l=Date.now()}function Io(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Xs(i,e,r){if("function"==typeof i)r&&(i=cr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=cr(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ft.setTimeout(i,e||0)}function Mu(i){i.g=Xs(()=>{i.g=null,i.i&&(i.i=!1,Mu(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qn(Wa,yr),(gt=Wa.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yn(this,"tick"),this.ca&&(Io(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Wa.X.M.call(this),Io(this),delete this.g};class da extends oi{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mu(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(i){oi.call(this),this.h=i,this.g={}}qn(ha,oi);var Oc=[];function fa(i,e,r,o){Array.isArray(r)||(r&&(Oc[0]=r.toString()),r=Oc);for(var u=0;u<r.length;u++){var h=Fe(e,r[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function Ou(i){_o(i.g,function(e,r){this.g.hasOwnProperty(r)&&Xi(e)},i),i.g={}}function Go(){this.g=!0}function Un(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<u.length;g++)u[g]=""}}}return ui(r)}catch(I){return e}}(i,r)+(o?" "+o:"")})}ha.prototype.M=function(){ha.X.M.call(this),Ou(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Go.prototype.Aa=function(){this.g=!1},Go.prototype.info=function(){};var eo={},wo=null;function lr(){return wo=wo||new yr}function ec(i){Ur.call(this,eo.Pa,i)}function ks(i){const e=lr();Yn(e,new ec(e,i))}function Ka(i,e){Ur.call(this,eo.STAT_EVENT,i),this.stat=e}function Mr(i){const e=lr();Yn(e,new Ka(e,i))}function Wo(i,e){Ur.call(this,eo.Qa,i),this.size=e}function bo(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){i()},e)}eo.Pa="serverreachability",qn(ec,Ur),eo.STAT_EVENT="statevent",qn(Ka,Ur),eo.Qa="timingevent",qn(Wo,Ur);var br={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Li={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function bs(){}function Pu(){}bs.prototype.h=null;var ku,Gn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pa(){Ur.call(this,"d")}function tc(){Ur.call(this,"c")}function Fu(){}function Za(i,e,r,o){this.l=i,this.j=e,this.m=r,this.U=o||1,this.S=new ha(this),this.O=Vu,this.T=new Wa(i=ne?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Lu}function Lu(){this.i=null,this.g="",this.h=!1}qn(pa,Ur),qn(tc,Ur),qn(Fu,bs),Fu.prototype.g=function(){return new XMLHttpRequest},Fu.prototype.i=function(){return{}},ku=new Fu;var Vu=45e3,Ya={},Fs={};function nc(i,e,r){i.K=1,i.v=v(Ui(e)),i.s=r,i.P=!0,ns(i,null)}function ns(i,e){i.F=Date.now(),to(i),i.A=Ui(i.v);var r=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Br(r.i,"t",o),i.C=0,r=i.l.H,i.h=new Lu,i.g=ps(i.l,r?e:null,!i.s),0<i.N&&(i.L=new da(cr(i.La,i,i.g),i.N)),fa(i.S,i.g,"readystatechange",i.ib),e=i.H?Pt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ks(1),function(i,e,r,o,u,h){i.info(function(){if(i.g)if(h)for(var g="",I=h.split("&"),A=0;A<I.length;A++){var F=I[A].split("=");if(1<F.length){var G=F[0];F=F[1];var Q=G.split("_");g=2<=Q.length&&"type"==Q[1]?g+(G+"=")+F+"&":g+(G+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Vi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Uu(i,e,r){let u,o=!0;for(;!i.I&&i.C<r.length;){if(u=ga(i,r),u==Fs){4==e&&(i.o=4,Mr(14),o=!1),Un(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ya){i.o=4,Mr(15),Un(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Un(i.j,i.m,u,null),Bu(i,u)}Vi(i)&&u!=Fs&&u!=Ya&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Mr(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),we(e),e.K=!0,Mr(11))):(Un(i.j,i.m,r,"[Invalid Chunked Response]"),hs(i),Do(i))}function ga(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Fs:(r=Number(e.substring(r,o)),isNaN(r)?Ya:(o+=1)+r>e.length?Fs:(e=e.substr(o,r),i.C=o+r,e))}function to(i){i.V=Date.now()+i.O,Qa(i,i.O)}function Qa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=bo(cr(i.gb,i),e)}function Ja(i){i.B&&(Ft.clearTimeout(i.B),i.B=null)}function Do(i){0==i.l.G||i.I||St(i.l,i)}function hs(i){Ja(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Io(i.T),Ou(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Bu(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||Cl(r.h,i)))if(!i.J&&Cl(r.h,i)&&3==r.G){try{var o=r.Fa.g.parse(e)}catch(F){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(r.u)r.Ba=u[1],0<r.Ba-r.T&&37500>u[2]&&r.L&&0==r.A&&!r.v&&(r.v=bo(cr(r.cb,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;it(r),So(r)}le(r),Mr(18)}if(1>=Ed(r.h)&&r.ja){try{r.ja()}catch(F){}r.ja=void 0}}else Vt(r,11)}else if((i.J||r.g==i)&&it(r),!ai(e))for(u=r.Fa.g.parse(e),e=0;e<u.length;e++){let F=u[e];if(r.T=F[0],F=F[1],2==r.G)if("c"==F[0]){r.I=F[1],r.ka=F[2];const G=F[3];null!=G&&(r.ma=G,r.j.info("VER="+r.ma));const Q=F[4];null!=Q&&(r.Ca=Q,r.j.info("SVER="+r.Ca));const ge=F[5];null!=ge&&"number"==typeof ge&&0<ge&&(r.J=o=1.5*ge,r.j.info("backChannelRequestTimeoutMs_="+o)),o=r;const xe=i.g;if(xe){const Me=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Me){var h=o.h;h.g||-1==Me.indexOf("spdy")&&-1==Me.indexOf("quic")&&-1==Me.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(hr(h,h.h),h.h=null))}if(o.D){const st=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;st&&(o.za=st,E(o.F,o.D,st))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-i.F,r.j.info("Handshake RTT: "+r.P+"ms"));var g=i;if((o=r).sa=ni(o,o.H?o.ka:null,o.V),g.J){Ch(o.h,g);var I=g,A=o.J;A&&I.setTimeout(A),I.B&&(Ja(I),to(I)),o.g=g}else Z(o);0<r.i.length&&ba(r)}else"stop"!=F[0]&&"close"!=F[0]||Vt(r,7);else 3==r.G&&("stop"==F[0]||"close"==F[0]?"stop"==F[0]?Vt(r,7):ju(r):"noop"!=F[0]&&r.l&&r.l.wa(F),r.A=0)}ks(4)}catch(F){}}function _a(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ys(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(Ys(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const o in i)e[r++]=o;return e}}}(i),o=function(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ys(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length,h=0;h<u;h++)e.call(void 0,o[h],r&&r[h],i)}(gt=Za.prototype).setTimeout=function(i){this.O=i},gt.ib=function(i){i=i.target;const e=this.L;e&&3==qo(i)?e.l():this.La(i)},gt.La=function(i){try{if(i==this.g)e:{const G=qo(this.g);var e=this.g.Ea();const Q=this.g.aa();if(!(3>G)&&(3!=G||ne||this.g&&(this.h.h||this.g.fa()||Id(this.g)))){this.I||4!=G||7==e||ks(8==e||0>=Q?3:2),Ja(this);var r=this.g.aa();this.Y=r;t:if(Vi(this)){var o=Id(this.g);i="";var u=o.length,h=4==qo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hs(this),Do(this);var g="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==r,function(i,e,r,o,u,h,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.U,G,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var I,A=this.g;if((I=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ai(I)){var F=I;break t}}F=null}if(!(r=F)){this.i=!1,this.o=3,Mr(12),hs(this),Do(this);break e}Un(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bu(this,r)}this.P?(Uu(this,G,g),ne&&this.i&&3==G&&(fa(this.S,this.T,"tick",this.hb),this.T.start())):(Un(this.j,this.m,g,null),Bu(this,g)),4==G&&hs(this),this.i&&!this.I&&(4==G?St(this.l,this):(this.i=!1,to(this)))}else 400==r&&0<g.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),hs(this),Do(this)}}}catch(G){}},gt.hb=function(){if(this.g){var i=qo(this.g),e=this.g.fa();this.C<e.length&&(Ja(this),Uu(this,i,e),this.i&&4!=i&&to(this))}},gt.cancel=function(){this.I=!0,hs(this)},gt.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ks(3),Mr(17)),hs(this),this.o=2,Do(this)):Qa(this,this.V-i)};var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ds){this.h=void 0!==e?e:i.h,Xa(this,i.j),this.s=i.s,this.g=i.g,Cs(this,i.m),this.l=i.l,e=i.i;var r=new Dt;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),b(this,r),this.o=i.o}else i&&(r=String(i).match(va))?(this.h=!!e,Xa(this,r[1]||"",!0),this.s=T(r[2]||""),this.g=T(r[3]||"",!0),Cs(this,r[4]),this.l=T(r[5]||"",!0),b(this,r[6]||"",!0),this.o=T(r[7]||"")):(this.h=!!e,this.i=new Dt(null,this.h))}function Ui(i){return new Ds(i)}function Xa(i,e,r){i.j=r?T(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Cs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function b(i,e,r){e instanceof Dt?(i.i=e,function(i,e){e&&!i.j&&(hn(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(Zt(this,o),Br(this,u,r))},i)),i.j=e}(i.i,i.h)):(r||(e=P(e,ot)),i.i=new Dt(e,i.h))}function E(i,e,r){i.i.set(e,r)}function v(i){return E(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function T(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function P(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,j),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function j(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ds.prototype.toString=function(){var i=[],e=this.j;e&&i.push(P(e,Y,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(P(e,Y,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(P(r,"/"==r.charAt(0)?Re:ie,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",P(r,Qt)),i.join("")};var Y=/[#\/\?@]/g,ie=/[#\?:]/g,Re=/[#\?]/g,ot=/[#\?@]/g,Qt=/#/g;function Dt(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function hn(i){i.g||(i.g=new Map,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var h=i[r].substring(0,o);u=i[r].substring(o+1)}else h=i[r];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Zt(i,e){hn(i),e=dr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ii(i,e){return hn(i),e=dr(i,e),i.g.has(e)}function Br(i,e,r){Zt(i,e),0<r.length&&(i.i=null,i.g.set(dr(i,e),yo(r)),i.h+=r.length)}function dr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Co(i){this.l=i||rc,i=Ft.PerformanceNavigationTiming?0<(i=Ft.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ga&&Ft.g.Ga()&&Ft.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=Dt.prototype).add=function(i,e){hn(this),this.i=null,i=dr(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},gt.forEach=function(i,e){hn(this),this.g.forEach(function(r,o){r.forEach(function(u){i.call(e,u,o,this)},this)},this)},gt.oa=function(){hn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let o=0;o<e.length;o++){const u=i[o];for(let h=0;h<u.length;h++)r.push(e[o])}return r},gt.W=function(i){hn(this);let e=[];if("string"==typeof i)Ii(this,i)&&(e=e.concat(this.g.get(dr(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},gt.set=function(i,e){return hn(this),this.i=null,Ii(this,i=dr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},gt.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var o=e[r];const h=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=h;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var rc=10;function Dh(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ed(i){return i.h?1:i.g?i.g.size:0}function Cl(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function hr(i,e){i.g?i.g.add(e):i.h=e}function Ch(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Tl(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return yo(i.i)}function Ia(){}function Wf(){this.g=new Ia}function zf(i,e,r){const o=r||"";try{_a(i,function(u,h){let g=u;go(u)&&(g=ui(u)),e.push(o+h+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ic(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function kc(i){this.l=i.ac||null,this.j=i.jb||!1}function Fc(i,e){yr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Sl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Co.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ia.prototype.stringify=function(i){return Ft.JSON.stringify(i,void 0)},Ia.prototype.parse=function(i){return Ft.JSON.parse(i,void 0)},qn(kc,bs),kc.prototype.g=function(){return new Fc(this.l,this.j)},kc.prototype.i=function(i){return function(){return i}}({}),qn(Fc,yr);var Sl=0;function Al(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function no(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ko(i)}function Ko(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(gt=Fc.prototype).open=function(i,e){if(this.readyState!=Sl)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ko(this)},gt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,no(this)),this.readyState=Sl},gt.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Al(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?no(this):Ko(this),3==this.readyState&&Al(this)}},gt.Va=function(i){this.g&&(this.response=this.responseText=i,no(this))},gt.Ua=function(i){this.g&&(this.response=i,no(this))},gt.ga=function(){this.g&&no(this)},gt.setRequestHeader=function(i,e){this.v.append(i,e)},gt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Or=Ft.JSON.parse;function Zn(i){yr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eu,this.K=this.L=!1}qn(Zn,yr);var eu="",Lc=/^https?$/i,qf=["POST","PUT"];function To(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,sc(i),wi(i)}function sc(i){i.D||(i.D=!0,Yn(i,"complete"),Yn(i,"error"))}function wa(i){if(i.h&&void 0!==fo&&(!i.C[1]||4!=qo(i)||2!=i.aa()))if(i.v&&4==qo(i))Xs(i.Ha,0,i);else if(Yn(i,"readystatechange"),4==qo(i)){i.h=!1;try{const I=i.aa();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===I){var u=String(i.H).match(va)[1]||null;if(!u&&Ft.self&&Ft.self.location){var h=Ft.self.location.protocol;u=h.substr(0,h.length-1)}o=!Lc.test(u?u.toLowerCase():"")}r=o}if(r)Yn(i,"complete"),Yn(i,"success");else{i.m=6;try{var g=2<qo(i)?i.g.statusText:""}catch(A){g=""}i.j=g+" ["+i.aa()+"]",sc(i)}}finally{wi(i)}}}function wi(i,e){if(i.g){Vc(i);const r=i.g,o=i.C[0]?po:null;i.g=null,i.C=null,e||Yn(i,"ready");try{r.onreadystatechange=o}catch(u){}}}function Vc(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ft.clearTimeout(i.A),i.A=null)}function qo(i){return i.g?i.g.readyState:0}function Id(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case eu:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Zo(i){let e="";return _o(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}function wd(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=Zo(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):E(i,e,r))}function fs(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Ts(i){this.Ca=0,this.i=[],this.j=new Go,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fs("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fs("baseRetryDelayMs",5e3,i),this.bb=fs("retryDelaySeedMs",1e4,i),this.$a=fs("forwardChannelMaxRetries",2,i),this.ta=fs("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Co(i&&i.concurrentRequestLimit),this.Fa=new Wf,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ju(i){if(xl(i),3==i.G){var e=i.U++,r=Ui(i.F);E(r,"SID",i.I),E(r,"RID",e),E(r,"TYPE","terminate"),O(i,r),(e=new Za(i,i.j,e,void 0)).K=2,e.v=v(Ui(r)),r=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(r=Ft.navigator.sendBeacon(e.v.toString(),"")),!r&&Ft.Image&&((new Image).src=e.v,r=!0),r||(e.g=ps(e.l,null),e.g.da(e.v)),e.F=Date.now(),to(e)}kt(i)}function So(i){i.g&&(we(i),i.g.cancel(),i.g=null)}function xl(i){So(i),i.u&&(Ft.clearTimeout(i.u),i.u=null),it(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Ft.clearTimeout(i.m),i.m=null)}function ba(i){Dh(i.h)||i.m||(i.m=!0,Mc(i.Ja,i),i.C=0)}function D(i,e){var r;r=e?e.m:i.U++;const o=Ui(i.F);E(o,"SID",i.I),E(o,"RID",r),E(o,"AID",i.T),O(i,o),i.o&&i.s&&wd(o,i.o,i.s),r=new Za(i,i.j,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.i=e.D.concat(i.i)),e=U(i,r,1e3),r.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),hr(i.h,r),nc(r,o,e)}function O(i,e){i.ia&&_o(i.ia,function(r,o){E(e,o,r)}),i.l&&_a({},function(r,o){E(e,o,r)})}function U(i,e,r){r=Math.min(i.i.length,r);var o=i.l?cr(i.l.Ra,i.l,i):null;e:{var u=i.i;let h=-1;for(;;){const g=["count="+r];-1==h?0<r?(h=u[0].h,g.push("ofs="+h)):h=0:g.push("ofs="+h);let I=!0;for(let A=0;A<r;A++){let F=u[A].h;const G=u[A].g;if(F-=h,0>F)h=Math.max(0,u[A].h-100),I=!1;else try{zf(G,g,"req"+F+"_")}catch(Q){o&&o(G)}}if(I){o=g.join("&");break e}}}return i=i.i.splice(0,r),e.D=i,o}function Z(i){i.g||i.u||(i.Z=1,Mc(i.Ia,i),i.A=0)}function le(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=bo(cr(i.Ia,i),zt(i,i.A)),i.A++,0))}function we(i){null!=i.B&&(Ft.clearTimeout(i.B),i.B=null)}function Ue(i){i.g=new Za(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ui(i.sa);E(e,"RID","rpc"),E(e,"SID",i.I),E(e,"CI",i.L?"0":"1"),E(e,"AID",i.T),E(e,"TYPE","xmlhttp"),O(i,e),i.o&&i.s&&wd(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var r=i.g;i=i.ka,r.K=1,r.v=v(Ui(e)),r.s=null,r.P=!0,ns(r,i)}function it(i){null!=i.v&&(Ft.clearTimeout(i.v),i.v=null)}function St(i,e){var r=null;if(i.g==e){it(i),we(i),i.g=null;var o=2}else{if(!Cl(i.h,e))return;r=e.D,Ch(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Yn(o=lr(),new Wo(o,r,e,u)),ba(i)}else Z(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function(i,e){return!(Ed(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=bo(cr(i.Ja,i,e),zt(i,i.C)),i.C++,0)))}(i,e)||2==o&&le(i)))switch(r&&0<r.length&&(e=i.h,e.i=e.i.concat(r)),u){case 1:Vt(i,5);break;case 4:Vt(i,10);break;case 3:Vt(i,6);break;default:Vt(i,2)}}function zt(i,e){let r=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(r*=2),r*e}function Vt(i,e){if(i.j.info("Error code "+e),2==e){var r=null;i.l&&(r=null);var o=cr(i.kb,i);r||(r=new Ds("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Xa(r,"https"),v(r)),function(i,e){const r=new Go;if(Ft.Image){const o=new Image;o.onload=Lo(ic,r,o,"TestLoadImage: loaded",!0,e),o.onerror=Lo(ic,r,o,"TestLoadImage: error",!1,e),o.onabort=Lo(ic,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=Lo(ic,r,o,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Mr(2);i.G=0,i.l&&i.l.va(e),kt(i),xl(i)}function kt(i){if(i.G=0,i.la=[],i.l){const e=Tl(i.h);(0!=e.length||0!=i.i.length)&&(sa(i.la,e),sa(i.la,i.i),i.h.i.length=0,yo(i.i),i.i.length=0),i.l.ua()}}function ni(i,e,r){var o=r instanceof Ds?Ui(r):new Ds(r,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Cs(o,o.m);else{var u=Ft.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var h=new Ds(null,void 0);o&&Xa(h,o),e&&(h.g=e),u&&Cs(h,u),r&&(h.l=r),o=h}return e=i.za,(r=i.D)&&e&&E(o,r,e),E(o,"VER",i.ma),O(i,o),o}function ps(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(r&&i.Da&&!i.ra?new kc({jb:!0}):i.ra)).Ka(i.H),e}function Yo(){}function tu(){if(R&&!(10<=Number(ti)))throw Error("Environmental error: no available transport.")}function Dr(i,e){yr.call(this),this.g=new Ts(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!ai(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ai(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new gs(this)}function Da(i){pa.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Qo(){tc.call(this),this.status=1}function gs(i){this.g=i}(gt=Zn.prototype).Ka=function(i){this.L=i},gt.da=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ku.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:ku),this.g.onreadystatechange=cr(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void To(this,h)}if(i=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)r.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const h of o.keys())r.set(h,o.get(h))}o=Array.from(r.keys()).find(h=>"content-type"==h.toLowerCase()),u=Ft.FormData&&i instanceof Ft.FormData,!(0<=Mi(qf,e))||o||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of r)this.g.setRequestHeader(h,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vc(this),0<this.B&&((this.K=function(i){return R&&sn()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cr(this.qa,this)):this.A=Xs(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){To(this,h)}},gt.qa=function(){void 0!==fo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},gt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Yn(this,"complete"),Yn(this,"abort"),wi(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wi(this,!0)),Zn.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?wa(this):this.fb())},gt.fb=function(){wa(this)},gt.aa=function(){try{return 2<qo(this)?this.g.status:-1}catch(i){return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},gt.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Or(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Ts.prototype).ma=8,gt.G=1,gt.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Za(this,this.j,i,void 0);let h=this.s;if(this.S&&(h?(h=Pt(h),ua(h,this.S)):h=this.S),null!==this.o||this.N||(u.H=h,h=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){var o=this.i[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=U(this,u,e),E(r=Ui(this.F),"RID",i),E(r,"CVER",22),this.D&&E(r,"X-HTTP-Session-Id",this.D),O(this,r),h&&(this.N?e="headers="+encodeURIComponent(String(Zo(h)))+"&"+e:this.o&&wd(r,this.o,h)),hr(this.h,u),this.Ya&&E(r,"TYPE","init"),this.O?(E(r,"$req",e),E(r,"SID","null"),u.Z=!0,nc(u,r,null)):nc(u,r,e),this.G=2}}else 3==this.G&&(i?D(this,i):0==this.i.length||Dh(this.h)||D(this))},gt.Ia=function(){if(this.u=null,Ue(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=bo(cr(this.eb,this),i)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Mr(10),So(this),Ue(this))},gt.cb=function(){null!=this.v&&(this.v=null,So(this),le(this),Mr(19))},gt.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Mr(2)):(this.j.info("Failed to ping google.com"),Mr(1))},(gt=Yo.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},tu.prototype.g=function(i,e){return new Dr(i,e)},qn(Dr,yr),Dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;Mr(0),i.V=e,i.ia=r||{},i.L=i.Y,i.F=ni(i,null,i.V),ba(i)},Dr.prototype.close=function(){ju(this.g)},Dr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=ui(i),i=r);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ba(e)},Dr.prototype.M=function(){this.g.l=null,delete this.j,ju(this.g),delete this.g,Dr.X.M.call(this)},qn(Da,pa),qn(Qo,tc),qn(gs,Yo),gs.prototype.xa=function(){Yn(this.g,"a")},gs.prototype.wa=function(i){Yn(this.g,new Da(i))},gs.prototype.va=function(i){Yn(this.g,new Qo(i))},gs.prototype.ua=function(){Yn(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Dr.prototype.send=Dr.prototype.u,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Li.COMPLETE="complete",Pu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",yr.prototype.listen=yr.prototype.N,Zn.prototype.listenOnce=Zn.prototype.O,Zn.prototype.getLastError=Zn.prototype.Oa,Zn.prototype.getLastErrorCode=Zn.prototype.Ea,Zn.prototype.getStatus=Zn.prototype.aa,Zn.prototype.getResponseJson=Zn.prototype.Sa,Zn.prototype.getResponseText=Zn.prototype.fa,Zn.prototype.send=Zn.prototype.da,Zn.prototype.setWithCredentials=Zn.prototype.Ka;var Qn=qi.createWebChannelTransport=function(){return new tu},nu=qi.getStatEventTarget=function(){return lr()},oc=qi.ErrorCode=br,ru=qi.EventType=Li,ac=qi.Event=eo,Zf=qi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Dd=qi.FetchXmlHttpFactory=kc,Uc=qi.WebChannel=Pu,nm=qi.XhrIo=Zn;const uc="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let Jo="9.12.1";const Ss=new ls.Yd("@firebase/firestore");function Th(){return Ss.logLevel}function Ze(i,...e){if(Ss.logLevel<=ls.in.DEBUG){const r=e.map(Sh);Ss.debug(`Firestore (${Jo}): ${i}`,...r)}}function Cr(i,...e){if(Ss.logLevel<=ls.in.ERROR){const r=e.map(Sh);Ss.error(`Firestore (${Jo}): ${i}`,...r)}}function Ca(i,...e){if(Ss.logLevel<=ls.in.WARN){const r=e.map(Sh);Ss.warn(`Firestore (${Jo}): ${i}`,...r)}}function Sh(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function vt(i="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+i;throw Cr(e),new Error(e)}function At(i,e){i||vt()}function ut(i,e){return i}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends yn.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Yf{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(fr.UNAUTHENTICATED))}shutdown(){}}class rm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Jf{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const h=F=>this.i!==u?(u=this.i,r(F)):Promise.resolve();let g=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ci,e.enqueueRetryable(()=>h(this.currentUser))};const I=()=>{const F=g;e.enqueueRetryable((0,Ae.Z)(function*(){yield F.promise,yield h(o.currentUser)}))},A=F=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=F,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(F=>A(F)),setTimeout(()=>{if(!this.auth){const F=this.t.getImmediate({optional:!0});F?A(F):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ci)}},0),I()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(At("string"==typeof o.accessToken),new Yf(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new fr(e)}}class Bc{constructor(e,r,o,u){this.h=e,this.l=r,this.m=o,this.g=u,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ah{constructor(e,r,o,u){this.h=e,this.l=r,this.m=o,this.g=u}getToken(){return Promise.resolve(new Bc(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class im{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const o=h=>{null!=h.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.A;return this.A=h.token,Ze("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.T.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.T.getImmediate({optional:!0});h?u(h):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(At("string"==typeof r.token),this.A=r.token,new lc(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function U_(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}class Rl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=U_(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<r&&(o+=e.charAt(u[h]%e.length))}return o}}function Kt(i,e){return i<e?-1:i>e?1:0}function dc(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}function jc(i){return i+"\0"}class vr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new $e(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new vr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new vr(0,0))}static max(){return new Rt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nl{constructor(e,r,o){void 0===r?r=0:r>e.length&&vt(),void 0===o?o=e.length-r:o>e.length-r&&vt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const h=e.get(u),g=r.get(u);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class An extends Nl{construct(e,r,o){return new An(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new $e(De.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new An(r)}static emptyPath(){return new An([])}}const sm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Nl{construct(e,r,o){return new $r(e,r,o)}static isValidIdentifier(e){return sm.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const h=()=>{if(0===o.length)throw new $e(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let g=!1;for(;u<e.length;){const I=e[u];if("\\"===I){if(u+1===e.length)throw new $e(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[u+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new $e(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=A,u+=2}else"`"===I?(g=!g,u++):"."!==I||g?(o+=I,u++):(h(),u++)}if(h(),g)throw new $e(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(r)}static emptyPath(){return new $r([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(An.fromString(e))}static fromName(e){return new at(An.fromString(e).popFirst(5))}static empty(){return new at(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===An.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return An.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new An(e.slice()))}}class Ao{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function Ta(i){return i.fields.find(e=>2===e.kind)}function $u(i){return i.fields.filter(e=>2!==e.kind)}Ao.UNKNOWN_ID=-1;class Td{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ml{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ml(0,io.min())}}function xh(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Rt.fromTimestamp(1e9===o?new vr(r+1,0):new vr(r,o));return new io(u,at.empty(),e)}function Rh(i){return new io(i.readTime,i.key,-1)}class io{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new io(Rt.min(),at.empty(),-1)}static max(){return new io(Rt.max(),at.empty(),-1)}}function Nh(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=at.comparator(i.documentKey,e.documentKey),0!==r?r:Kt(i.largestBatchId,e.largestBatchId))}const ep="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hc(i){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,Ae.Z)(function*(i){if(i.code!==De.FAILED_PRECONDITION||i.message!==ep)throw i;Ze("LocalStore","Unexpectedly lost primary lease")}),Ol.apply(this,arguments)}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ve((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ve?r:ve.resolve(r)}catch(r){return ve.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ve.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ve.reject(r)}static resolve(e){return new ve((r,o)=>{r(e)})}static reject(e){return new ve((r,o)=>{o(e)})}static waitFor(e){return new ve((r,o)=>{let u=0,h=0,g=!1;e.forEach(I=>{++u,I.next(()=>{++h,g&&h===u&&r()},A=>o(A))}),g=!0,h===u&&r()})}static or(e){let r=ve.resolve(!1);for(const o of e)r=r.next(u=>u?ve.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,h)=>{o.push(r.call(this,u,h))}),this.waitFor(o)}static mapArray(e,r){return new ve((o,u)=>{const h=e.length,g=new Array(h);let I=0;for(let A=0;A<h;A++){const F=A;r(e[F]).next(G=>{g[F]=G,++I,I===h&&o(g)},G=>u(G))}})}static doWhile(e,r){return new ve((o,u)=>{const h=()=>{!0===e()?r().next(()=>{h()},u):o()};h()})}}class $c{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.P=new ci,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{r.error?this.P.reject(new Hc(e,r.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=tp(o.target.error);this.P.reject(new Hc(e,u))}}static open(e,r,o,u){try{return new $c(r,e.transaction(u,o))}catch(h){throw new Hc(r,h)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Mh(r)}}class li{constructor(e,r,o){this.name=e,this.version=r,this.S=o,12.2===li.D((0,yn.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),Gc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,yn.hl)())return!1;if(li.N())return!0;const e=(0,yn.z$)(),r=li.D(e),o=0<r&&r<10,u=li.k(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,r){return e.store(r)}static D(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var r=this;return(0,Ae.Z)(function*(){return r.db||(Ze("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=g=>{o(g.target.result)},h.onblocked=()=>{u(new Hc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=g=>{const I=g.target.error;u("VersionError"===I.name?new $e(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===I.name?new $e(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+I):new Hc(e,I))},h.onupgradeneeded=g=>{Ze("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.S.$(g.target.result,h.transaction,g.oldVersion,r.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=o=>r.B(o)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var h=this;return(0,Ae.Z)(function*(){const g="readonly"===r;let I=0;for(;;){++I;try{h.db=yield h.F(e);const A=$c.open(h.db,e,g?"readonly":"readwrite",o),F=u(A).next(G=>(A.V(),G)).catch(G=>(A.abort(G),ve.reject(G))).toPromise();return F.catch(()=>{}),yield A.v,F}catch(A){const F=A,G="FirebaseError"!==F.name&&I<3;if(Ze("SimpleDb","Transaction failed with error:",F.message,"Retrying:",G),h.close(),!G)return Promise.reject(F)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fc{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Gc(this.U.delete())}}class Hc extends $e{constructor(e,r){super(De.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Sa(i){return"IndexedDbTransactionError"===i.name}class Mh{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Ze("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Gc(o)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),Gc(this.store.add(e))}get(e){return Gc(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ze("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),Gc(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),Gc(this.store.count())}W(e,r){const o=this.options(e,r);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),h=[];return this.H(u,(g,I)=>{h.push(I)}).next(()=>h)}{const u=this.store.getAll(o.range);return new ve((h,g)=>{u.onerror=I=>{g(I.target.error)},u.onsuccess=I=>{h(I.target.result)}})}}J(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new ve((u,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,r){Ze("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.X=!1;const u=this.cursor(o);return this.H(u,(h,g,I)=>I.delete())}Z(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.H(u,r)}tt(e){const r=this.cursor({});return new ve((o,u)=>{r.onerror=h=>{const g=tp(h.target.error);u(g)},r.onsuccess=h=>{const g=h.target.result;g?e(g.primaryKey,g.value).next(I=>{I?g.continue():o()}):o()}})}H(e,r){const o=[];return new ve((u,h)=>{e.onerror=g=>{h(g.target.error)},e.onsuccess=g=>{const I=g.target.result;if(!I)return void u();const A=new fc(I),F=r(I.primaryKey,I.value,A);if(F instanceof ve){const G=F.catch(Q=>(A.done(),ve.reject(Q)));o.push(G)}A.isDone?u():null===A.G?I.continue():I.continue(A.G)}}).next(()=>ve.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Gc(i){return new ve((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=tp(o.target.error);r(u)}})}let um=!1;function tp(i){const e=li.D((0,yn.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return um||(um=!0,setTimeout(()=>{throw o},0)),o}}return i}class Oh{constructor(e,r){this.asyncQueue=e,this.et=r,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var r=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){r.task=null;try{Ze("IndexBackiller",`Documents written: ${yield r.et.st()}`)}catch(o){Sa(o)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield hc(o)}yield r.nt(6e4)}))}}class Ph{constructor(e,r){this.localStore=e,this.persistence=r}st(e=50){var r=this;return(0,Ae.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.it(o,e))})()}it(e,r){const o=new Set;let u=r,h=!0;return ve.doWhile(()=>!0===h&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Ze("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(I=>{u-=I,o.add(g)});h=!1})).next(()=>r-u)}rt(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(h=>{const g=h.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,h)).next(I=>(Ze("IndexBackiller",`Updating offset: ${I}`),this.localStore.indexManager.updateCollectionGroup(e,r,I))).next(()=>g.size)}))}ot(e,r){let o=e;return r.changes.forEach((u,h)=>{const g=Rh(h);Nh(g,o)>0&&(o=g)}),new io(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}class rs{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>r.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function cm(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Pl(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function iu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}rs.at=-1;class Hr{constructor(e,r){this.comparator=e,this.root=r||bi.EMPTY}insert(e,r){return new Hr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?o(e.key,r):1,r&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,r,o,u,h){this.key=e,this.value=r,this.color=null!=o?o:bi.RED,this.left=null!=u?u:bi.EMPTY,this.right=null!=h?h:bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,h){return new bi(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return bi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1,bi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(i,e,r,o,u){return this}insert(i,e,r){return new bi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kl(this.data.getIterator())}getIteratorFrom(e){return new kl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jn(this.comparator);return r.data=e,r}}class kl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function su(i){return i.hasNext()?i.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Ls([])}unionWith(e){let r=new Jn($r.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Ls(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Di(r)}static fromUint8Array(e){const r=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Di(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const Gr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(At(!!i),"string"==typeof i){let e=0;const r=Gr.exec(i);if(At(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Wr(i.seconds),nanos:Wr(i.nanos)}}function Wr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ou(i){return"string"==typeof i?Di.fromBase64String(i):Di.fromUint8Array(i)}function xd(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function np(i){const e=i.mapValue.fields.__previous_value__;return xd(e)?np(e):e}function Ll(i){const e=Aa(i.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class rp{constructor(e,r,o,u,h,g,I,A){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=I,this.useFetchStreams=A}}class xa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}function Vl(i){return null==i}function Rd(i){return 0===i&&1/i==-1/0}function kh(i){return"number"==typeof i&&Number.isInteger(i)&&!Rd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bi={nullValue:"NULL_VALUE"};function au(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xd(i)?4:sp(i)?9007199254740991:10:vt()}function Us(i,e){if(i===e)return!0;const r=au(i);if(r!==au(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ll(i).isEqual(Ll(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Aa(o.timestampValue),g=Aa(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ou(i.bytesValue).isEqual(ou(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Wr(o.geoPointValue.latitude)===Wr(u.geoPointValue.latitude)&&Wr(o.geoPointValue.longitude)===Wr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Wr(o.integerValue)===Wr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Wr(o.doubleValue),g=Wr(u.doubleValue);return h===g?Rd(h)===Rd(g):isNaN(h)&&isNaN(g)}return!1}(i,e);case 9:return dc(i.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(cm(h)!==cm(g))return!1;for(const I in h)if(h.hasOwnProperty(I)&&(void 0===g[I]||!Us(h[I],g[I])))return!1;return!0}(i,e);default:return vt()}var u}function Wc(i,e){return void 0!==(i.values||[]).find(r=>Us(r,e))}function Pr(i,e){if(i===e)return 0;const r=au(i),o=au(e);if(r!==o)return Kt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,e.booleanValue);case 2:return function(u,h){const g=Wr(u.integerValue||u.doubleValue),I=Wr(h.integerValue||h.doubleValue);return g<I?-1:g>I?1:g===I?0:isNaN(g)?isNaN(I)?0:-1:1}(i,e);case 3:return zc(i.timestampValue,e.timestampValue);case 4:return zc(Ll(i),Ll(e));case 5:return Kt(i.stringValue,e.stringValue);case 6:return function(u,h){const g=ou(u),I=ou(h);return g.compareTo(I)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const g=u.split("/"),I=h.split("/");for(let A=0;A<g.length&&A<I.length;A++){const F=Kt(g[A],I[A]);if(0!==F)return F}return Kt(g.length,I.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const g=Kt(Wr(u.latitude),Wr(h.latitude));return 0!==g?g:Kt(Wr(u.longitude),Wr(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const g=u.values||[],I=h.values||[];for(let A=0;A<g.length&&A<I.length;++A){const F=Pr(g[A],I[A]);if(F)return F}return Kt(g.length,I.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){if(u===Vs.mapValue&&h===Vs.mapValue)return 0;if(u===Vs.mapValue)return 1;if(h===Vs.mapValue)return-1;const g=u.fields||{},I=Object.keys(g),A=h.fields||{},F=Object.keys(A);I.sort(),F.sort();for(let G=0;G<I.length&&G<F.length;++G){const Q=Kt(I[G],F[G]);if(0!==Q)return Q;const ge=Pr(g[I[G]],A[F[G]]);if(0!==ge)return ge}return Kt(I.length,F.length)}(i.mapValue,e.mapValue);default:throw vt()}}function zc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Kt(i,e);const r=Aa(i),o=Aa(e),u=Kt(r.seconds,o.seconds);return 0!==u?u:Kt(r.nanos,o.nanos)}function uu(i){return Fh(i)}function Fh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Aa(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ou(i.bytesValue).toBase64():"referenceValue"in i?at.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const g of o.values||[])h?h=!1:u+=",",u+=Fh(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",g=!0;for(const I of u)g?g=!1:h+=",",h+=`${I}:${Fh(o.fields[I])}`;return h+"}"}(i.mapValue):vt();var e}function pc(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Nd(i){return!!i&&"integerValue"in i}function Ul(i){return!!i&&"arrayValue"in i}function gc(i){return!!i&&"nullValue"in i}function ip(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Kc(i){return!!i&&"mapValue"in i}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Pl(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Bl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function sp(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function lm(i){return"nullValue"in i?Bi:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?pc(xa.empty(),at.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:vt()}function op(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?pc(xa.empty(),at.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Vs:vt()}function jl(i,e){const r=Pr(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function $l(i,e){const r=Pr(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Kc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(r)}setAll(e){let r=$r.emptyPath(),o={},u=[];e.forEach((g,I)=>{if(!r.isImmediateParentOf(I)){const A=this.getFieldsMap(r);this.applyChanges(A,o,u),o={},u=[],r=I.popLast()}g?o[I.lastSegment()]=Bl(g):u.push(I.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,o,u)}delete(e){const r=this.field(e.popLast());Kc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Kc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){Pl(r,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new Ci(Bl(this.value))}}function ap(i){const e=[];return Pl(i.fields,(r,o)=>{const u=new $r([r]);if(Kc(o)){const h=ap(o.mapValue).fields;if(0===h.length)e.push(u);else for(const g of h)e.push(u.child(g))}else e.push(u)}),new Ls(e)}class ur{constructor(e,r,o,u,h,g){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new ur(e,0,Rt.min(),Rt.min(),Ci.empty(),0)}static newFoundDocument(e,r,o){return new ur(e,1,r,Rt.min(),o,0)}static newNoDocument(e,r){return new ur(e,2,r,Rt.min(),Ci.empty(),0)}static newUnknownDocument(e,r){return new ur(e,3,r,Rt.min(),Ci.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(e,r=null,o=[],u=[],h=null,g=null,I=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=g,this.endAt=I,this.ht=null}}function up(i,e=null,r=[],o=[],u=null,h=null,g=null){return new qc(i,e,r,o,u,h,g)}function Ti(i){const e=ut(i);if(null===e.ht){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+uu(u.value);var u}).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Vl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>uu(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>uu(o)).join(",")),e.ht=r}return e.ht}function Zc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Qc(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((r=i.filters[u]).op!==(o=e.filters[u]).op||!r.field.isEqual(o.field)||!Us(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Hl(i.startAt,e.startAt)&&Hl(i.endAt,e.endAt)}function Md(i){return at.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Yc(i,e){return i.filters.filter(r=>r instanceof ri&&r.field.isEqual(e))}function Od(i,e,r){let o=Bi,u=!0;for(const h of Yc(i,e)){let g=Bi,I=!0;switch(h.op){case"<":case"<=":g=lm(h.value);break;case"==":case"in":case">=":g=h.value;break;case">":g=h.value,I=!1;break;case"!=":case"not-in":g=Bi}jl({value:o,inclusive:u},{value:g,inclusive:I})<0&&(o=g,u=I)}if(null!==r)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const g=r.position[h];jl({value:o,inclusive:u},{value:g,inclusive:r.inclusive})<0&&(o=g,u=r.inclusive);break}return{value:o,inclusive:u}}function cp(i,e,r){let o=Vs,u=!0;for(const h of Yc(i,e)){let g=Vs,I=!0;switch(h.op){case">=":case">":g=op(h.value),I=!1;break;case"==":case"in":case"<=":g=h.value;break;case"<":g=h.value,I=!1;break;case"!=":case"not-in":g=Vs}$l({value:o,inclusive:u},{value:g,inclusive:I})>0&&(o=g,u=I)}if(null!==r)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const g=r.position[h];$l({value:o,inclusive:u},{value:g,inclusive:r.inclusive})>0&&(o=g,u=r.inclusive);break}return{value:o,inclusive:u}}class ri extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.lt(e,r,o):new xo(e,r,o):"array-contains"===r?new hp(e,o):"in"===r?new B_(e,o):"not-in"===r?new Lh(e,o):"array-contains-any"===r?new Bs(e,o):new ri(e,r,o)}static lt(e,r,o){return"in"===r?new cu(e,o):new lp(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.ft(Pr(r,this.value)):null!==r&&au(this.value)===au(r)&&this.ft(Pr(r,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xo extends ri{constructor(e,r,o){super(e,r,o),this.key=at.fromName(o.referenceValue)}matches(e){const r=at.comparator(e.key,this.key);return this.ft(r)}}class cu extends ri{constructor(e,r){super(e,"in",r),this.keys=dp(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class lp extends ri{constructor(e,r){super(e,"not-in",r),this.keys=dp(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function dp(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>at.fromName(o.referenceValue))}class hp extends ri{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ul(r)&&Wc(r.arrayValue,this.value)}}class B_ extends ri{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Wc(this.value.arrayValue,r)}}class Lh extends ri{constructor(e,r){super(e,"not-in",r)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Wc(this.value.arrayValue,r)}}class Bs extends ri{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ul(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Wc(this.value.arrayValue,o))}}class Na{constructor(e,r){this.position=e,this.inclusive=r}}class Hu{constructor(e,r="asc"){this.field=e,this.dir=r}}function Qc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Si(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],g=i.position[u];if(o=h.field.isKeyField()?at.comparator(at.fromName(g.referenceValue),r.key):Pr(g,r.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Hl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Us(i.position[r],e.position[r]))return!1;return!0}class lu{constructor(e,r=null,o=[],u=[],h=null,g="F",I=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=g,this.startAt=I,this.endAt=A,this._t=null,this.wt=null}}function Pd(i,e,r,o,u,h,g,I){return new lu(i,e,r,o,u,h,g,I)}function Gl(i){return new lu(i)}function so(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Wl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function zl(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Vh(i){return null!==i.collectionGroup}function mc(i){const e=ut(i);if(null===e._t){e._t=[];const r=zl(e),o=Wl(e);if(null!==r&&null===o)r.isKeyField()||e._t.push(new Hu(r)),e._t.push(new Hu($r.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e._t.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Hu($r.keyField(),h))}}}return e._t}function m(i){const e=ut(i);if(!e.wt)if("F"===e.limitType)e.wt=up(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const h of mc(e))r.push(new Hu(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new Na(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Na(e.startAt.position,e.startAt.inclusive):null;e.wt=up(e.path,e.collectionGroup,r,e.filters,e.limit,o,u)}return e.wt}function d(i,e,r){return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function f(i,e){return Zc(m(i),m(e))&&i.limitType===e.limitType}function _(i){return`${Ti(m(i))}|lt:${i.limitType}`}function N(i){return`Query(target=${function(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${uu(o.value)}`;var o}).join(", ")}]`),Vl(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(r=>uu(r)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(r=>uu(r)).join(",")),`Target(${e})`}(m(i))}; limitType=${i.limitType})`}function L(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):at.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of r.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!function(u,h,g){const I=Si(u,h,g);return u.inclusive?I<=0:I<0}(r.startAt,mc(r),o)||r.endAt&&!function(u,h,g){const I=Si(u,h,g);return u.inclusive?I>=0:I>0}(r.endAt,mc(r),o)));var r,o}function X(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pe(i){return(e,r)=>{let o=!1;for(const u of mc(i)){const h=Ke(u,e,r);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function Ke(i,e,r){const o=i.field.isKeyField()?at.comparator(e.key,r.key):function(u,h,g){const I=h.data.field(u),A=g.data.field(u);return null!==I&&null!==A?Pr(I,A):vt()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return vt()}}function He(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function It(i){return{integerValue:""+i}}function bt(i,e){return kh(e)?It(e):He(i,e)}class ln{constructor(){this._=void 0}}function ji(i,e,r){return i instanceof Wu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(r,e):i instanceof zu?kd(i,e):i instanceof Xo?Fd(i,e):function(o,u){const h=Kl(o,u),g=Ld(h)+Ld(o.yt);return Nd(h)&&Nd(o.yt)?It(g):He(o.It,g)}(i,e)}function Gu(i,e,r){return i instanceof zu?kd(i,e):i instanceof Xo?Fd(i,e):r}function Kl(i,e){return i instanceof du?Nd(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class Wu extends ln{}class zu extends ln{constructor(e){super(),this.elements=e}}function kd(i,e){const r=Uh(e);for(const o of i.elements)r.some(u=>Us(u,o))||r.push(o);return{arrayValue:{values:r}}}class Xo extends ln{constructor(e){super(),this.elements=e}}function Fd(i,e){let r=Uh(e);for(const o of i.elements)r=r.filter(u=>!Us(u,o));return{arrayValue:{values:r}}}class du extends ln{constructor(e,r){super(),this.It=e,this.yt=r}}function Ld(i){return Wr(i.integerValue||i.doubleValue)}function Uh(i){return Ul(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Jc{constructor(e,r){this.field=e,this.transform=r}}class yc{constructor(e,r){this.version=e,this.transformResults=r}}class kr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fp{}function jh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new el(i.key,kr.none()):new Xc(i.key,i.data,kr.none());{const r=i.data,o=Ci.empty();let u=new Jn($r.comparator);for(let h of e.fields)if(!u.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?o.delete(h):o.set(h,g),u=u.add(h)}return new Ku(i.key,o,new Ls(u.toArray()),kr.none())}}function FE(i,e,r){i instanceof Xc?function(o,u,h){const g=o.value.clone(),I=Hh(o.fieldTransforms,u,h.transformResults);g.setAll(I),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,r):i instanceof Ku?function(o,u,h){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=Hh(o.fieldTransforms,u,h.transformResults),I=u.data;I.setAll($h(o)),I.setAll(g),u.convertToFoundDocument(h.version,I).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ud(i,e,r,o){return i instanceof Xc?function(u,h,g,I){if(!Bh(u.precondition,h))return g;const A=u.value.clone(),F=hm(u.fieldTransforms,I,h);return A.setAll(F),h.convertToFoundDocument(h.version,A).setHasLocalMutations(),null}(i,e,r,o):i instanceof Ku?function(u,h,g,I){if(!Bh(u.precondition,h))return g;const A=hm(u.fieldTransforms,I,h),F=h.data;return F.setAll($h(u)),F.setAll(A),h.convertToFoundDocument(h.version,F).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(G=>G.field))}(i,e,r,o):(g=r,Bh(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function j_(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=Kl(o.transform,u||null);null!=h&&(null===r&&(r=Ci.empty()),r.set(o.field,h))}return r||null}function dm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&dc(r,o,(u,h)=>function(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof zu&&o instanceof zu||r instanceof Xo&&o instanceof Xo?dc(r.elements,o.elements,Us):r instanceof du&&o instanceof du?Us(r.yt,o.yt):r instanceof Wu&&o instanceof Wu);var r,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}class Xc extends fp{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ku extends fp{constructor(e,r,o,u,h=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $h(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function Hh(i,e,r){const o=new Map;At(i.length===r.length);for(let u=0;u<r.length;u++){const h=i[u],g=h.transform,I=e.data.field(h.field);o.set(h.field,Gu(g,I,r[u]))}return o}function hm(i,e,r){const o=new Map;for(const u of i){const h=u.transform,g=r.data.field(u.field);o.set(u.field,ji(h,g,e))}return o}class el extends fp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pp extends fp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fm{constructor(e){this.count=e}}var zr,Fn;function pm(i){switch(i){default:return vt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function $_(i){if(void 0===i)return Cr("GRPC error has no .code"),De.UNKNOWN;switch(i){case zr.OK:return De.OK;case zr.CANCELLED:return De.CANCELLED;case zr.UNKNOWN:return De.UNKNOWN;case zr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case zr.INTERNAL:return De.INTERNAL;case zr.UNAVAILABLE:return De.UNAVAILABLE;case zr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case zr.NOT_FOUND:return De.NOT_FOUND;case zr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case zr.ABORTED:return De.ABORTED;case zr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case zr.DATA_LOSS:return De.DATA_LOSS;default:return vt()}}(Fn=zr||(zr={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";class tl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(r,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return iu(this.inner)}size(){return this.innerSize}}const H_=new Hr(at.comparator);function js(){return H_}const gm=new Hr(at.comparator);function gp(...i){let e=gm;for(const r of i)e=e.insert(r.key,r);return e}function mm(i){let e=gm;return i.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function qu(){return Gh()}function ym(){return Gh()}function Gh(){return new tl(i=>i.toString(),(i,e)=>i.isEqual(e))}const LE=new Hr(at.comparator),hu=new Jn(at.comparator);function cn(...i){let e=hu;for(const r of i)e=e.add(r);return e}const G_=new Jn(Kt);function mp(){return G_}class Wh{constructor(e,r,o,u,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Wh(Rt.min(),u,mp(),js(),cn())}}class zh{constructor(e,r,o,u,h){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new zh(o,r,cn(),cn(),cn())}}class yp{constructor(e,r,o,u){this.Tt=e,this.removedTargetIds=r,this.key=o,this.Et=u}}class _m{constructor(e,r){this.targetId=e,this.At=r}}class W_{constructor(e,r,o=Di.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class z_{constructor(){this.Rt=0,this.bt=vm(),this.Pt=Di.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=cn(),r=cn(),o=cn();return this.bt.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:vt()}}),new zh(this.Pt,this.vt,e,r,o)}Nt(){this.Vt=!1,this.bt=vm()}kt(e,r){this.Vt=!0,this.bt=this.bt.insert(e,r)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class VE{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=js(),this.qt=rn(),this.Kt=new Jn(Kt)}Gt(e){for(const r of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et);for(const r of e.removedTargetIds)this.jt(r,e.key,e.Et)}Wt(e){this.forEachTarget(e,r=>{const o=this.zt(r);switch(e.state){case 0:this.Ht(r)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(r);break;case 3:this.Ht(r)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(r)&&(this.Jt(r),o.Ct(e.resumeToken));break;default:vt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Lt.forEach((o,u)=>{this.Ht(u)&&r(u)})}Yt(e){const r=e.targetId,o=e.At.count,u=this.Xt(r);if(u){const h=u.target;if(Md(h))if(0===o){const g=new at(h.path);this.jt(r,g,ur.newNoDocument(g,Rt.min()))}else At(1===o);else this.Zt(r)!==o&&(this.Jt(r),this.Kt=this.Kt.add(r))}}te(e){const r=new Map;this.Lt.forEach((h,g)=>{const I=this.Xt(g);if(I){if(h.current&&Md(I.target)){const A=new at(I.target.path);null!==this.Ut.get(A)||this.ee(g,A)||this.jt(g,A,ur.newNoDocument(A,e))}h.Dt&&(r.set(g,h.xt()),h.Nt())}});let o=cn();this.qt.forEach((h,g)=>{let I=!0;g.forEachWhile(A=>{const F=this.Xt(A);return!F||2===F.purpose||(I=!1,!1)}),I&&(o=o.add(h))}),this.Ut.forEach((h,g)=>g.setReadTime(e));const u=new Wh(e,r,this.Kt,this.Ut,o);return this.Ut=js(),this.qt=rn(),this.Kt=new Jn(Kt),u}Qt(e,r){if(!this.Ht(e))return;const o=this.ee(e,r.key)?2:0;this.zt(e).kt(r.key,o),this.Ut=this.Ut.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ne(r.key).add(e))}jt(e,r,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,r)?u.kt(r,1):u.Ot(r),this.qt=this.qt.insert(r,this.ne(r).delete(e)),o&&(this.Ut=this.Ut.insert(r,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const r=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let r=this.Lt.get(e);return r||(r=new z_,this.Lt.set(e,r)),r}ne(e){let r=this.qt.get(e);return r||(r=new Jn(Kt),this.qt=this.qt.insert(e,r)),r}Ht(e){const r=null!==this.Xt(e);return r||Ze("WatchChangeAggregator","Detected inactive target",e),r}Xt(e){const r=this.Lt.get(e);return r&&r.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new z_),this.Bt.getRemoteKeysForTarget(e).forEach(r=>{this.jt(e,r,null)})}ee(e,r){return this.Bt.getRemoteKeysForTarget(e).has(r)}}function rn(){return new Hr(at.comparator)}function vm(){return new Hr(at.comparator)}const K_={asc:"ASCENDING",desc:"DESCENDING"},_p={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fu{constructor(e,r){this.databaseId=e,this.gt=r}}function Bd(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q_(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Em(i,e){return Bd(i,e.toTimestamp())}function Tr(i){return At(!!i),Rt.fromTimestamp(function(e){const r=Aa(e);return new vr(r.seconds,r.nanos)}(i))}function Kh(i,e){return(r=i,new An(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Im(i){const e=An.fromString(i);return At(GE(e)),e}function ql(i,e){return Kh(i.databaseId,e.path)}function _c(i,e){const r=Im(e);if(r.get(1)!==i.databaseId.projectId)throw new $e(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new $e(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new at(qh(r))}function vp(i,e){return Kh(i.databaseId,e)}function UE(i){const e=Im(i);return 4===e.length?An.emptyPath():qh(e)}function ea(i){return new An(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qh(i){return At(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Zh(i,e,r){return{name:ql(i,e),fields:r.value.mapValue.fields}}function Ep(i,e,r){const o=_c(i,e.name),u=Tr(e.updateTime),h=new Ci({mapValue:{fields:e.fields}}),g=ur.newFoundDocument(o,u,h);return r&&g.setHasCommittedMutations(),r?g.setHasCommittedMutations():g}function jd(i,e){let r;if(e instanceof Xc)r={update:Zh(i,e.key,e.value)};else if(e instanceof el)r={delete:ql(i,e.key)};else if(e instanceof Ku)r={update:Zh(i,e.key,e.data),updateMask:Zb(e.fieldMask)};else{if(!(e instanceof pp))return vt();r={verify:ql(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const g=h.transform;if(g instanceof Wu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof du)return{fieldPath:h.field.canonicalString(),increment:g.yt};throw vt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Em(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:vt()),r;var u}function Z_(i,e){const r=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?kr.updateTime(Tr(u.updateTime)):void 0!==u.exists?kr.exists(u.exists):kr.none():kr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(h,g){let I=null;"setToServerValue"in g?(At("REQUEST_TIME"===g.setToServerValue),I=new Wu):"appendMissingElements"in g?I=new zu(g.appendMissingElements.values||[]):"removeAllFromArray"in g?I=new Xo(g.removeAllFromArray.values||[]):"increment"in g?I=new du(h,g.increment):vt();const A=$r.fromServerFormat(g.fieldPath);return new Jc(A,I)}(i,u)):[];var u;if(e.update){const u=_c(i,e.update.name),h=new Ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Ls((e.updateMask.fieldPaths||[]).map(F=>$r.fromServerFormat(F)));return new Ku(u,h,g,r,o)}return new Xc(u,h,r,o)}if(e.delete){const u=_c(i,e.delete);return new el(u,r)}if(e.verify){const u=_c(i,e.verify);return new pp(u,r)}return vt()}function $E(i,e){return{documents:[vp(i,e.path)]}}function Ip(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=vp(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=vp(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(A){if(0===A.length)return;const F=A.map(G=>function(Q){if("=="===Q.op){if(ip(Q.value))return{unaryFilter:{field:Yh(Q.field),op:"IS_NAN"}};if(gc(Q.value))return{unaryFilter:{field:Yh(Q.field),op:"IS_NULL"}}}else if("!="===Q.op){if(ip(Q.value))return{unaryFilter:{field:Yh(Q.field),op:"IS_NOT_NAN"}};if(gc(Q.value))return{unaryFilter:{field:Yh(Q.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(Q.field),op:zb(Q.op),value:Q.value}}}(G));return 1===F.length?F[0]:{compositeFilter:{op:"AND",filters:F}}}(e.filters);u&&(r.structuredQuery.where=u);const h=function(A){if(0!==A.length)return A.map(F=>{return{field:Yh((G=F).field),direction:Wb(G.dir)};var G})}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const g=(F=e.limit,i.gt||Vl(F)?F:{value:F});var F,I,A;return null!==g&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(r.structuredQuery.endAt={before:!(A=e.endAt).inclusive,values:A.position}),r}function wm(i){let e=UE(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){At(1===o);const G=r.from[0];G.allDescendants?u=G.collectionId:e=e.child(G.collectionId)}let h=[];r.where&&(h=wp(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(G=>{return new Hu(Qh((Q=G).field),function(ge){switch(ge){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction));var Q}));let I=null;r.limit&&(I=function(G){let Q;return Q="object"==typeof G?G.value:G,Vl(Q)?null:Q}(r.limit));let A=null;var G;r.startAt&&(A=new Na((G=r.startAt).values||[],!!G.before));let F=null;return r.endAt&&(F=function(G){return new Na(G.values||[],!G.before)}(r.endAt)),Pd(e,u,g,h,I,"F",A,F)}function wp(i){return i?void 0!==i.unaryFilter?[qb(i)]:void 0!==i.fieldFilter?[Kb(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>wp(e)).reduce((e,r)=>e.concat(r)):vt():[]}function Wb(i){return K_[i]}function zb(i){return _p[i]}function Yh(i){return{fieldPath:i.canonicalString()}}function Qh(i){return $r.fromServerFormat(i.fieldPath)}function Kb(i){return ri.create(Qh(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}function qb(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Qh(i.unaryFilter.field);return ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Qh(i.unaryFilter.field);return ri.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qh(i.unaryFilter.field);return ri.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qh(i.unaryFilter.field);return ri.create(u,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function Zb(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function GE(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ro(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=WE(e)),e=Yb(i.get(r),e);return WE(e)}function Yb(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function WE(i){return i+"\x01\x01"}function As(i){const e=i.length;if(At(e>=2),2===e)return At("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),An.emptyPath();const r=e-2,o=[];let u="";for(let h=0;h<e;){const g=i.indexOf("\x01",h);switch((g<0||g>r)&&vt(),i.charAt(g+1)){case"\x01":const I=i.substring(h,g);let A;0===u.length?A=I:(u+=I,A=u,u=""),o.push(A);break;case"\x10":u+=i.substring(h,g),u+="\0";break;case"\x11":u+=i.substring(h,g+1);break;default:vt()}h=g+2}return new An(o)}const bp=["userId","batchId"];function Dp(i,e){return[i,Ro(e)]}function bm(i,e,r){return[i,Ro(e),r]}const Dm={},Y_=["prefixPath","collectionGroup","readTime","documentId"],Cm=["prefixPath","collectionGroup","documentId"],zE=["collectionGroup","readTime","prefixPath","documentId"],nl=["canonicalId","targetId"],Q_=["targetId","path"],KE=["path","targetId"],Qb=["collectionId","parent"],Tm=["indexId","uid"],qE=["uid","sequenceNumber"],J_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZE=["indexId","uid","orderedDocumentKey"],YE=["userId","collectionPath","documentId"],Jh=["userId","collectionPath","largestBatchId"],$d=["userId","collectionGroup","largestBatchId"],Cp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hd=[...Cp,"documentOverlays"],Gd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zl=Gd,QE=[...Zl,"indexConfiguration","indexState","indexEntries"];class Tp extends Sd{constructor(e,r){super(),this.ie=e,this.currentSequenceNumber=r}}function is(i,e){const r=ut(i);return li.M(r.ie,e)}class Xh{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&FE(h,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Ud(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Ud(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=ym();return this.mutations.forEach(u=>{const h=e.get(u.key),g=h.overlayedDocument;let I=this.applyToLocalView(g,h.mutatedFields);I=r.has(u.key)?null:I;const A=jh(g,I);null!==A&&o.set(u.key,A),g.isValidDocument()||g.convertToNoDocument(Rt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),cn())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(r,o)=>dm(r,o))&&dc(this.baseMutations,e.baseMutations,(r,o)=>dm(r,o))}}class ef{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){At(e.mutations.length===o.length);let u=LE;const h=e.mutations;for(let g=0;g<h.length;g++)u=u.insert(h[g].key,o[g].version);return new ef(e,r,o,u)}}class Sp{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pu{constructor(e,r,o,u,h=Rt.min(),g=Rt.min(),I=Di.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=I}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class X_{constructor(e){this.re=e}}function JE(i,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:tf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:ql(u=i.re,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Bd(u,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:rl(e.version)};else{if(!e.isUnknownDocument())return vt();o.unknownDocument={path:r.path.toArray(),version:rl(e.version)}}var u,h;return o}function tf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function rl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yl(i){const e=new vr(i.seconds,i.nanoseconds);return Rt.fromTimestamp(e)}function il(i,e){const r=(e.baseMutations||[]).map(h=>Z_(i.re,h));for(let h=0;h<e.mutations.length-1;++h){const g=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(g.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>Z_(i.re,h)),u=vr.fromMillis(e.localWriteTimeMs);return new Xh(e.batchId,u,r,o)}function nf(i){const e=Yl(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Yl(i.lastLimboFreeSnapshotVersion):Rt.min();let o;var u;return void 0!==i.query.documents?(At(1===(u=i.query).documents.length),o=m(Gl(UE(u.documents[0])))):o=m(wm(i.query)),new pu(o,i.targetId,0,i.lastListenSequenceNumber,e,r,Di.fromBase64String(i.resumeToken))}function tv(i,e){const r=rl(e.snapshotVersion),o=rl(e.lastLimboFreeSnapshotVersion);let u;u=Md(e.target)?$E(i.re,e.target):Ip(i.re,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ti(e.target),readTime:r,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function oo(i){const e=wm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?d(e,e.limit,"L"):e}function Sm(i,e){return new Sp(e.largestBatchId,Z_(i.re,e.overlayMutation))}function nv(i,e){const r=e.path.lastSegment();return[i,Ro(e.path.popLast()),r]}function XE(i,e,r,o){return{indexId:i,uid:e.uid||"",sequenceNumber:r,readTime:rl(o.readTime),documentKey:Ro(o.documentKey.path),largestBatchId:o.largestBatchId}}class Jb{getBundleMetadata(e,r){return Am(e).get(r).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Yl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,r){return Am(e).put({bundleId:(o=r).id,createTime:rl(Tr(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return eI(e).get(r).next(o=>{if(o)return{name:(u=o).name,query:oo(u.bundledQuery),readTime:Yl(u.readTime)};var u})}saveNamedQuery(e,r){return eI(e).put({name:(o=r).name,readTime:rl(Tr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Am(i){return is(i,"bundles")}function eI(i){return is(i,"namedQueries")}class Ap{constructor(e,r){this.It=e,this.userId=r}static oe(e,r){return new Ap(e,r.uid||"")}getOverlay(e,r){return Ql(e).get(nv(this.userId,r)).next(o=>o?Sm(this.It,o):null)}getOverlays(e,r){const o=qu();return ve.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&o.set(u,h)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((h,g)=>{const I=new Sp(r,g);u.push(this.ue(e,I))}),ve.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(g=>u.add(Ro(g.getCollectionPath())));const h=[];return u.forEach(g=>{const I=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);h.push(Ql(e).Y("collectionPathOverlayIndex",I))}),ve.waitFor(h)}getOverlaysForCollection(e,r,o){const u=qu(),h=Ro(r),g=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Ql(e).W("collectionPathOverlayIndex",g).next(I=>{for(const A of I){const F=Sm(this.It,A);u.set(F.getKey(),F)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const h=qu();let g;const I=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ql(e).Z({index:"collectionGroupOverlayIndex",range:I},(A,F,G)=>{const Q=Sm(this.It,F);h.size()<u||Q.largestBatchId===g?(h.set(Q.getKey(),Q),g=Q.largestBatchId):G.done()}).next(()=>h)}ue(e,r){return Ql(e).put(function(o,u,h){const[g,I,A]=nv(u,h.mutation.key);return{userId:u,collectionPath:I,documentId:A,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:jd(o.re,h.mutation)}}(this.It,this.userId,r))}}function Ql(i){return is(i,"documentOverlays")}class sl{constructor(){}ce(e,r){this.ae(e,r),r.he()}ae(e,r){if("nullValue"in e)this.le(r,5);else if("booleanValue"in e)this.le(r,10),r.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(r,15),r.fe(Wr(e.integerValue));else if("doubleValue"in e){const o=Wr(e.doubleValue);isNaN(o)?this.le(r,13):(this.le(r,15),Rd(o)?r.fe(0):r.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(r,20),"string"==typeof o?r.de(o):(r.de(`${o.seconds||""}`),r.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,r),this.we(r);else if("bytesValue"in e)this.le(r,30),r.me(ou(e.bytesValue)),this.we(r);else if("referenceValue"in e)this.ge(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(r,45),r.fe(o.latitude||0),r.fe(o.longitude||0)}else"mapValue"in e?sp(e)?this.le(r,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,r),this.we(r)):"arrayValue"in e?(this.pe(e.arrayValue,r),this.we(r)):vt()}_e(e,r){this.le(r,25),this.Ie(e,r)}Ie(e,r){r.de(e)}ye(e,r){const o=e.fields||{};this.le(r,55);for(const u of Object.keys(o))this._e(u,r),this.ae(o[u],r)}pe(e,r){const o=e.values||[];this.le(r,50);for(const u of o)this.ae(u,r)}ge(e,r){this.le(r,37),at.fromName(e).path.forEach(o=>{this.le(r,60),this.Ie(o,r)})}le(e,r){e.fe(r)}we(e){e.fe(2)}}function tI(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function rv(i){const e=64-function(r){let o=0;for(let u=0;u<8;++u){const h=tI(255&r[u]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}sl.Te=new sl;class nI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ae(o.value),o=r.next();this.Re()}be(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Pe(o.value),o=r.next();this.ve()}Ve(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=r.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=r.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const r=this.Ce(e),o=rv(r);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Ne(e){const r=this.Ce(e),o=rv(r);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const r=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ae(e){const r=255&e;0===r?(this.Oe(0),this.Oe(255)):255===r?(this.Oe(255),this.Oe(0)):this.Oe(r)}Pe(e){const r=255&e;0===r?(this.Fe(0),this.Fe(255)):255===r?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class iv{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class rI{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Wd{constructor(){this.Be=new nI,this.Le=new iv(this.Be),this.Ue=new rI(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Jl{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Jl(this.indexId,this.documentKey,this.arrayValue,o)}}function Xl(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=xm(i.arrayValue,e.arrayValue),0!==r?r:(r=xm(i.directionalValue,e.directionalValue),0!==r?r:at.comparator(i.documentKey,e.documentKey)))}function xm(i,e){for(let r=0;r<i.length&&r<e.length;++r){const o=i[r]-e[r];if(0!==o)return o}return i.length-e.length}class sv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const r of e.filters){const o=r;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const r=Ta(e);if(void 0!==r&&!this.ze(r))return!1;const o=$u(e);let u=0,h=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[h++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(h>=this.Ge.length||!this.Je(this.Ge[h++],g))return!1}return!0}ze(e){for(const r of this.Qe)if(this.He(r,e))return!0;return!1}He(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}class iI{constructor(){this.Ye=new Ma}addToCollectionParentIndex(e,r){return this.Ye.add(r),ve.resolve()}getCollectionParents(e,r){return ve.resolve(this.Ye.getEntries(r))}addFieldIndex(e,r){return ve.resolve()}deleteFieldIndex(e,r){return ve.resolve()}getDocumentsMatchingTarget(e,r){return ve.resolve(null)}getIndexType(e,r){return ve.resolve(0)}getFieldIndexes(e,r){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,r){return ve.resolve(io.min())}getMinOffsetFromCollectionGroup(e,r){return ve.resolve(io.min())}updateCollectionGroup(e,r,o){return ve.resolve()}updateIndexEntries(e,r){return ve.resolve()}}class Ma{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new Jn(An.comparator),h=!u.has(o);return this.index[r]=u.add(o),h}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Jn(An.comparator)).toArray()}}const zd=new Uint8Array(0);class sI{constructor(e,r){this.user=e,this.databaseId=r,this.Xe=new Ma,this.Ze=new tl(o=>Ti(o),(o,u)=>Zc(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Xe.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.Xe.add(r)});const h={collectionId:o,parent:Ro(u)};return ov(e).put(h)}return ve.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[jc(r),""],!1,!0);return ov(e).W(u).next(h=>{for(const g of h){if(g.collectionId!==r)break;o.push(As(g.parent))}return o})}addFieldIndex(e,r){const o=rf(e),u={indexId:(g=r).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(I=>[I.fieldPath.canonicalString(),I.kind])};var g;delete u.indexId;const h=o.add(u);if(r.indexState){const g=sf(e);return h.next(I=>{g.put(XE(I,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return h.next()}deleteFieldIndex(e,r){const o=rf(e),u=sf(e),h=xp(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const o=xp(e);let u=!0;const h=new Map;return ve.forEach(this.tn(r),g=>this.en(e,g).next(I=>{u&&(u=!!I),h.set(g,I)})).next(()=>{if(u){let g=cn();const I=[];return ve.forEach(h,(A,F)=>{var G;Ze("IndexedDbIndexManager",`Using index ${G=A,`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map(fn=>`${fn.fieldPath}:${fn.kind}`).join(",")}`} to execute ${Ti(r)}`);const Q=function(fn,dn){const on=Ta(dn);if(void 0===on)return null;for(const pn of Yc(fn,on.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(F,A),ge=function(fn,dn){const on=new Map;for(const pn of $u(dn))for(const ss of Yc(fn,pn.fieldPath))switch(ss.op){case"==":case"in":on.set(pn.fieldPath.canonicalString(),ss.value);break;case"not-in":case"!=":return on.set(pn.fieldPath.canonicalString(),ss.value),Array.from(on.values())}return null}(F,A),xe=function(fn,dn){const on=[];let pn=!0;for(const ss of $u(dn)){const $f=0===ss.kind?Od(fn,ss.fieldPath,fn.startAt):cp(fn,ss.fieldPath,fn.startAt);on.push($f.value),pn&&(pn=$f.inclusive)}return new Na(on,pn)}(F,A),Me=function(fn,dn){const on=[];let pn=!0;for(const ss of $u(dn)){const $f=0===ss.kind?cp(fn,ss.fieldPath,fn.endAt):Od(fn,ss.fieldPath,fn.endAt);on.push($f.value),pn&&(pn=$f.inclusive)}return new Na(on,pn)}(F,A),st=this.nn(A,F,xe),ht=this.nn(A,F,Me),Cn=this.sn(A,F,ge),er=this.rn(A.indexId,Q,st,xe.inclusive,ht,Me.inclusive,Cn);return ve.forEach(er,fn=>o.J(fn,r.limit).next(dn=>{dn.forEach(on=>{const pn=at.fromSegments(on.documentKey);g.has(pn)||(g=g.add(pn),I.push(pn))})}))}).next(()=>I)}return ve.resolve(null)})}tn(e){let r=this.Ze.get(e);return r||(r=[e],this.Ze.set(e,r),r)}rn(e,r,o,u,h,g,I){const A=(null!=r?r.length:1)*Math.max(o.length,h.length),F=A/(null!=r?r.length:1),G=[];for(let Q=0;Q<A;++Q){const ge=r?this.on(r[Q/F]):zd,xe=this.un(e,ge,o[Q%F],u),Me=this.cn(e,ge,h[Q%F],g),st=I.map(ht=>this.un(e,ge,ht,!0));G.push(...this.createRange(xe,Me,st))}return G}un(e,r,o,u){const h=new Jl(e,at.empty(),r,o);return u?h:h.Ke()}cn(e,r,o,u){const h=new Jl(e,at.empty(),r,o);return u?h.Ke():h}en(e,r){const o=new sv(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{let g=null;for(const I of h)o.We(I)&&(!g||I.fields.length>g.fields.length)&&(g=I);return g})}getIndexType(e,r){let o=2;return ve.forEach(this.tn(r),u=>this.en(e,u).next(h=>{h?0!==o&&h.fields.length<function(g){let I=new Jn($r.comparator),A=!1;for(const F of g.filters){const G=F;G.field.isKeyField()||("array-contains"===G.op||"array-contains-any"===G.op?A=!0:I=I.add(G.field))}for(const F of g.orderBy)F.field.isKeyField()||(I=I.add(F.field));return I.size+(A?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,r){const o=new Wd;for(const u of $u(e)){const h=r.data.field(u.fieldPath);if(null==h)return null;const g=o.qe(u.kind);sl.Te.ce(h,g)}return o.$e()}on(e){const r=new Wd;return sl.Te.ce(e,r.qe(0)),r.$e()}hn(e,r){const o=new Wd;return sl.Te.ce(pc(this.databaseId,r),o.qe(function(u){const h=$u(u);return 0===h.length?0:h[h.length-1].kind}(e))),o.$e()}sn(e,r,o){if(null===o)return[];let u=[];u.push(new Wd);let h=0;for(const g of $u(e)){const I=o[h++];for(const A of u)if(this.ln(r,g.fieldPath)&&Ul(I))u=this.fn(u,g,I);else{const F=A.qe(g.kind);sl.Te.ce(I,F)}}return this.dn(u)}nn(e,r,o){return this.sn(e,r,o.position)}dn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].$e();return r}fn(e,r,o){const u=[...e],h=[];for(const g of o.arrayValue.values||[])for(const I of u){const A=new Wd;A.seed(I.$e()),sl.Te.ce(g,A.qe(r.kind)),h.push(A)}return h}ln(e,r){return!!e.filters.find(o=>o instanceof ri&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=rf(e),u=sf(e);return(r?o.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.W()).next(h=>{const g=[];return ve.forEach(h,I=>u.get([I.indexId,this.uid]).next(A=>{g.push(function(F,G){const Q=G?new Ml(G.sequenceNumber,new io(Yl(G.readTime),new at(As(G.documentKey)),G.largestBatchId)):Ml.empty(),ge=F.fields.map(([xe,Me])=>new Td($r.fromServerFormat(xe),Me));return new Ao(F.indexId,F.collectionGroup,ge,Q)}(I,A))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const h=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:Kt(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=rf(e),h=sf(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(I=>ve.forEach(I,A=>h.put(XE(A.indexId,this.user,g,o)))))}updateIndexEntries(e,r){const o=new Map;return ve.forEach(r,(u,h)=>{const g=o.get(u.collectionGroup);return(g?ve.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(I=>(o.set(u.collectionGroup,I),ve.forEach(I,A=>this.wn(e,u,A).next(F=>{const G=this.mn(h,A);return F.isEqual(G)?ve.resolve():this.gn(e,h,A,F,G)}))))})}yn(e,r,o,u){return xp(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,r.key),documentKey:r.key.path.toArray()})}pn(e,r,o,u){return xp(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const u=xp(e);let h=new Jn(Xl);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,r)])},(g,I)=>{h=h.add(new Jl(o.indexId,r,I.arrayValue,I.directionalValue))}).next(()=>h)}mn(e,r){let o=new Jn(Xl);const u=this.an(r,e);if(null==u)return o;const h=Ta(r);if(null!=h){const g=e.data.field(h.fieldPath);if(Ul(g))for(const I of g.arrayValue.values||[])o=o.add(new Jl(r.indexId,e.key,this.on(I),u))}else o=o.add(new Jl(r.indexId,e.key,zd,u));return o}gn(e,r,o,u,h){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(I,A,F,G,Q){const ge=I.getIterator(),xe=A.getIterator();let Me=su(ge),st=su(xe);for(;Me||st;){let ht=!1,Cn=!1;if(Me&&st){const er=F(Me,st);er<0?Cn=!0:er>0&&(ht=!0)}else null!=Me?Cn=!0:ht=!0;ht?(G(st),st=su(xe)):Cn?(Q(Me),Me=su(ge)):(Me=su(ge),st=su(xe))}}(u,h,Xl,I=>{g.push(this.yn(e,r,o,I))},I=>{g.push(this.pn(e,r,o,I))}),ve.waitFor(g)}_n(e){let r=1;return sf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,h)=>{h.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((g,I)=>Xl(g,I)).filter((g,I,A)=>!I||0!==Xl(g,A[I-1]));const u=[];u.push(e);for(const g of o){const I=Xl(g,e),A=Xl(g,r);if(0===I)u[0]=e.Ke();else if(I>0&&A<0)u.push(g),u.push(g.Ke());else if(A>0)break}u.push(r);const h=[];for(let g=0;g<u.length;g+=2)h.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,zd,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,zd,[]]));return h}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(av)}getMinOffset(e,r){return ve.mapArray(this.tn(r),o=>this.en(e,o).next(u=>u||vt())).next(av)}}function ov(i){return is(i,"collectionParents")}function xp(i){return is(i,"indexEntries")}function rf(i){return is(i,"indexConfiguration")}function sf(i){return is(i,"indexState")}function av(i){At(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Nh(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new io(e.readTime,e.documentKey,r)}const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $s{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new $s(e,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cv(i,e,r){const o=i.store("mutations"),u=i.store("documentMutations"),h=[],g=IDBKeyRange.only(r.batchId);let I=0;const A=o.Z({range:g},(G,Q,ge)=>(I++,ge.delete()));h.push(A.next(()=>{At(1===I)}));const F=[];for(const G of r.mutations){const Q=bm(e,G.key.path,r.batchId);h.push(u.delete(Q)),F.push(G.key)}return ve.waitFor(h).next(()=>F)}function Rp(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw vt();e=i.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);class ed{constructor(e,r,o,u){this.userId=e,this.It=r,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,r,o,u){At(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new ed(h,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ol(e).Z({index:"userMutationsIndex",range:o},(u,h,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const h=al(e),g=ol(e);return g.add({}).next(I=>{At("number"==typeof I);const A=new Xh(I,r,o,u),F=function(ge,xe,Me){const st=Me.baseMutations.map(Cn=>jd(ge.re,Cn)),ht=Me.mutations.map(Cn=>jd(ge.re,Cn));return{userId:xe,batchId:Me.batchId,localWriteTimeMs:Me.localWriteTime.toMillis(),baseMutations:st,mutations:ht}}(this.It,this.userId,A),G=[];let Q=new Jn((ge,xe)=>Kt(ge.canonicalString(),xe.canonicalString()));for(const ge of u){const xe=bm(this.userId,ge.key.path,I);Q=Q.add(ge.key.path.popLast()),G.push(g.put(F)),G.push(h.put(xe,Dm))}return Q.forEach(ge=>{G.push(this.indexManager.addToCollectionParentIndex(e,ge))}),e.addOnCommittedListener(()=>{this.In[I]=A.keys()}),ve.waitFor(G).next(()=>A)})}lookupMutationBatch(e,r){return ol(e).get(r).next(o=>o?(At(o.userId===this.userId),il(this.It,o)):null)}Tn(e,r){return this.In[r]?ve.resolve(this.In[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.In[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return ol(e).Z({index:"userMutationsIndex",range:u},(g,I,A)=>{I.userId===this.userId&&(At(I.batchId>=o),h=il(this.It,I)),A.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ol(e).Z({index:"userMutationsIndex",range:r,reverse:!0},(u,h,g)=>{o=h.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ol(e).W("userMutationsIndex",r).next(o=>o.map(u=>il(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Dp(this.userId,r.path),u=IDBKeyRange.lowerBound(o),h=[];return al(e).Z({range:u},(g,I,A)=>{const[F,G,Q]=g,ge=As(G);if(F===this.userId&&r.path.isEqual(ge))return ol(e).get(Q).next(xe=>{if(!xe)throw vt();At(xe.userId===this.userId),h.push(il(this.It,xe))});A.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Jn(Kt);const u=[];return r.forEach(h=>{const g=Dp(this.userId,h.path),I=IDBKeyRange.lowerBound(g),A=al(e).Z({range:I},(F,G,Q)=>{const[ge,xe,Me]=F,st=As(xe);ge===this.userId&&h.path.isEqual(st)?o=o.add(Me):Q.done()});u.push(A)}),ve.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,h=Dp(this.userId,o),g=IDBKeyRange.lowerBound(h);let I=new Jn(Kt);return al(e).Z({range:g},(A,F,G)=>{const[Q,ge,xe]=A,Me=As(ge);Q===this.userId&&o.isPrefixOf(Me)?Me.length===u&&(I=I.add(xe)):G.done()}).next(()=>this.En(e,I))}En(e,r){const o=[],u=[];return r.forEach(h=>{u.push(ol(e).get(h).next(g=>{if(null===g)throw vt();At(g.userId===this.userId),o.push(il(this.It,g))}))}),ve.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return cv(e.ie,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.An(r.batchId)}),ve.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ve.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return al(e).Z({range:o},(h,g,I)=>{if(h[0]===this.userId){const A=As(h[1]);u.push(A)}else I.done()}).next(()=>{At(0===u.length)})})}containsKey(e,r){return Np(e,this.userId,r)}Rn(e){return Mp(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Np(i,e,r){const o=Dp(e,r.path),u=o[1],h=IDBKeyRange.lowerBound(o);let g=!1;return al(i).Z({range:h,X:!0},(I,A,F)=>{const[G,Q,ge]=I;G===e&&Q===u&&(g=!0),F.done()}).next(()=>g)}function ol(i){return is(i,"mutations")}function al(i){return is(i,"documentMutations")}function Mp(i){return is(i,"mutationQueues")}class ul{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ul(0)}static vn(){return new ul(-1)}}class oI{constructor(e,r){this.referenceDelegate=e,this.It=r}allocateTargetId(e){return this.Vn(e).next(r=>{const o=new ul(r.highestTargetId);return r.highestTargetId=o.next(),this.Sn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(r=>Rt.fromTimestamp(new vr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Sn(e,u)))}addTargetData(e,r){return this.Dn(e,r).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(r,o),this.Sn(e,o))))}updateTargetData(e,r){return this.Dn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Kd(e).delete(r.targetId)).next(()=>this.Vn(e)).next(o=>(At(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,r,o){let u=0;const h=[];return Kd(e).Z((g,I)=>{const A=nf(I);A.sequenceNumber<=r&&null===o.get(A.targetId)&&(u++,h.push(this.removeTargetData(e,A)))}).next(()=>ve.waitFor(h)).next(()=>u)}forEachTarget(e,r){return Kd(e).Z((o,u)=>{const h=nf(u);r(h)})}Vn(e){return Op(e).get("targetGlobalKey").next(r=>(At(null!==r),r))}Sn(e,r){return Op(e).put("targetGlobalKey",r)}Dn(e,r){return Kd(e).put(tv(this.It,r))}Cn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Ti(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Kd(e).Z({range:u,index:"queryTargetsIndex"},(g,I,A)=>{const F=nf(I);Zc(r,F.target)&&(h=F,A.done())}).next(()=>h)}addMatchingKeys(e,r,o){const u=[],h=td(e);return r.forEach(g=>{const I=Ro(g.path);u.push(h.put({targetId:o,path:I})),u.push(this.referenceDelegate.addReference(e,o,g))}),ve.waitFor(u)}removeMatchingKeys(e,r,o){const u=td(e);return ve.forEach(r,h=>{const g=Ro(h.path);return ve.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,r){const o=td(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=td(e);let h=cn();return u.Z({range:o,X:!0},(g,I,A)=>{const F=As(g[1]),G=new at(F);h=h.add(G)}).next(()=>h)}containsKey(e,r){const o=Ro(r.path),u=IDBKeyRange.bound([o],[jc(o)],!1,!0);let h=0;return td(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,I],A,F)=>{0!==g&&(h++,F.done())}).next(()=>h>0)}se(e,r){return Kd(e).get(r).next(o=>o?nf(o):null)}}function Kd(i){return is(i,"targets")}function Op(i){return is(i,"targetGlobal")}function td(i){return is(i,"targetDocuments")}function lv([i,e],[r,o]){const u=Kt(i,r);return 0===u?Kt(e,o):u}class dv{constructor(e){this.xn=e,this.buffer=new Jn(lv),this.Nn=0}kn(){return++this.Nn}On(e){const r=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();lv(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hv{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var r=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){r.Mn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Sa(o)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield hc(o)}yield r.Fn(3e5)}))}}class fv{constructor(e,r){this.$n=e,this.params=r}calculateTargetCount(e,r){return this.$n.Bn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return ve.resolve(rs.at);const o=new dv(r);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.$n.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.$n.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(uv)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.Un(e,r))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,r){let o,u,h,g,I,A,F;const G=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Q=>(Q>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Q}`),u=this.params.maximumSequenceNumbersToCollect):u=Q,g=Date.now(),this.nthSequenceNumber(e,u))).next(Q=>(o=Q,I=Date.now(),this.removeTargets(e,o,r))).next(Q=>(h=Q,A=Date.now(),this.removeOrphanedDocuments(e,o))).next(Q=>(F=Date.now(),Th()<=ls.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-G}ms\n\tDetermined least recently used ${u} in `+(I-g)+`ms\n\tRemoved ${h} targets in `+(A-I)+`ms\n\tRemoved ${Q} documents in `+(F-A)+`ms\nTotal Duration: ${F-G}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:Q})))}}class pv{constructor(e,r){this.db=e,this.garbageCollector=new fv(this,r)}Bn(e){const r=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}qn(e){let r=0;return this.Ln(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Ln(e,r){return this.Kn(e,(o,u)=>r(u))}addReference(e,r,o){return of(e,o)}removeReference(e,r,o){return of(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return of(e,r)}Gn(e,r){return function(o,u){let h=!1;return Mp(o).tt(g=>Np(o,g,u).next(I=>(I&&(h=!0),ve.resolve(!I)))).next(()=>h)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Kn(e,(g,I)=>{if(I<=r){const A=this.Gn(e,g).next(F=>{if(!F)return h++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Rt.min()),td(e).delete([0,Ro(g.path)])))});u.push(A)}}).next(()=>ve.waitFor(u)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return of(e,r)}Kn(e,r){const o=td(e);let u,h=rs.at;return o.Z({index:"documentTargetsIndex"},([g,I],{path:A,sequenceNumber:F})=>{0===g?(h!==rs.at&&r(new at(As(u)),h),h=F,u=A):h=rs.at}).next(()=>{h!==rs.at&&r(new at(As(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function of(i,e){return td(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ro(e.path),sequenceNumber:o}));var o}class Zu{constructor(){this.changes=new tl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?ve.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Oa(e).put(o)}removeEntry(e,r,o){return Oa(e).delete(function(u,h){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],tf(h),g[g.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Qn(e,o)))}getEntry(e,r){let o=ur.newInvalidDocument(r);return Oa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qd(r))},(u,h)=>{o=this.jn(r,h)}).next(()=>o)}Wn(e,r){let o={size:0,document:ur.newInvalidDocument(r)};return Oa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qd(r))},(u,h)=>{o={document:this.jn(r,h),size:Rp(h)}}).next(()=>o)}getEntries(e,r){let o=js();return this.zn(e,r,(u,h)=>{const g=this.jn(u,h);o=o.insert(u,g)}).next(()=>o)}Hn(e,r){let o=js(),u=new Hr(at.comparator);return this.zn(e,r,(h,g)=>{const I=this.jn(h,g);o=o.insert(h,I),u=u.insert(h,Rp(g))}).next(()=>({documents:o,Jn:u}))}zn(e,r,o){if(r.isEmpty())return ve.resolve();let u=new Jn(Yd);r.forEach(A=>u=u.add(A));const h=IDBKeyRange.bound(qd(u.first()),qd(u.last())),g=u.getIterator();let I=g.getNext();return Oa(e).Z({index:"documentKeyIndex",range:h},(A,F,G)=>{const Q=at.fromSegments([...F.prefixPath,F.collectionGroup,F.documentId]);for(;I&&Yd(I,Q)<0;)o(I,null),I=g.getNext();I&&I.isEqual(Q)&&(o(I,F),I=g.hasNext()?g.getNext():null),I?G.j(qd(I)):G.done()}).next(()=>{for(;I;)o(I,null),I=g.hasNext()?g.getNext():null})}getAllFromCollection(e,r,o){const u=[r.popLast().toArray(),r.lastSegment(),tf(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oa(e).W(IDBKeyRange.bound(u,h,!0)).next(g=>{let I=js();for(const A of g){const F=this.jn(at.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);I=I.insert(F.key,F)}return I})}getAllFromCollectionGroup(e,r,o,u){let h=js();const g=Zd(r,o),I=Zd(r,io.max());return Oa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,I,!0)},(A,F,G)=>{const Q=this.jn(at.fromSegments(F.prefixPath.concat(F.collectionGroup,F.documentId)),F);h=h.insert(Q.key,Q),h.size===u&&G.done()}).next(()=>h)}newChangeBuffer(e){return new aI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return uI(e).get("remoteDocumentGlobalKey").next(r=>(At(!!r),r))}Qn(e,r){return uI(e).put("remoteDocumentGlobalKey",r)}jn(e,r){if(r){const o=function(i,e){let r;if(e.document)r=Ep(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=at.fromSegments(e.noDocument.path),u=Yl(e.noDocument.readTime);r=ur.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const o=at.fromSegments(e.unknownDocument.path),u=Yl(e.unknownDocument.version);r=ur.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(o){const u=new vr(o[0],o[1]);return Rt.fromTimestamp(u)}(e.readTime)),r}(this.It,r);if(!o.isNoDocument()||!o.version.isEqual(Rt.min()))return o}return ur.newInvalidDocument(e)}}function gv(i){return new Pp(i)}class aI extends Zu{constructor(e,r){super(),this.Yn=e,this.trackRemovals=r,this.Xn=new tl(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new Jn((h,g)=>Kt(h.canonicalString(),g.canonicalString()));return this.changes.forEach((h,g)=>{const I=this.Xn.get(h);if(r.push(this.Yn.removeEntry(e,h,I.readTime)),g.isValidDocument()){const A=JE(this.Yn.It,g);u=u.add(h.path.popLast()),o+=Rp(A)-I.size,r.push(this.Yn.addEntry(e,h,A))}else if(o-=I.size,this.trackRemovals){const A=JE(this.Yn.It,g.convertToNoDocument(Rt.min()));r.push(this.Yn.addEntry(e,h,A))}}),u.forEach(h=>{r.push(this.Yn.indexManager.addToCollectionParentIndex(e,h))}),r.push(this.Yn.updateMetadata(e,o)),ve.waitFor(r)}getFromCache(e,r){return this.Yn.Wn(e,r).next(o=>(this.Xn.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.Yn.Hn(e,r).next(({documents:o,Jn:u})=>(u.forEach((h,g)=>{this.Xn.set(h,{size:g,readTime:o.get(h).readTime})}),o))}}function uI(i){return is(i,"remoteDocumentGlobal")}function Oa(i){return is(i,"remoteDocumentsV14")}function qd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zd(i,e){const r=e.documentKey.path.toArray();return[i,tf(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Yd(i,e){const r=i.path.toArray(),o=e.path.toArray();let u=0;for(let h=0;h<r.length-2&&h<o.length-2;++h)if(u=Kt(r[h],o[h]),u)return u;return u=Kt(r.length,o.length),u||(u=Kt(r[r.length-2],o[o.length-2]),u||Kt(r[r.length-1],o[o.length-1]))}class cI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class kp{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.getBaseDocument(e,r,o))).next(u=>(null!==o&&Ud(o.mutation,u,Ls.empty(),vr.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,cn()).next(()=>o))}getLocalViewOfDocuments(e,r,o=cn()){const u=qu();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(h=>{let g=gp();return h.forEach((I,A)=>{g=g.insert(I,A.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const o=qu();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,cn()))}populateOverlays(e,r,o){const u=[];return o.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((g,I)=>{r.set(g,I)})})}computeViews(e,r,o,u){let h=js();const g=Gh(),I=Gh();return r.forEach((A,F)=>{const G=o.get(F.key);u.has(F.key)&&(void 0===G||G.mutation instanceof Ku)?h=h.insert(F.key,F):void 0!==G&&(g.set(F.key,G.mutation.getFieldMask()),Ud(G.mutation,F,G.mutation.getFieldMask(),vr.now()))}),this.recalculateAndSaveOverlays(e,h).next(A=>(A.forEach((F,G)=>g.set(F,G)),r.forEach((F,G)=>{var Q;return I.set(F,new cI(G,null!==(Q=g.get(F))&&void 0!==Q?Q:null))}),I))}recalculateAndSaveOverlays(e,r){const o=Gh();let u=new Hr((g,I)=>g-I),h=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const I of g)I.keys().forEach(A=>{const F=r.get(A);if(null===F)return;let G=o.get(A)||Ls.empty();G=I.applyToLocalView(F,G),o.set(A,G);const Q=(u.get(I.batchId)||cn()).add(A);u=u.insert(I.batchId,Q)})}).next(()=>{const g=[],I=u.getReverseIterator();for(;I.hasNext();){const A=I.getNext(),F=A.key,G=A.value,Q=ym();G.forEach(ge=>{if(!h.has(ge)){const xe=jh(r.get(ge),o.get(ge));null!==xe&&Q.set(ge,xe),h=h.add(ge)}}),g.push(this.documentOverlayCache.saveOverlays(e,F,Q))}return ve.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o){return at.isDocumentKey((u=r).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Vh(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o):this.getDocumentsMatchingCollectionQuery(e,r,o);var u}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(h=>{const g=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-h.size):ve.resolve(qu());let I=-1,A=h;return g.next(F=>ve.forEach(F,(G,Q)=>(I<Q.largestBatchId&&(I=Q.largestBatchId),h.get(G)?ve.resolve():this.getBaseDocument(e,G,Q).next(ge=>{A=A.insert(G,ge)}))).next(()=>this.populateOverlays(e,F,h)).next(()=>this.computeViews(e,A,F,cn())).next(G=>({batchId:I,changes:mm(G)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new at(r)).next(o=>{let u=gp();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o){const u=r.collectionGroup;let h=gp();return this.indexManager.getCollectionParents(e,u).next(g=>ve.forEach(g,I=>{const A=(F=r,G=I.child(u),new lu(G,null,F.explicitOrderBy.slice(),F.filters.slice(),F.limit,F.limitType,F.startAt,F.endAt));var F,G;return this.getDocumentsMatchingCollectionQuery(e,A,o).next(F=>{F.forEach((G,Q)=>{h=h.insert(G,Q)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,r,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,r.path,o).next(h=>(u=h,this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId))).next(h=>{h.forEach((I,A)=>{const F=A.getKey();null===u.get(F)&&(u=u.insert(F,ur.newInvalidDocument(F)))});let g=gp();return u.forEach((I,A)=>{const F=h.get(I);void 0!==F&&Ud(F.mutation,A,Ls.empty(),vr.now()),L(r,A)&&(g=g.insert(I,A))}),g})}getBaseDocument(e,r,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,r):ve.resolve(ur.newInvalidDocument(r))}}class mv{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return ve.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var o;return this.Zn.set(r.id,{id:(o=r).id,version:o.version,createTime:Tr(o.createTime)}),ve.resolve()}getNamedQuery(e,r){return ve.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,{name:(o=r).name,query:oo(o.bundledQuery),readTime:Tr(o.readTime)}),ve.resolve();var o}}class lI{constructor(){this.overlays=new Hr(at.comparator),this.es=new Map}getOverlay(e,r){return ve.resolve(this.overlays.get(r))}getOverlays(e,r){const o=qu();return ve.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&o.set(u,h)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,h)=>{this.ue(e,r,h)}),ve.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.es.delete(o)),ve.resolve()}getOverlaysForCollection(e,r,o){const u=qu(),h=r.length+1,g=new at(r.child("")),I=this.overlays.getIteratorFrom(g);for(;I.hasNext();){const A=I.getNext().value,F=A.getKey();if(!r.isPrefixOf(F.path))break;F.path.length===h&&A.largestBatchId>o&&u.set(A.getKey(),A)}return ve.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let h=new Hr((F,G)=>F-G);const g=this.overlays.getIterator();for(;g.hasNext();){const F=g.getNext().value;if(F.getKey().getCollectionGroup()===r&&F.largestBatchId>o){let G=h.get(F.largestBatchId);null===G&&(G=qu(),h=h.insert(F.largestBatchId,G)),G.set(F.getKey(),F)}}const I=qu(),A=h.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((F,G)=>I.set(F,G)),!(I.size()>=u)););return ve.resolve(I)}ue(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Sp(r,o));let h=this.es.get(r);void 0===h&&(h=cn(),this.es.set(r,h)),this.es.set(r,h.add(o.key))}}class Fp{constructor(){this.ns=new Jn(ms.ss),this.rs=new Jn(ms.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const o=new ms(e,r);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.cs(new ms(e,r))}hs(e,r){e.forEach(o=>this.removeReference(o,r))}ls(e){const r=new at(new An([])),o=new ms(r,e),u=new ms(r,e+1),h=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),h.push(g.key)}),h}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new at(new An([])),o=new ms(r,e),u=new ms(r,e+1);let h=cn();return this.rs.forEachInRange([o,u],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new ms(e,0),o=this.ns.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ms{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return at.comparator(e.key,r.key)||Kt(e._s,r._s)}static os(e,r){return Kt(e._s,r._s)||at.comparator(e.key,r.key)}}class Rm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new Jn(ms.ss)}checkEmpty(e){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const h=this.ws;this.ws++;const g=new Xh(h,r,o,u);this.mutationQueue.push(g);for(const I of u)this.gs=this.gs.add(new ms(I.key,h)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return ve.resolve(g)}lookupMutationBatch(e,r){return ve.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.ps(r+1),h=u<0?0:u;return ve.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ms(r,0),u=new ms(r,Number.POSITIVE_INFINITY),h=[];return this.gs.forEachInRange([o,u],g=>{const I=this.ys(g._s);h.push(I)}),ve.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Jn(Kt);return r.forEach(u=>{const h=new ms(u,0),g=new ms(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([h,g],I=>{o=o.add(I._s)})}),ve.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let h=o;at.isDocumentKey(h)||(h=h.child(""));const g=new ms(new at(h),0);let I=new Jn(Kt);return this.gs.forEachWhile(A=>{const F=A.key.path;return!!o.isPrefixOf(F)&&(F.length===u&&(I=I.add(A._s)),!0)},g),ve.resolve(this.Is(I))}Is(e){const r=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){At(0===this.Ts(r.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ve.forEach(r.mutations,u=>{const h=new ms(u.key,r.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,r){const o=new ms(r,0),u=this.gs.firstAfterOrEqual(o);return ve.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return ve.resolve()}Ts(e,r){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class dI{constructor(e){this.Es=e,this.docs=new Hr(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),h=u?u.size:0,g=this.Es(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return ve.resolve(o?o.document.mutableCopy():ur.newInvalidDocument(r))}getEntries(e,r){let o=js();return r.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():ur.newInvalidDocument(u))}),ve.resolve(o)}getAllFromCollection(e,r,o){let u=js();const h=new at(r.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:I,value:{document:A}}=g.getNext();if(!r.isPrefixOf(I.path))break;I.path.length>r.length+1||Nh(Rh(A),o)<=0||(u=u.insert(A.key,A.mutableCopy()))}return ve.resolve(u)}getAllFromCollectionGroup(e,r,o,u){vt()}As(e,r){return ve.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new hI(this)}getSize(e){return ve.resolve(this.size)}}class hI extends Zu{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),ve.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}class yv{constructor(e){this.persistence=e,this.Rs=new tl(r=>Ti(r),Zc),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Fp,this.targetCount=0,this.vs=ul.Pn()}forEachTarget(e,r){return this.Rs.forEach((o,u)=>r(u)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.bs&&(this.bs=r),ve.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new ul(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,ve.resolve()}updateTargetData(e,r){return this.Dn(r),ve.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,r,o){let u=0;const h=[];return this.Rs.forEach((g,I)=>{I.sequenceNumber<=r&&null===o.get(I.targetId)&&(this.Rs.delete(g),h.push(this.removeMatchingKeysForTargetId(e,I.targetId)),u++)}),ve.waitFor(h).next(()=>u)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,r){const o=this.Rs.get(r)||null;return ve.resolve(o)}addMatchingKeys(e,r,o){return this.Ps.us(r,o),ve.resolve()}removeMatchingKeys(e,r,o){this.Ps.hs(r,o);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(g=>{h.push(u.markPotentiallyOrphaned(e,g))}),ve.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),ve.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Ps.ds(r);return ve.resolve(o)}containsKey(e,r){return ve.resolve(this.Ps.containsKey(r))}}class nd{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new rs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new yv(this),this.indexManager=new iI,this.remoteDocumentCache=new dI(o=>this.referenceDelegate.xs(o)),this.It=new X_(r),this.Ns=new mv(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new lI,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Vs[e.toKey()];return o||(o=new Rm(r,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,o){Ze("MemoryPersistence","Starting transaction:",e);const u=new _v(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(h=>this.referenceDelegate.Os(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ms(e,r){return ve.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,r)))}}class _v extends Sd{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Fs=new Fp,this.$s=null}static Bs(e){return new Lp(e)}get Ls(){if(this.$s)return this.$s;throw vt()}addReference(e,r,o){return this.Fs.addReference(o,r),this.Ls.delete(o.toString()),ve.resolve()}removeReference(e,r,o){return this.Fs.removeReference(o,r),this.Ls.add(o.toString()),ve.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),ve.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(h=>this.Ls.add(h.toString()))}).next(()=>o.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ls,o=>{const u=at.fromPath(o);return this.Us(e,u).next(h=>{h||r.removeEntry(u,Rt.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.Us(e,r).next(o=>{o?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}Us(e,r){return ve.or([()=>ve.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}class fI{constructor(e){this.It=e}$(e,r,o,u){const h=new $c("createOrUpgrade",r);var I;o<1&&u>=1&&(e.createObjectStore("owner"),(I=e).createObjectStore("mutationQueues",{keyPath:"userId"}),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bp,{unique:!0}),I.createObjectStore("documentMutations"),rd(e),function(I){I.createObjectStore("remoteDocuments")}(e));let g=ve.resolve();return o<3&&u>=3&&(0!==o&&(function(I){I.deleteObjectStore("targetDocuments"),I.deleteObjectStore("targets"),I.deleteObjectStore("targetGlobal")}(e),rd(e)),g=g.next(()=>function(I){const A=I.store("targetGlobal"),F={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return A.put("targetGlobalKey",F)}(h))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(I,A){return A.store("mutations").W().next(F=>{I.deleteObjectStore("mutations"),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bp,{unique:!0});const G=A.store("mutations"),Q=F.map(ge=>G.put(ge));return ve.waitFor(Q)})}(e,h))),g=g.next(()=>{!function(I){I.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(h))),o<6&&u>=6&&(g=g.next(()=>(function(I){I.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(h)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(h))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,h))),o<9&&u>=9&&(g=g.next(()=>{!function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(h))),o<11&&u>=11&&(g=g.next(()=>{(function(I){I.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(I){I.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(I){const A=I.createObjectStore("documentOverlays",{keyPath:YE});A.createIndex("collectionPathOverlayIndex",Jh,{unique:!1}),A.createIndex("collectionGroupOverlayIndex",$d,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(I){const A=I.createObjectStore("remoteDocumentsV14",{keyPath:Y_});A.createIndex("documentKeyIndex",Cm),A.createIndex("collectionGroupIndex",zE)}(e)).next(()=>this.Ws(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,h))),o<15&&u>=15&&(g=g.next(()=>function(I){I.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),I.createObjectStore("indexState",{keyPath:Tm}).createIndex("sequenceNumberIndex",qE,{unique:!1}),I.createObjectStore("indexEntries",{keyPath:J_}).createIndex("documentKeyIndex",ZE,{unique:!1})}(e))),g}Ks(e){let r=0;return e.store("remoteDocuments").Z((o,u)=>{r+=Rp(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.W().next(u=>ve.forEach(u,h=>{const g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(I=>ve.forEach(I,A=>{At(A.userId===h.userId);const F=il(this.It,A);return cv(e,h.userId,F).next(()=>{})}))}))}Gs(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return o.Z((g,I)=>{const A=new An(g),F=[0,Ro(A)];h.push(r.get(F).next(G=>G?ve.resolve():r.put({targetId:0,path:Ro(A),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ve.waitFor(h))})}Qs(e,r){e.createObjectStore("collectionParents",{keyPath:Qb});const o=r.store("collectionParents"),u=new Ma,h=g=>{if(u.add(g)){const I=g.lastSegment(),A=g.popLast();return o.put({collectionId:I,parent:Ro(A)})}};return r.store("remoteDocuments").Z({X:!0},(g,I)=>{const A=new An(g);return h(A.popLast())}).next(()=>r.store("documentMutations").Z({X:!0},([g,I,A],F)=>{const G=As(I);return h(G.popLast())}))}js(e){const r=e.store("targets");return r.Z((o,u)=>{const h=nf(u),g=tv(this.It,h);return r.put(g)})}Ws(e,r){const o=r.store("remoteDocuments"),u=[];return o.Z((h,g)=>{const I=r.store("remoteDocumentsV14"),A=(F=g,F.document?new at(An.fromString(F.document.name).popFirst(5)):F.noDocument?at.fromSegments(F.noDocument.path):F.unknownDocument?at.fromSegments(F.unknownDocument.path):vt()).path.toArray();var F;const G={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(I.put(G))}).next(()=>ve.waitFor(u))}zs(e,r){const o=r.store("mutations"),u=gv(this.It),h=new nd(Lp.Bs,this.It.re);return o.W().next(g=>{const I=new Map;return g.forEach(A=>{var F;let G=null!==(F=I.get(A.userId))&&void 0!==F?F:cn();il(this.It,A).keys().forEach(Q=>G=G.add(Q)),I.set(A.userId,G)}),ve.forEach(I,(A,F)=>{const G=new fr(F),Q=Ap.oe(this.It,G),ge=h.getIndexManager(G),xe=ed.oe(G,this.It,ge,h.referenceDelegate);return new kp(u,xe,Q,ge).recalculateAndSaveOverlaysForDocumentKeys(new Tp(r,rs.at),A).next()})})}}function rd(i){i.createObjectStore("targetDocuments",{keyPath:Q_}).createIndex("documentTargetsIndex",KE,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nl,{unique:!0}),i.createObjectStore("targetGlobal")}const Nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mm{constructor(e,r,o,u,h,g,I,A,F,G,Q=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Hs=h,this.window=g,this.document=I,this.Js=F,this.Ys=G,this.Xs=Q,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ge=>Promise.resolve(),!Mm.C())throw new $e(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pv(this,u),this.ii=r+"main",this.It=new X_(A),this.ri=new li(this.ii,this.Xs,new fI(this.It)),this.Cs=new oI(this.referenceDelegate,this.It),this.remoteDocumentCache=gv(this.It),this.Ns=new Jb,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===G&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(De.FAILED_PRECONDITION,Nm);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new rs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var r=this;return this.si=function(){var o=(0,Ae.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var r=(0,Ae.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){r.started&&(yield r.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(r=>this.isPrimary&&!r?this._i(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Sa(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return af(e).get("owner").next(r=>ve.resolve(this.mi(r)))}gi(e){return Vp(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=is(o,"clientMetadata");return u.W().next(h=>{const g=e.Ii(h,18e5),I=h.filter(A=>-1===g.indexOf(A));return ve.forEach(I,A=>u.delete(A.clientId)).next(()=>I)})}).catch(()=>[]);if(e.oi)for(const o of r)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ve.resolve(!0):af(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)){if(this.mi(r)&&this.networkEnabled)return!0;if(!this.mi(r)){if(!r.allowTabSynchronization)throw new $e(De.FAILED_PRECONDITION,Nm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vp(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,I=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&I)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Ze("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Tp(r,rs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,r){return e.filter(o=>this.pi(o.updateTimeMs,r)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Vp(e).W().next(r=>this.Ii(r,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,r){return ed.oe(e,this.It,r,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sI(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ap.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,r,o){Ze("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",h=15===(g=this.Xs)?QE:14===g?Zl:13===g?Gd:12===g?Hd:11===g?Cp:void vt();var g;let I;return this.ri.runTransaction(e,u,h,A=>(I=new Tp(A,this.Ss?this.Ss.next():rs.at),"readwrite-primary"===r?this.fi(I).next(F=>!!F||this.di(I)).next(F=>{if(!F)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $e(De.FAILED_PRECONDITION,ep);return o(I)}).next(F=>this.wi(I).next(()=>F)):this.Vi(I).next(()=>o(I)))).then(A=>(I.raiseOnCommittedEvent(),A))}Vi(e){return af(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)&&!this.mi(r)&&!(this.Ys||this.allowTabSynchronization&&r.allowTabSynchronization))throw new $e(De.FAILED_PRECONDITION,Nm)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return af(e).put("owner",r)}static C(){return li.C()}_i(e){const r=af(e);return r.get("owner").next(o=>this.mi(o)?(Ze("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ve.resolve())}pi(e,r){const o=Date.now();return!(e<o-r||e>o&&(Cr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,yn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var r;try{const o=null!==(null===(r=this.oi)||void 0===r?void 0:r.getItem(this.Ti(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Cr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function af(i){return is(i,"owner")}function Vp(i){return is(i,"clientMetadata")}function vv(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Om{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.Si=o,this.Di=u}static Ci(e,r){let o=cn(),u=cn();for(const h of r.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Om(e,r.fromCache,o,u)}}class Pm{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,o,u){return this.ki(e,r).next(h=>h||this.Oi(e,r,u,o)).next(h=>h||this.Mi(e,r))}ki(e,r){if(so(r))return ve.resolve(null);let o=m(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=d(r,null,"F"),o=m(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(h=>{const g=cn(...h);return this.Ni.getDocuments(e,g).next(I=>this.indexManager.getMinOffset(e,o).next(A=>{const F=this.Fi(r,I);return this.$i(r,F,g,A.readTime)?this.ki(e,d(r,null,"F")):this.Bi(e,F,r,A)}))})))}Oi(e,r,o,u){return so(r)||u.isEqual(Rt.min())?this.Mi(e,r):this.Ni.getDocuments(e,o).next(h=>{const g=this.Fi(r,h);return this.$i(r,g,o,u)?this.Mi(e,r):(Th()<=ls.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),N(r)),this.Bi(e,g,r,xh(u,-1)))})}Fi(e,r){let o=new Jn(pe(e));return r.forEach((u,h)=>{L(e,h)&&(o=o.add(h))}),o}$i(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Mi(e,r){return Th()<=ls.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",N(r)),this.Ni.getDocumentsMatchingQuery(e,r,io.min())}Bi(e,r,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class Kr{constructor(e,r,o,u){this.persistence=e,this.Li=r,this.It=u,this.Ui=new Hr(Kt),this.qi=new tl(h=>Ti(h),Zc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ui))}}function Up(i,e,r,o){return new Kr(i,e,r,o)}function pI(i,e){return gu.apply(this,arguments)}function gu(){return gu=(0,Ae.Z)(function*(i,e){const r=ut(i);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(h=>(u=h,r.Qi(e),r.mutationQueue.getAllMutationBatches(o))).next(h=>{const g=[],I=[];let A=cn();for(const F of u){g.push(F.batchId);for(const G of F.mutations)A=A.add(G.key)}for(const F of h){I.push(F.batchId);for(const G of F.mutations)A=A.add(G.key)}return r.localDocuments.getDocuments(o,A).next(F=>({ji:F,removedBatchIds:g,addedBatchIds:I}))})})}),gu.apply(this,arguments)}function km(i,e){const r=ut(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=r.Gi.newChangeBuffer({trackRemovals:!0});return function(g,I,A,F){const G=A.batch,Q=G.keys();let ge=ve.resolve();return Q.forEach(xe=>{ge=ge.next(()=>F.getEntry(I,xe)).next(Me=>{const st=A.docVersions.get(xe);At(null!==st),Me.version.compareTo(st)<0&&(G.applyToRemoteDocument(Me,A),Me.isValidDocument()&&(Me.setReadTime(A.commitVersion),F.addEntry(Me)))})}),ge.next(()=>g.mutationQueue.removeMutationBatch(I,G))}(r,o,e,h).next(()=>h.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let I=cn();for(let A=0;A<g.mutationResults.length;++A)g.mutationResults[A].transformResults.length>0&&(I=I.add(g.batch.mutations[A].key));return I}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}function Bp(i){const e=ut(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function Xb(i,e){const r=ut(i),o=e.snapshotVersion;let u=r.Ui;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.Gi.newChangeBuffer({trackRemovals:!0});u=r.Ui;const I=[];e.targetChanges.forEach((G,Q)=>{const ge=u.get(Q);if(!ge)return;I.push(r.Cs.removeMatchingKeys(h,G.removedDocuments,Q).next(()=>r.Cs.addMatchingKeys(h,G.addedDocuments,Q)));let xe=ge.withSequenceNumber(h.currentSequenceNumber);var Me,st,ht;e.targetMismatches.has(Q)?xe=xe.withResumeToken(Di.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):G.resumeToken.approximateByteSize()>0&&(xe=xe.withResumeToken(G.resumeToken,o)),u=u.insert(Q,xe),st=xe,ht=G,(0===(Me=ge).resumeToken.approximateByteSize()||st.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=3e8||ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0)&&I.push(r.Cs.updateTargetData(h,xe))});let A=js(),F=cn();if(e.documentUpdates.forEach(G=>{e.resolvedLimboDocuments.has(G)&&I.push(r.persistence.referenceDelegate.updateLimboDocument(h,G))}),I.push(Ev(h,g,e.documentUpdates).next(G=>{A=G.Wi,F=G.zi})),!o.isEqual(Rt.min())){const G=r.Cs.getLastRemoteSnapshotVersion(h).next(Q=>r.Cs.setTargetsMetadata(h,h.currentSequenceNumber,o));I.push(G)}return ve.waitFor(I).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,A,F)).next(()=>A)}).then(h=>(r.Ui=u,h))}function Ev(i,e,r){let o=cn(),u=cn();return r.forEach(h=>o=o.add(h)),e.getEntries(i,o).next(h=>{let g=js();return r.forEach((I,A)=>{const F=h.get(I);A.isFoundDocument()!==F.isFoundDocument()&&(u=u.add(I)),A.isNoDocument()&&A.version.isEqual(Rt.min())?(e.removeEntry(I,A.readTime),g=g.insert(I,A)):!F.isValidDocument()||A.version.compareTo(F.version)>0||0===A.version.compareTo(F.version)&&F.hasPendingWrites?(e.addEntry(A),g=g.insert(I,A)):Ze("LocalStore","Ignoring outdated watch update for ",I,". Current version:",F.version," Watch version:",A.version)}),{Wi:g,zi:u}})}function gI(i,e){const r=ut(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function id(i,e){const r=ut(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Cs.getTargetData(o,e).next(h=>h?(u=h,ve.resolve(u)):r.Cs.allocateTargetId(o).next(g=>(u=new pu(e,g,0,o.currentSequenceNumber),r.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Ui=r.Ui.insert(o.targetId,o),r.qi.set(e,o.targetId)),o})}function sd(i,e,r){return jp.apply(this,arguments)}function jp(){return jp=(0,Ae.Z)(function*(i,e,r){const o=ut(i),u=o.Ui.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",h,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Sa(g))throw g;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),jp.apply(this,arguments)}function uf(i,e,r){const o=ut(i);let u=Rt.min(),h=cn();return o.persistence.runTransaction("Execute query","readonly",g=>function(I,A,F){const G=ut(I),Q=G.qi.get(F);return void 0!==Q?ve.resolve(G.Ui.get(Q)):G.Cs.getTargetData(A,F)}(o,g,m(e)).next(I=>{if(I)return u=I.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,I.targetId).next(A=>{h=A})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,r?u:Rt.min(),r?h:cn())).next(I=>(Qd(o,X(e),I),{documents:I,Hi:h})))}function Iv(i,e){const r=ut(i),o=ut(r.Cs),u=r.Ui.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",h=>o.se(h,e).next(g=>g?g.target:null))}function wv(i,e){const r=ut(i),o=r.Ki.get(e)||Rt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.Gi.getAllFromCollectionGroup(u,e,xh(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Qd(r,e,u),u))}function Qd(i,e,r){let o=i.Ki.get(e)||Rt.min();r.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.Ki.set(e,o)}function $p(){return $p=(0,Ae.Z)(function*(i,e,r,o){const u=ut(i);let h=cn(),g=js();for(const F of r){const G=e.Ji(F.metadata.name);F.document&&(h=h.add(G));const Q=e.Yi(F);Q.setReadTime(e.Xi(F.metadata.readTime)),g=g.insert(G,Q)}const I=u.Gi.newChangeBuffer({trackRemovals:!0}),A=yield id(u,(F=o,m(Gl(An.fromString(`__bundle__/docs/${F}`)))));var F;return u.persistence.runTransaction("Apply bundle documents","readwrite",F=>Ev(F,I,g).next(G=>(I.apply(F),G)).next(G=>u.Cs.removeMatchingKeysForTargetId(F,A.targetId).next(()=>u.Cs.addMatchingKeys(F,h,A.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(F,G.Wi,G.zi)).next(()=>G.Wi)))}),$p.apply(this,arguments)}function bv(i,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,Ae.Z)(function*(i,e,r=cn()){const o=yield id(i,m(oo(e.bundledQuery))),u=ut(i);return u.persistence.runTransaction("Save named query","readwrite",h=>{const g=Tr(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(h,e);const I=o.withResumeToken(Di.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(I.targetId,I),u.Cs.updateTargetData(h,I).next(()=>u.Cs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.Cs.addMatchingKeys(h,r,o.targetId)).next(()=>u.Ns.saveNamedQuery(h,e))})}),Hp.apply(this,arguments)}function Lm(i,e){return`firestore_clients_${i}_${e}`}function Dv(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Vm(i,e){return`firestore_targets_${i}_${e}`}class Gp{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Zi(e,r,o){const u=JSON.parse(o);let h,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(h=new $e(u.error.code,u.error.message))),g?new Gp(e,r,u.state,h):(Cr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cf{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Zi(e,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new $e(o.error.code,o.error.message))),h?new cf(e,o.state,u):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lf{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Zi(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=mp();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=kh(o.activeTargetIds[g]),h=h.add(o.activeTargetIds[g]);return u?new lf(e,h):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Cv{constructor(e,r){this.clientId=e,this.onlineState=r}static Zi(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Cv(r.clientId,r.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wp{constructor(){this.activeTargetIds=mp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Um{constructor(e,r,o,u,h){this.window=e,this.Hs=r,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Hr(Kt),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ar=Lm(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Wp),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(I){return`firestore_bundle_loaded_v2_${I}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const r=yield e.syncEngine.vi();for(const u of r){if(u===e.sr)continue;const h=e.getItem(Lm(e.persistenceKey,u));if(h){const g=lf.Zi(u,h);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let r=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,r,o){this.Tr(e,r,o),this.Er(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Vm(this.persistenceKey,e));if(o){const u=cf.Zi(e,o);u&&(r=u.state)}}return this.Ar.er(e),this.gr(),r}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vm(this.persistenceKey,e))}updateQueryState(e,r,o){this.Rr(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ze("SharedClientState","READ",e,r),r}setItem(e,r){Ze("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Ze("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(r.started){if(null!==o.key)if(r.lr.test(o.key)){if(null==o.newValue){const u=r.vr(o.key);return r.Vr(u,null)}{const u=r.Sr(o.key,o.newValue);if(u)return r.Vr(u.clientId,u)}}else if(r.dr.test(o.key)){if(null!==o.newValue){const u=r.Dr(o.key,o.newValue);if(u)return r.Cr(u)}}else if(r._r.test(o.key)){if(null!==o.newValue){const u=r.Nr(o.key,o.newValue);if(u)return r.kr(u)}}else if(o.key===r.wr){if(null!==o.newValue){const u=r.yr(o.newValue);if(u)return r.pr(u)}}else if(o.key===r.hr){const u=function(h){let g=rs.at;if(null!=h)try{const I=JSON.parse(h);At("number"==typeof I),g=I}catch(I){Cr("SharedClientState","Failed to read sequence number from WebStorage",I)}return g}(o.newValue);u!==rs.at&&r.sequenceNumberHandler(u)}else if(o.key===r.mr){const u=r.Or(o.newValue);yield Promise.all(u.map(h=>r.syncEngine.Mr(h)))}}else r.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,r,o){const u=new Gp(this.currentUser,e,r,o),h=Dv(this.persistenceKey,this.currentUser,e);this.setItem(h,u.tr())}Er(e){const r=Dv(this.persistenceKey,this.currentUser,e);this.removeItem(r)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,r,o){const u=Vm(this.persistenceKey,e),h=new cf(e,r,o);this.setItem(u,h.tr())}Pr(e){const r=JSON.stringify(Array.from(e));this.setItem(this.mr,r)}vr(e){const r=this.lr.exec(e);return r?r[1]:null}Sr(e,r){const o=this.vr(e);return lf.Zi(o,r)}Dr(e,r){const o=this.dr.exec(e),u=Number(o[1]);return Gp.Zi(new fr(void 0!==o[2]?o[2]:null),u,r)}Nr(e,r){const o=this._r.exec(e),u=Number(o[1]);return cf.Zi(u,r)}yr(e){return Cv.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var r=this;return(0,Ae.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Fr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,r){const o=r?this.ur.insert(e,r):this.ur.remove(e),u=this.Ir(this.ur),h=this.Ir(o),g=[],I=[];return h.forEach(A=>{u.has(A)||g.push(A)}),u.forEach(A=>{h.has(A)||I.push(A)}),this.syncEngine.Br(g,I).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let r=mp();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Tv{constructor(){this.Lr=new Wp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,r,o){this.Ur[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Wp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eD{qr(e){}shutdown(){}}class mI{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yI{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Sv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,o,u,h){const g=this.ho(e,r);Ze("RestConnection","Sending: ",g,o);const I={};return this.lo(I,u,h),this.fo(e,g,I,o).then(A=>(Ze("RestConnection","Received: ",A),A),A=>{throw Ca("RestConnection",`${e} failed with error: `,A,"url: ",g,"request:",o),A})}_o(e,r,o,u,h,g){return this.ao(e,r,o,u,h)}lo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}ho(e,r){return`${this.oo}/v1/${r}:${Bm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,o,u){return new Promise((h,g)=>{const I=new nm;I.setWithCredentials(!0),I.listenOnce(ru.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case oc.NO_ERROR:const F=I.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(F)),h(F);break;case oc.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),g(new $e(De.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const G=I.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',G,"response text:",I.getResponseText()),G>0){const Q=I.getResponseJson().error;if(Q&&Q.status&&Q.message){const ge=function(xe){const Me=xe.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(Me)>=0?Me:De.UNKNOWN}(Q.status);g(new $e(ge,Q.message))}else g(new $e(De.UNKNOWN,"Server responded with status "+I.getStatus()))}else g(new $e(De.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const A=JSON.stringify(u);I.send(r,"POST",A,o,15)})}wo(e,r,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Qn(),g=nu(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new Dd({})),this.lo(I.initMessageHeaders,r,o),I.encodeInitMessageHeaders=!0;const A=u.join("");Ze("Connection","Creating WebChannel: "+A,I);const F=h.createWebChannel(A,I);let G=!1,Q=!1;const ge=new yI({Hr:Me=>{Q?Ze("Connection","Not sending because WebChannel is closed:",Me):(G||(Ze("Connection","Opening WebChannel transport."),F.open(),G=!0),Ze("Connection","WebChannel sending:",Me),F.send(Me))},Jr:()=>F.close()}),xe=(Me,st,ht)=>{Me.listen(st,Cn=>{try{ht(Cn)}catch(er){setTimeout(()=>{throw er},0)}})};return xe(F,Uc.EventType.OPEN,()=>{Q||Ze("Connection","WebChannel transport opened.")}),xe(F,Uc.EventType.CLOSE,()=>{Q||(Q=!0,Ze("Connection","WebChannel transport closed"),ge.io())}),xe(F,Uc.EventType.ERROR,Me=>{Q||(Q=!0,Ca("Connection","WebChannel transport errored:",Me),ge.io(new $e(De.UNAVAILABLE,"The operation could not be completed")))}),xe(F,Uc.EventType.MESSAGE,Me=>{var st;if(!Q){const ht=Me.data[0];At(!!ht);const Cn=ht,er=Cn.error||(null===(st=Cn[0])||void 0===st?void 0:st.error);if(er){Ze("Connection","WebChannel received error:",er);const fn=er.status;let dn=function(pn){const ss=zr[pn];if(void 0!==ss)return $_(ss)}(fn),on=er.message;void 0===dn&&(dn=De.INTERNAL,on="Unknown error status: "+fn+" with message "+er.message),Q=!0,ge.io(new $e(dn,on)),F.close()}else Ze("Connection","WebChannel received:",ht),ge.ro(ht)}}),xe(g,ac.STAT_EVENT,Me=>{Me.stat===Zf.PROXY?Ze("Connection","Detected buffering proxy"):Me.stat===Zf.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{ge.so()},0),ge}}function jm(){return"undefined"!=typeof window?window:null}function $m(){return"undefined"!=typeof document?document:null}function ao(i){return new fu(i,!0)}class Av{constructor(e,r,o=1e3,u=1.5,h=6e4){this.Hs=e,this.timerId=r,this.mo=o,this.yo=u,this.po=h,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,r-o);u>0&&Ze("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class _I{constructor(e,r,o,u,h,g,I,A){this.Hs=e,this.vo=o,this.Vo=u,this.So=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=I,this.listener=A,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Av(e,r)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Ae.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,r){var o=this;return(0,Ae.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():r&&r.code===De.RESOURCE_EXHAUSTED?(Cr(r.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):r&&r.code===De.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(r)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),r=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===r&&this.Qo(o,u)},o=>{e(()=>{const u=new $e(De.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,r){const o=this.Go(this.Do);this.stream=this.Wo(e,r),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Ae.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return r=>{this.Hs.enqueueAndForget(()=>this.Do===e?r():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tD extends _I{constructor(e,r,o,u,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,g),this.It=h}Wo(e,r){return this.So.wo("Listen",e,r)}onMessage(e){this.No.reset();const r=function(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(A=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===A?1:"REMOVE"===A?2:"CURRENT"===A?3:"RESET"===A?4:vt(),u=e.targetChange.targetIds||[],h=function(A,F){return A.gt?(At(void 0===F||"string"==typeof F),Di.fromBase64String(F||"")):(At(void 0===F||F instanceof Uint8Array),Di.fromUint8Array(F||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,I=g&&function(A){const F=void 0===A.code?De.UNKNOWN:$_(A.code);return new $e(F,A.message||"")}(g);r=new W_(o,u,h,I||null)}else if("documentChange"in e){const o=e.documentChange,u=_c(i,o.document.name),h=Tr(o.document.updateTime),g=new Ci({mapValue:{fields:o.document.fields}}),I=ur.newFoundDocument(u,h,g);r=new yp(o.targetIds||[],o.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const o=e.documentDelete,u=_c(i,o.document),h=o.readTime?Tr(o.readTime):Rt.min(),g=ur.newNoDocument(u,h);r=new yp([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=_c(i,o.document);r=new yp([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return vt();{const o=e.filter,h=new fm(o.count||0);r=new _m(o.targetId,h)}}var A;return r}(this.It,e),o=function(u){if(!("targetChange"in u))return Rt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Rt.min():h.readTime?Tr(h.readTime):Rt.min()}(e);return this.listener.zo(r,o)}Ho(e){const r={};r.database=ea(this.It),r.addTarget=function(u,h){let g;const I=h.target;return g=Md(I)?{documents:$E(u,I)}:{query:Ip(u,I)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?g.resumeToken=q_(u,h.resumeToken):h.snapshotVersion.compareTo(Rt.min())>0&&(g.readTime=Bd(u,h.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function(i,e){const r=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.Lo(r)}Jo(e){const r={};r.database=ea(this.It),r.removeTarget=e,this.Lo(r)}}class xv extends _I{constructor(e,r,o,u,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,g),this.It=h,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,r){return this.So.wo("Write",e,r)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const r=function(i,e){return i&&i.length>0?(At(void 0!==e),i.map(r=>function(o,u){let h=Tr(o.updateTime?o.updateTime:u);return h.isEqual(Rt.min())&&(h=Tr(u)),new yc(h,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Tr(e.commitTime);return this.listener.tu(o,r)}return At(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ea(this.It),this.Lo(e)}Zo(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>jd(this.It,o))};this.Lo(r)}}class Rv extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new $e(De.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.So.ao(e,r,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(De.UNKNOWN,u.toString())})}_o(e,r,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.So._o(e,r,o,h,g,u)).catch(h=>{throw"FirebaseError"===h.name?(h.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new $e(De.UNKNOWN,h.toString())})}terminate(){this.su=!0}}class nD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Cr(r),this.uu=!1):Ze("OnlineStateTracker",r)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Mv{constructor(e,r,o,u,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=h,this.gu.qr(I=>{o.enqueueAndForget((0,Ae.Z)(function*(){var A;No(g)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(A=(0,Ae.Z)(function*(F){const G=ut(F);G.wu.add(4),yield cl(G),G.yu.set("Unknown"),G.wu.delete(4),yield Jd(G)}),function(F){return A.apply(this,arguments)})(g))}))}),this.yu=new nD(o,u)}}function Jd(i){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,Ae.Z)(function*(i){if(No(i))for(const e of i.mu)yield e(!0)}),Gm.apply(this,arguments)}function cl(i){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Ae.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Wm.apply(this,arguments)}function zp(i,e){const r=ut(i);r._u.has(e.targetId)||(r._u.set(e.targetId,e),Xd(r)?Km(r):cd(r).Oo()&&zm(r,e))}function df(i,e){const r=ut(i),o=cd(r);r._u.delete(e),o.Oo()&&Ov(r,e),0===r._u.size&&(o.Oo()?o.$o():No(r)&&r.yu.set("Unknown"))}function zm(i,e){i.pu.Mt(e.targetId),cd(i).Ho(e)}function Ov(i,e){i.pu.Mt(e),cd(i).Jo(e)}function Km(i){i.pu=new VE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),cd(i).start(),i.yu.cu()}function Xd(i){return No(i)&&!cd(i).ko()&&i._u.size>0}function No(i){return 0===ut(i).wu.size}function qm(i){i.pu=void 0}function mu(i){return od.apply(this,arguments)}function od(){return od=(0,Ae.Z)(function*(i){i._u.forEach((e,r)=>{zm(i,e)})}),od.apply(this,arguments)}function vI(i,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Ae.Z)(function*(i,e){qm(i),Xd(i)?(i.yu.lu(e),Km(i)):i.yu.set("Unknown")}),Zm.apply(this,arguments)}function Ym(i,e,r){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,Ae.Z)(function*(i,e,r){if(i.yu.set("Online"),e instanceof W_&&2===e.state&&e.cause)try{yield(o=(0,Ae.Z)(function*(u,h){const g=h.cause;for(const I of h.targetIds)u._u.has(I)&&(yield u.remoteSyncer.rejectListen(I,g),u._u.delete(I),u.pu.removeTarget(I))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ll(i,o)}else if(e instanceof yp?i.pu.Gt(e):e instanceof _m?i.pu.Yt(e):i.pu.Wt(e),!r.isEqual(Rt.min()))try{const o=yield Bp(i.localStore);r.compareTo(o)>=0&&(yield function(u,h){const g=u.pu.te(h);return g.targetChanges.forEach((I,A)=>{if(I.resumeToken.approximateByteSize()>0){const F=u._u.get(A);F&&u._u.set(A,F.withResumeToken(I.resumeToken,h))}}),g.targetMismatches.forEach(I=>{const A=u._u.get(I);if(!A)return;u._u.set(I,A.withResumeToken(Di.EMPTY_BYTE_STRING,A.snapshotVersion)),Ov(u,I);const F=new pu(A.target,I,1,A.sequenceNumber);zm(u,F)}),u.remoteSyncer.applyRemoteEvent(g)}(i,r))}catch(o){Ze("RemoteStore","Failed to raise snapshot:",o),yield ll(i,o)}var o}),Pa.apply(this,arguments)}function ll(i,e,r){return ys.apply(this,arguments)}function ys(){return ys=(0,Ae.Z)(function*(i,e,r){if(!Sa(e))throw e;i.wu.add(1),yield cl(i),i.yu.set("Offline"),r||(r=()=>Bp(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield r(),i.wu.delete(1),yield Jd(i)}))}),ys.apply(this,arguments)}function dl(i,e){return e().catch(r=>ll(i,r,e))}function vc(i){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,Ae.Z)(function*(i){const e=ut(i),r=Ec(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Qm(e);)try{const u=yield gI(e.localStore,o);if(null===u){0===e.du.length&&r.$o();break}o=u.batchId,eh(e,u)}catch(u){yield ll(e,u)}ad(e)&&ud(e)}),Mo.apply(this,arguments)}function Qm(i){return No(i)&&i.du.length<10}function eh(i,e){i.du.push(e);const r=Ec(i);r.Oo()&&r.Xo&&r.Zo(e.mutations)}function ad(i){return No(i)&&!Ec(i).ko()&&i.du.length>0}function ud(i){Ec(i).start()}function th(i){return hl.apply(this,arguments)}function hl(){return hl=(0,Ae.Z)(function*(i){Ec(i).nu()}),hl.apply(this,arguments)}function nh(i){return fl.apply(this,arguments)}function fl(){return fl=(0,Ae.Z)(function*(i){const e=Ec(i);for(const r of i.du)e.Zo(r.mutations)}),fl.apply(this,arguments)}function rh(i,e,r){return pl.apply(this,arguments)}function pl(){return pl=(0,Ae.Z)(function*(i,e,r){const o=i.du.shift(),u=ef.from(o,e,r);yield dl(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield vc(i)}),pl.apply(this,arguments)}function Pv(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Ae.Z)(function*(i,e){var r;e&&Ec(i).Xo&&(yield(r=(0,Ae.Z)(function*(o,u){if(pm(h=u.code)&&h!==De.ABORTED){const g=o.du.shift();Ec(o).Fo(),yield dl(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield vc(o)}var h}),function(o,u){return r.apply(this,arguments)})(i,e)),ad(i)&&ud(i)}),Kp.apply(this,arguments)}function Jm(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,Ae.Z)(function*(i,e){const r=ut(i);r.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const o=No(r);r.wu.add(3),yield cl(r),o&&r.yu.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.wu.delete(3),yield Jd(r)}),qp.apply(this,arguments)}function Zp(i,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Ae.Z)(function*(i,e){const r=ut(i);e?(r.wu.delete(2),yield Jd(r)):e||(r.wu.add(2),yield cl(r),r.yu.set("Unknown"))}),Yp.apply(this,arguments)}function cd(i){return i.Iu||(i.Iu=function(e,r,o){const u=ut(e);return u.iu(),new tD(r,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:mu.bind(null,i),Zr:vI.bind(null,i),zo:Ym.bind(null,i)}),i.mu.push(function(){var e=(0,Ae.Z)(function*(r){r?(i.Iu.Fo(),Xd(i)?Km(i):i.yu.set("Unknown")):(yield i.Iu.stop(),qm(i))});return function(r){return e.apply(this,arguments)}}())),i.Iu}function Ec(i){return i.Tu||(i.Tu=function(e,r,o){const u=ut(e);return u.iu(),new xv(r,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:th.bind(null,i),Zr:Pv.bind(null,i),eu:nh.bind(null,i),tu:rh.bind(null,i)}),i.mu.push(function(){var e=(0,Ae.Z)(function*(r){r?(i.Tu.Fo(),yield vc(i)):(yield i.Tu.stop(),i.du.length>0&&(Ze("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(r){return e.apply(this,arguments)}}())),i.Tu}class Qp{constructor(e,r,o,u,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,r,o,u,h){const g=Date.now()+o,I=new Qp(e,r,g,u,h);return I.start(o),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ih(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),Sa(i))return new $e(De.UNAVAILABLE,`${e}: ${i}`);throw i}class sh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||at.comparator(r.key,o.key):(r,o)=>at.comparator(r.key,o.key),this.keyedMap=gp(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof sh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new sh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class kv{constructor(){this.Eu=new Hr(at.comparator)}track(e){const r=e.doc.key,o=this.Eu.get(r);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(r,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(r):1===e.type&&2===o.type?this.Eu=this.Eu.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(r,{type:2,doc:e.doc}):vt():this.Eu=this.Eu.insert(r,e)}Au(){const e=[];return this.Eu.inorderTraversal((r,o)=>{e.push(o)}),e}}class ld{constructor(e,r,o,u,h,g,I,A,F){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=I,this.excludesMetadataChanges=A,this.hasCachedResults=F}static fromInitialDocuments(e,r,o,u,h){const g=[];return r.forEach(I=>{g.push({type:0,doc:I})}),new ld(e,r,sh.emptySet(r),g,o,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Fv{constructor(){this.Ru=void 0,this.listeners=[]}}class EI{constructor(){this.queries=new tl(e=>_(e),f),this.onlineState="Unknown",this.bu=new Set}}function Lv(i,e){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,Ae.Z)(function*(i,e){const r=ut(i),o=e.query;let u=!1,h=r.queries.get(o);if(h||(u=!0,h=new Fv),u)try{h.Ru=yield r.onListen(o)}catch(g){const I=ih(g,`Initialization of query '${N(e.query)}' failed`);return void e.onError(I)}r.queries.set(o,h),h.listeners.push(e),e.Pu(r.onlineState),h.Ru&&e.vu(h.Ru)&&ty(r)}),Xm.apply(this,arguments)}function Jp(i,e){return ey.apply(this,arguments)}function ey(){return ey=(0,Ae.Z)(function*(i,e){const r=ut(i),o=e.query;let u=!1;const h=r.queries.get(o);if(h){const g=h.listeners.indexOf(e);g>=0&&(h.listeners.splice(g,1),u=0===h.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),ey.apply(this,arguments)}function Vv(i,e){const r=ut(i);let o=!1;for(const u of e){const g=r.queries.get(u.query);if(g){for(const I of g.listeners)I.vu(u)&&(o=!0);g.Ru=u}}o&&ty(r)}function II(i,e,r){const o=ut(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(r);o.queries.delete(e)}function ty(i){i.bu.forEach(e=>{e.next()})}class Uv{constructor(e,r,o){this.query=e,this.Vu=r,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ld(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),r=!0):this.xu(e,this.onlineState)&&(this.Nu(e),r=!0),this.Du=e,r}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let r=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),r=!0),r}xu(e,r){return!e.fromCache||(!this.options.ku||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class wI{constructor(e,r){this.payload=e,this.byteLength=r}Ou(){return"metadata"in this.payload}}class ny{constructor(e){this.It=e}Ji(e){return _c(this.It,e)}Yi(e){return e.metadata.exists?Ep(this.It,e.document,!1):ur.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Tr(e)}}class rD{constructor(e,r,o){this.Mu=e,this.localStore=r,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bI(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r;const o=An.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}$u(e){const r=new Map,o=new ny(this.It);for(const u of e)if(u.metadata.queries){const h=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const I=(r.get(g)||cn()).add(h);r.set(g,I)}}return r}complete(){var e=this;return(0,Ae.Z)(function*(){const r=yield function(i,e,r,o){return $p.apply(this,arguments)}(e.localStore,new ny(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield bv(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:r}})()}}function bI(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class DI{constructor(e){this.key=e}}class Bv{constructor(e){this.key=e}}class CI{constructor(e,r){this.query=e,this.Uu=r,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=cn(),this.mutatedKeys=cn(),this.Gu=pe(e),this.Qu=new sh(this.Gu)}get ju(){return this.Uu}Wu(e,r){const o=r?r.zu:new kv,u=r?r.Qu:this.Qu;let h=r?r.mutatedKeys:this.mutatedKeys,g=u,I=!1;const A="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,F="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((G,Q)=>{const ge=u.get(G),xe=L(this.query,Q)?Q:null,Me=!!ge&&this.mutatedKeys.has(ge.key),st=!!xe&&(xe.hasLocalMutations||this.mutatedKeys.has(xe.key)&&xe.hasCommittedMutations);let ht=!1;ge&&xe?ge.data.isEqual(xe.data)?Me!==st&&(o.track({type:3,doc:xe}),ht=!0):this.Hu(ge,xe)||(o.track({type:2,doc:xe}),ht=!0,(A&&this.Gu(xe,A)>0||F&&this.Gu(xe,F)<0)&&(I=!0)):!ge&&xe?(o.track({type:0,doc:xe}),ht=!0):ge&&!xe&&(o.track({type:1,doc:ge}),ht=!0,(A||F)&&(I=!0)),ht&&(xe?(g=g.add(xe),h=st?h.add(G):h.delete(G)):(g=g.delete(G),h=h.delete(G)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const G="F"===this.query.limitType?g.last():g.first();g=g.delete(G.key),h=h.delete(G.key),o.track({type:1,doc:G})}return{Qu:g,zu:o,$i:I,mutatedKeys:h}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const h=e.zu.Au();h.sort((F,G)=>function(Q,ge){const xe=Me=>{switch(Me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return xe(Q)-xe(ge)}(F.type,G.type)||this.Gu(F.doc,G.doc)),this.Ju(o);const g=r?this.Yu():[],I=0===this.Ku.size&&this.current?1:0,A=I!==this.qu;return this.qu=I,0!==h.length||A?{snapshot:new ld(this.query,e.Qu,u,h,e.mutatedKeys,0===I,A,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:g}:{Xu:g}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new kv,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.Uu=this.Uu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Uu=this.Uu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=cn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const r=[];return e.forEach(o=>{this.Ku.has(o)||r.push(new Bv(o))}),this.Ku.forEach(o=>{e.has(o)||r.push(new DI(o))}),r}tc(e){this.Uu=e.Hi,this.Ku=cn();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return ld.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class TI{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class SI{constructor(e){this.key=e,this.nc=!1}}class ry{constructor(e,r,o,u,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.sc={},this.ic=new tl(I=>_(I),f),this.rc=new Map,this.oc=new Set,this.uc=new Hr(at.comparator),this.cc=new Map,this.ac=new Fp,this.hc={},this.lc=new Map,this.fc=ul.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function iy(i,e){return sy.apply(this,arguments)}function sy(){return sy=(0,Ae.Z)(function*(i,e){const r=gf(i);let o,u;const h=r.ic.get(e);if(h)o=h.targetId,r.sharedClientState.addLocalQueryTarget(o),u=h.view.ec();else{const g=yield id(r.localStore,m(e));r.isPrimaryClient&&zp(r.remoteStore,g);const I=r.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield jv(r,e,o,"current"===I,g.resumeToken)}return u}),sy.apply(this,arguments)}function jv(i,e,r,o,u){return $v.apply(this,arguments)}function $v(){return $v=(0,Ae.Z)(function*(i,e,r,o,u){i._c=(Q,ge,xe)=>{return(Me=(0,Ae.Z)(function*(st,ht,Cn,er){let fn=ht.view.Wu(Cn);fn.$i&&(fn=yield uf(st.localStore,ht.query,!1).then(({documents:pn})=>ht.view.Wu(pn,fn)));const dn=er&&er.targetChanges.get(ht.targetId),on=ht.view.applyChanges(fn,st.isPrimaryClient,dn);return hy(st,ht.targetId,on.Xu),on.snapshot}),function(st,ht,Cn,er){return Me.apply(this,arguments)})(i,Q,ge,xe);var Me};const h=yield uf(i.localStore,e,!0),g=new CI(e,h.Hi),I=g.Wu(h.documents),A=zh.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState,u),F=g.applyChanges(I,i.isPrimaryClient,A);hy(i,r,F.Xu);const G=new TI(e,r,g);return i.ic.set(e,G),i.rc.has(r)?i.rc.get(r).push(e):i.rc.set(r,[e]),F.snapshot}),$v.apply(this,arguments)}function iD(i,e){return oy.apply(this,arguments)}function oy(){return oy=(0,Ae.Z)(function*(i,e){const r=ut(i),o=r.ic.get(e),u=r.rc.get(o.targetId);if(u.length>1)return r.rc.set(o.targetId,u.filter(h=>!f(h,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sd(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),df(r.remoteStore,o.targetId),ah(r,o.targetId)}).catch(hc))):(ah(r,o.targetId),yield sd(r.localStore,o.targetId,!0))}),oy.apply(this,arguments)}function Gv(){return Gv=(0,Ae.Z)(function*(i,e,r){const o=mf(i);try{const u=yield function(h,g){const I=ut(h),A=vr.now(),F=g.reduce((ge,xe)=>ge.add(xe.key),cn());let G,Q;return I.persistence.runTransaction("Locally write mutations","readwrite",ge=>{let xe=js(),Me=cn();return I.Gi.getEntries(ge,F).next(st=>{xe=st,xe.forEach((ht,Cn)=>{Cn.isValidDocument()||(Me=Me.add(ht))})}).next(()=>I.localDocuments.getOverlayedDocuments(ge,xe)).next(st=>{G=st;const ht=[];for(const Cn of g){const er=j_(Cn,G.get(Cn.key).overlayedDocument);null!=er&&ht.push(new Ku(Cn.key,er,ap(er.value.mapValue),kr.exists(!0)))}return I.mutationQueue.addMutationBatch(ge,A,ht,g)}).next(st=>{Q=st;const ht=st.applyToLocalDocumentSet(G,Me);return I.documentOverlayCache.saveOverlays(ge,st.batchId,ht)})}).then(()=>({batchId:Q.batchId,changes:mm(G)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,g,I){let A=h.hc[h.currentUser.toKey()];A||(A=new Hr(Kt)),A=A.insert(g,I),h.hc[h.currentUser.toKey()]=A}(o,u.batchId,r),yield yu(o,u.changes),yield vc(o.remoteStore)}catch(u){const h=ih(u,"Failed to persist write");r.reject(h)}}),Gv.apply(this,arguments)}function Wv(i,e){return gl.apply(this,arguments)}function gl(){return gl=(0,Ae.Z)(function*(i,e){const r=ut(i);try{const o=yield Xb(r.localStore,e);e.targetChanges.forEach((u,h)=>{const g=r.cc.get(h);g&&(At(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.nc=!0:u.modifiedDocuments.size>0?At(g.nc):u.removedDocuments.size>0&&(At(g.nc),g.nc=!1))}),yield yu(r,o,e)}catch(o){yield hc(o)}}),gl.apply(this,arguments)}function zv(i,e,r){const o=ut(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ic.forEach((h,g)=>{const I=g.view.Pu(e);I.snapshot&&u.push(I.snapshot)}),function(h,g){const I=ut(h);I.onlineState=g;let A=!1;I.queries.forEach((F,G)=>{for(const Q of G.listeners)Q.Pu(g)&&(A=!0)}),A&&ty(I)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Kv(i,e,r){return ay.apply(this,arguments)}function ay(){return ay=(0,Ae.Z)(function*(i,e,r){const o=ut(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.cc.get(e),h=u&&u.key;if(h){let g=new Hr(at.comparator);g=g.insert(h,ur.newNoDocument(h,Rt.min()));const I=cn().add(h),A=new Wh(Rt.min(),new Map,new Jn(Kt),g,I);yield Wv(o,A),o.uc=o.uc.remove(h),o.cc.delete(e),eg(o)}else yield sd(o.localStore,e,!1).then(()=>ah(o,e,r)).catch(hc)}),ay.apply(this,arguments)}function qv(i,e){return oh.apply(this,arguments)}function oh(){return oh=(0,Ae.Z)(function*(i,e){const r=ut(i),o=e.batch.batchId;try{const u=yield km(r.localStore,e);ly(r,o,null),cy(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield yu(r,u)}catch(u){yield hc(u)}}),oh.apply(this,arguments)}function AI(i,e,r){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Ae.Z)(function*(i,e,r){const o=ut(i);try{const u=yield function(h,g){const I=ut(h);return I.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let F;return I.mutationQueue.lookupMutationBatch(A,g).next(G=>(At(null!==G),F=G.keys(),I.mutationQueue.removeMutationBatch(A,G))).next(()=>I.mutationQueue.performConsistencyCheck(A)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(A,F,g)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,F)).next(()=>I.localDocuments.getDocuments(A,F))})}(o.localStore,e);ly(o,e,r),cy(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield yu(o,u)}catch(u){yield hc(u)}}),Xp.apply(this,arguments)}function uy(){return uy=(0,Ae.Z)(function*(i,e){const r=ut(i);No(r.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const g=ut(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",I=>g.mutationQueue.getHighestUnacknowledgedBatchId(I))}(r.localStore);if(-1===o)return void e.resolve();const u=r.lc.get(o)||[];u.push(e),r.lc.set(o,u)}catch(o){const u=ih(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),uy.apply(this,arguments)}function cy(i,e){(i.lc.get(e)||[]).forEach(r=>{r.resolve()}),i.lc.delete(e)}function ly(i,e,r){const o=ut(i);let u=o.hc[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(r?h.reject(r):h.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function ah(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),r&&i.sc.wc(o,r);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||dy(i,o)})}function dy(i,e){i.oc.delete(e.path.canonicalString());const r=i.uc.get(e);null!==r&&(df(i.remoteStore,r),i.uc=i.uc.remove(e),i.cc.delete(r),eg(i))}function hy(i,e,r){for(const o of r)o instanceof DI?(i.ac.addReference(o.key,e),Zv(i,o)):o instanceof Bv?(Ze("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||dy(i,o.key)):vt()}function Zv(i,e){const r=e.key,o=r.path.canonicalString();i.uc.get(r)||i.oc.has(o)||(Ze("SyncEngine","New document in limbo: "+r),i.oc.add(o),eg(i))}function eg(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const r=new at(An.fromString(e)),o=i.fc.next();i.cc.set(o,new SI(r)),i.uc=i.uc.insert(r,o),zp(i.remoteStore,new pu(m(Gl(r.path)),o,2,rs.at))}}function yu(i,e,r){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,Ae.Z)(function*(i,e,r){const o=ut(i),u=[],h=[],g=[];var I;o.ic.isEmpty()||(o.ic.forEach((I,A)=>{g.push(o._c(A,e,r).then(F=>{if((F||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(A.targetId,(null==F?void 0:F.fromCache)?"not-current":"current"),F){u.push(F);const G=Om.Ci(A.targetId,F);h.push(G)}}))}),yield Promise.all(g),o.sc.zo(u),yield(I=(0,Ae.Z)(function*(A,F){const G=ut(A);try{yield G.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>ve.forEach(F,ge=>ve.forEach(ge.Si,xe=>G.persistence.referenceDelegate.addReference(Q,ge.targetId,xe)).next(()=>ve.forEach(ge.Di,xe=>G.persistence.referenceDelegate.removeReference(Q,ge.targetId,xe)))))}catch(Q){if(!Sa(Q))throw Q;Ze("LocalStore","Failed to update sequence numbers: "+Q)}for(const Q of F){const ge=Q.targetId;if(!Q.fromCache){const xe=G.Ui.get(ge),st=xe.withLastLimboFreeSnapshotVersion(xe.snapshotVersion);G.Ui=G.Ui.insert(ge,st)}}}),function(A,F){return I.apply(this,arguments)})(o.localStore,h))}),Yv.apply(this,arguments)}function fy(i,e){return py.apply(this,arguments)}function py(){return py=(0,Ae.Z)(function*(i,e){const r=ut(i);if(!r.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const o=yield pI(r.localStore,e);r.currentUser=e,(u=r).lc.forEach(g=>{g.forEach(I=>{I.reject(new $e(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield yu(r,o.ji)}var u}),py.apply(this,arguments)}function sD(i,e){const r=ut(i),o=r.cc.get(e);if(o&&o.nc)return cn().add(o.key);{let u=cn();const h=r.rc.get(e);if(!h)return u;for(const g of h){const I=r.ic.get(g);u=u.unionWith(I.view.ju)}return u}}function hf(i,e){return gy.apply(this,arguments)}function gy(){return gy=(0,Ae.Z)(function*(i,e){const r=ut(i),o=yield uf(r.localStore,e.query,!0),u=e.view.tc(o);return r.isPrimaryClient&&hy(r,e.targetId,u.Xu),u}),gy.apply(this,arguments)}function my(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,Ae.Z)(function*(i,e){const r=ut(i);return wv(r.localStore,e).then(o=>yu(r,o))}),ff.apply(this,arguments)}function RI(i,e,r,o){return pf.apply(this,arguments)}function pf(){return pf=(0,Ae.Z)(function*(i,e,r,o){const u=ut(i),h=yield function(g,I){const A=ut(g),F=ut(A.mutationQueue);return A.persistence.runTransaction("Lookup mutation documents","readonly",G=>F.Tn(G,I).next(Q=>Q?A.localDocuments.getDocuments(G,Q):ve.resolve(null)))}(u.localStore,e);var I;null!==h?("pending"===r?yield vc(u.remoteStore):"acknowledged"===r||"rejected"===r?(ly(u,e,o||null),cy(u,e),I=e,ut(ut(u.localStore).mutationQueue).An(I)):vt(),yield yu(u,h)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),pf.apply(this,arguments)}function tg(){return tg=(0,Ae.Z)(function*(i,e){const r=ut(i);if(gf(r),mf(r),!0===e&&!0!==r.dc){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield NI(r,o.toArray());r.dc=!0,yield Zp(r.remoteStore,!0);for(const h of u)zp(r.remoteStore,h)}else if(!1===e&&!1!==r.dc){const o=[];let u=Promise.resolve();r.rc.forEach((h,g)=>{r.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(ah(r,g),sd(r.localStore,g,!0))),df(r.remoteStore,g)}),yield u,yield NI(r,o),function(h){const g=ut(h);g.cc.forEach((I,A)=>{df(g.remoteStore,A)}),g.ac.fs(),g.cc=new Map,g.uc=new Hr(at.comparator)}(r),r.dc=!1,yield Zp(r.remoteStore,!1)}}),tg.apply(this,arguments)}function NI(i,e,r){return _y.apply(this,arguments)}function _y(){return _y=(0,Ae.Z)(function*(i,e,r){const o=ut(i),u=[],h=[];for(const g of e){let I;const A=o.rc.get(g);if(A&&0!==A.length){I=yield id(o.localStore,m(A[0]));for(const F of A){const G=o.ic.get(F),Q=yield hf(o,G);Q.snapshot&&h.push(Q.snapshot)}}else{const F=yield Iv(o.localStore,g);I=yield id(o.localStore,F),yield jv(o,vy(F),g,!1,I.resumeToken)}u.push(I)}return o.sc.zo(h),u}),_y.apply(this,arguments)}function vy(i){return Pd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Qv(i){const e=ut(i);return ut(ut(e.localStore).persistence).vi()}function MI(i,e,r,o){return ng.apply(this,arguments)}function ng(){return ng=(0,Ae.Z)(function*(i,e,r,o){const u=ut(i);if(u.dc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const h=u.rc.get(e);if(h&&h.length>0)switch(r){case"current":case"not-current":{const g=yield wv(u.localStore,X(h[0])),I=Wh.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Di.EMPTY_BYTE_STRING);yield yu(u,g,I);break}case"rejected":yield sd(u.localStore,e,!0),ah(u,e,o);break;default:vt()}}),ng.apply(this,arguments)}function Ey(i,e,r){return rg.apply(this,arguments)}function rg(){return rg=(0,Ae.Z)(function*(i,e,r){const o=gf(i);if(o.dc){for(const u of e){if(o.rc.has(u)){Ze("SyncEngine","Adding an already active target "+u);continue}const h=yield Iv(o.localStore,u),g=yield id(o.localStore,h);yield jv(o,vy(h),g.targetId,!1,g.resumeToken),zp(o.remoteStore,g)}for(const u of r)o.rc.has(u)&&(yield sd(o.localStore,u,!1).then(()=>{df(o.remoteStore,u),ah(o,u)}).catch(hc))}}),rg.apply(this,arguments)}function gf(i){const e=ut(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kv.bind(null,e),e.sc.zo=Vv.bind(null,e.eventManager),e.sc.wc=II.bind(null,e.eventManager),e}function mf(i){const e=ut(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AI.bind(null,e),e}class Xv{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Ae.Z)(function*(){r.It=ao(e.databaseInfo.databaseId),r.sharedClientState=r.gc(e),r.persistence=r.yc(e),yield r.persistence.start(),r.localStore=r.Ic(e),r.gcScheduler=r.Tc(e,r.localStore),r.indexBackfillerScheduler=r.Ec(e,r.localStore)})()}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return Up(this.persistence,new Pm,e.initialUser,this.It)}yc(e){return new nd(Lp.Bs,this.It)}gc(e){return new Tv}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Iy extends Xv{constructor(e,r,o){super(),this.Ac=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield r().call(o,e),yield o.Ac.initialize(o,e),yield mf(o.Ac.syncEngine),yield vc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Up(this.persistence,new Pm,e.initialUser,this.It)}Tc(e,r){return new hv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ec(e,r){const o=new Ph(r,this.persistence);return new Oh(e.asyncQueue,o)}yc(e){const r=vv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new Mm(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,jm(),$m(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Tv}}class e0 extends Iy{constructor(e,r){super(e,r,!1),this.Ac=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield r().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof Um&&(o.sharedClientState.syncEngine={Fr:RI.bind(null,u),$r:MI.bind(null,u),Br:Ey.bind(null,u),vi:Qv.bind(null,u),Mr:my.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var h=(0,Ae.Z)(function*(g){yield function(i,e){return tg.apply(this,arguments)}(o.Ac.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return h.apply(this,arguments)}}())})()}gc(e){const r=jm();if(!Um.C(r))throw new $e(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=vv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Um(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class yf{initialize(e,r){var o=this;return(0,Ae.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>zv(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=fy.bind(null,o.syncEngine),yield Zp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EI}createDatastore(e){const r=ao(e.databaseInfo.databaseId),o=new Sv(e.databaseInfo);return new Rv(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,u=e.asyncQueue,h=I=>zv(this.syncEngine,I,0),g=mI.C()?new mI:new eD,new Mv(r,o,u,h,g);var r,o,u,h,g}createSyncEngine(e,r){return function(o,u,h,g,I,A,F){const G=new ry(o,u,h,g,I,A);return F&&(G.dc=!0),G}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,Ae.Z)(function*(r){const o=ut(r);Ze("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield cl(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function wy(i,e,r){if(!r)throw new $e(De.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function t0(i,e,r,o){if(!0===e&&!0===o)throw new $e(De.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function n0(i){if(!at.isDocumentKey(i))throw new $e(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function r0(i){if(at.isDocumentKey(i))throw new $e(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _f(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":vt()}function In(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_f(i);throw new $e(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function by(i,e){if(e<=0)throw new $e(De.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Dy=new Map;class Cy{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,t0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cy(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Qf;switch(r.type){case"gapi":return new Ah(r.client,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Dy.get(e);r&&(Ze("ComponentProvider","Removing Datastore"),Dy.delete(e),r.terminate())}(this),Promise.resolve()}}class Sr{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class xs{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class _u extends xs{constructor(e,r,o){super(e,r,Gl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new at(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function OI(i,e,...r){if(i=(0,yn.m9)(i),wy("collection","path",e),i instanceof uh){const o=An.fromString(e,...r);return r0(o),new _u(i,null,o)}{if(!(i instanceof Sr||i instanceof _u))throw new $e(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(An.fromString(e,...r));return r0(o),new _u(i.firestore,null,o)}}function ig(i,e,...r){if(i=(0,yn.m9)(i),1===arguments.length&&(e=Rl.R()),wy("doc","path",e),i instanceof uh){const o=An.fromString(e,...r);return n0(o),new Sr(i,null,new at(o))}{if(!(i instanceof Sr||i instanceof _u))throw new $e(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(An.fromString(e,...r));return n0(o),new Sr(i.firestore,i instanceof _u?i.converter:null,new at(o))}}function Sy(i,e){return i=(0,yn.m9)(i),e=(0,yn.m9)(e),(i instanceof Sr||i instanceof _u)&&(e instanceof Sr||e instanceof _u)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Ay(i,e){return i=(0,yn.m9)(i),e=(0,yn.m9)(e),i instanceof xs&&e instanceof xs&&i.firestore===e.firestore&&f(i._query,e._query)&&i.converter===e.converter}function $i(i,e=10240){let r=0;return{read:()=>(0,Ae.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class kI{constructor(e,r){this.Pc=e,this.It=r,this.metadata=new ci,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ae.Z)(function*(){const r=yield e.Sc();if(null===r)return null;const o=e.vc.decode(r),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const h=yield e.Cc(u);return new wI(JSON.parse(h),r.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const r=e.xc();r<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Cc(e){var r=this;return(0,Ae.Z)(function*(){for(;r.buffer.length<e;)(yield r.Nc())&&r.Dc("Reached the end of bundle when more is expected.");const o=r.vc.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ae.Z)(function*(){const r=yield e.Pc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class o0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Ae.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new $e(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Ae.Z)(function*(h,g){const I=ut(h),A=ea(I.It)+"/documents",F={documents:g.map(xe=>ql(I.It,xe))},G=yield I._o("BatchGetDocuments",A,F,g.length),Q=new Map;G.forEach(xe=>{const Me=function(i,e){return"found"in e?function(r,o){At(!!o.found);const u=_c(r,o.found.name),h=Tr(o.found.updateTime),g=new Ci({mapValue:{fields:o.found.fields}});return ur.newFoundDocument(u,h,g)}(i,e):"missing"in e?function(r,o){At(!!o.missing),At(!!o.readTime);const u=_c(r,o.missing),h=Tr(o.readTime);return ur.newNoDocument(u,h)}(i,e):vt()}(I.It,xe);Q.set(Me.key.toString(),Me)});const ge=[];return g.forEach(xe=>{const Me=Q.get(xe.toString());At(!!Me),ge.push(Me)}),ge}),function(h,g){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new el(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const h=at.fromPath(u);e.mutations.push(new pp(h,e.precondition(h)))}),yield(o=(0,Ae.Z)(function*(u,h){const g=ut(u),I=ea(g.It)+"/documents",A={writes:h.map(F=>jd(g.It,F))};yield g.ao("Commit",I,A)}),function(u,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw vt();r=Rt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new $e(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Rt.min())?kr.exists(!1):kr.updateTime(r):kr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Rt.min()))throw new $e(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(r)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,r,o,u,h){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=h,this.kc=o.maxAttempts,this.No=new Av(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Ae.Z)(function*(){const r=new o0(e.datastore),o=e.Mc(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.Fc(h)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const r=this.updateFunction(e);return!Vl(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!pm(r)}return!1}}class ch{constructor(e,r,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=fr.UNAUTHENTICATED,this.clientId=Rl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,Ae.Z)(function*(I){Ze("FirestoreClient","Received user=",I.uid),yield h.authCredentialListener(I),h.user=I});return function(I){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Ze("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=ih(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function u0(i,e){return xy.apply(this,arguments)}function xy(){return xy=(0,Ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,Ae.Z)(function*(h){o.isEqual(h)||(yield pI(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),xy.apply(this,arguments)}function Ry(i,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,Ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield sg(i);Ze("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>Jm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>Jm(e.remoteStore,h)),i.onlineComponents=e}),Ny.apply(this,arguments)}function sg(i){return c0.apply(this,arguments)}function c0(){return c0=(0,Ae.Z)(function*(i){return i.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield u0(i,new Xv)),i.offlineComponents}),c0.apply(this,arguments)}function Ef(i){return og.apply(this,arguments)}function og(){return og=(0,Ae.Z)(function*(i){return i.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield Ry(i,new yf)),i.onlineComponents}),og.apply(this,arguments)}function vu(i){return sg(i).then(e=>e.persistence)}function ag(i){return sg(i).then(e=>e.localStore)}function My(i){return Ef(i).then(e=>e.remoteStore)}function ka(i){return Ef(i).then(e=>e.syncEngine)}function Hs(i){return ug.apply(this,arguments)}function ug(){return ug=(0,Ae.Z)(function*(i){const e=yield Ef(i),r=e.eventManager;return r.onListen=iy.bind(null,e.syncEngine),r.onUnlisten=iD.bind(null,e.syncEngine),r}),ug.apply(this,arguments)}function d0(i,e,r={}){const o=new ci;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(u,h,g,I,A){const F=new vf({next:Q=>{h.enqueueAndForget(()=>Jp(u,G));const ge=Q.docs.has(g);!ge&&Q.fromCache?A.reject(new $e(De.UNAVAILABLE,"Failed to get document because the client is offline.")):ge&&Q.fromCache&&I&&"server"===I.source?A.reject(new $e(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(Q)},error:Q=>A.reject(Q)}),G=new Uv(Gl(g.path),F,{includeMetadataChanges:!0,ku:!0});return Lv(u,G)}(yield Hs(i),i.asyncQueue,e,r,o)})),o.promise}function cg(i,e,r={}){const o=new ci;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(u,h,g,I,A){const F=new vf({next:Q=>{h.enqueueAndForget(()=>Jp(u,G)),Q.fromCache&&"server"===I.source?A.reject(new $e(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(Q)},error:Q=>A.reject(Q)}),G=new Uv(g,F,{includeMetadataChanges:!0,ku:!0});return Lv(u,G)}(yield Hs(i),i.asyncQueue,e,r,o)})),o.promise}class jI{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Av(this,"async_queue_retry"),this.Wc=()=>{const r=$m();r&&Ze("AsyncQueue","Visibility state changed to "+r.visibilityState),this.No.Po()};const e=$m();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const r=$m();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const r=new ci;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(r){if(!Sa(r))throw r;Ze("AsyncQueue","Operation failed with retryable error: "+r)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=r,r}enqueueAfterDelay(e,r,o){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const u=Qp.createAndSchedule(this,e,r,o,h=>this.Yc(h));return this.qc.push(u),u}zc(){this.Kc&&vt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ae.Z)(function*(){let r;do{r=e.Bc,yield r}while(r!==e.Bc)})()}Zc(e){for(const r of this.qc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.qc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.qc.indexOf(e);this.qc.splice(r,1)}}function lg(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class f0{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fr extends uh{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new jI,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hg(this),this._firestoreClient.terminate()}}function di(i){return i._firestoreClient||hg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function hg(i){var e;const r=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new rp(i._databaseId,h,i._persistenceKey,(I=r).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var h,I;i._firestoreClient=new ch(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Oy(i,e,r){const o=new ci;return i.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield u0(i,r),yield Ry(i,e),o.resolve()}catch(u){const h=u;if(!("FirebaseError"===(g=h).name?g.code===De.FAILED_PRECONDITION||g.code===De.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw h;Ca("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var g})).then(()=>o.promise)}function E0(i){if(i._initialized||i._terminated)throw new $e(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(Di.fromBase64String(e))}catch(r){throw new $e(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Yu(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ic{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new $e(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dd{constructor(e){this._methodName=e}}class fg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const KI=/^__.*__$/;class qI{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new Ku(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xc(e,this.data,r,this.fieldTransforms)}}class I0{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Ku(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function w0(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class pg{constructor(e,r,o,u,h,g){this.settings=e,this.databaseId=r,this.It=o,this.ignoreUndefinedProperties=u,void 0===h&&this.na(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bc(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(w0(this.sa)&&KI.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ZI{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.It=o||ao(e)}da(e,r,o,u=!1){return new pg({sa:e,methodName:r,fa:o,path:$r.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function hd(i){const e=i._freezeSettings(),r=ao(i._databaseId);return new ZI(i._databaseId,!!e.ignoreUndefinedProperties,r)}function gg(i,e,r,o,u,h={}){const g=i.da(h.merge||h.mergeFields?2:0,e,r,u);Eg("Data must be an object, but it was:",g,o);const I=ky(o,g);let A,F;if(h.merge)A=new Ls(g.fieldMask),F=g.fieldTransforms;else if(h.mergeFields){const G=[];for(const Q of h.mergeFields){const ge=wc(e,Q,r);if(!g.contains(ge))throw new $e(De.INVALID_ARGUMENT,`Field '${ge}' is specified in your field mask but missing from your input data.`);QI(G,ge)||G.push(ge)}A=new Ls(G),F=g.fieldTransforms.filter(Q=>A.covers(Q.field))}else A=null,F=g.fieldTransforms;return new qI(new Ci(I),A,F)}class wf extends dd{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function b0(i,e,r){return new pg({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:r},e.databaseId,e.It,e.ignoreUndefinedProperties)}class mg extends dd{_toFieldTransform(e){return new Jc(e.path,new Wu)}isEqual(e){return e instanceof mg}}class D0 extends dd{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=b0(this,e,!0),o=this._a.map(h=>ml(h,r)),u=new zu(o);return new Jc(e.path,u)}isEqual(e){return this===e}}class C0 extends dd{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=b0(this,e,!0),o=this._a.map(h=>ml(h,r)),u=new Xo(o);return new Jc(e.path,u)}isEqual(e){return this===e}}class T0 extends dd{constructor(e,r){super(e),this.wa=r}_toFieldTransform(e){const r=new du(e.It,bt(e.It,this.wa));return new Jc(e.path,r)}isEqual(e){return this===e}}function yg(i,e,r,o){const u=i.da(1,e,r);Eg("Data must be an object, but it was:",u,o);const h=[],g=Ci.empty();Pl(o,(A,F)=>{const G=Ig(e,A,r);F=(0,yn.m9)(F);const Q=u.ca(G);if(F instanceof wf)h.push(G);else{const ge=ml(F,Q);null!=ge&&(h.push(G),g.set(G,ge))}});const I=new Ls(h);return new I0(g,I,u.fieldTransforms)}function _g(i,e,r,o,u,h){const g=i.da(1,e,r),I=[wc(e,o,r)],A=[u];if(h.length%2!=0)throw new $e(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ge=0;ge<h.length;ge+=2)I.push(wc(e,h[ge])),A.push(h[ge+1]);const F=[],G=Ci.empty();for(let ge=I.length-1;ge>=0;--ge)if(!QI(F,I[ge])){const xe=I[ge];let Me=A[ge];Me=(0,yn.m9)(Me);const st=g.ca(xe);if(Me instanceof wf)F.push(xe);else{const ht=ml(Me,st);null!=ht&&(F.push(xe),G.set(xe,ht))}}const Q=new Ls(F);return new I0(G,Q,g.fieldTransforms)}function Py(i,e,r,o=!1){return ml(r,i.da(o?4:3,e))}function ml(i,e){if(vg(i=(0,yn.m9)(i)))return Eg("Unsupported field value:",e,i),ky(i,e);if(i instanceof dd)return function(r,o){if(!w0(o.sa))throw o.ha(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const g of r){let I=ml(g,o.aa(h));null==I&&(I={nullValue:"NULL_VALUE"}),u.push(I),h++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if(null===(r=(0,yn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return bt(o.It,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=vr.fromDate(r);return{timestampValue:Bd(o.It,u)}}if(r instanceof vr){const u=new vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(o.It,u)}}if(r instanceof fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yu)return{bytesValue:q_(o.It,r._byteString)};if(r instanceof Sr){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.ha(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kh(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.ha(`Unsupported field value: ${_f(r)}`)}(i,e)}function ky(i,e){const r={};return iu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(i,(o,u)=>{const h=ml(u,e.ra(o));null!=h&&(r[o]=h)}),{mapValue:{fields:r}}}function vg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof vr||i instanceof fg||i instanceof Yu||i instanceof Sr||i instanceof dd)}function Eg(i,e,r){if(!vg(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=_f(r);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function wc(i,e,r){if((e=(0,yn.m9)(e))instanceof Ic)return e._internalPath;if("string"==typeof e)return Ig(i,e);throw bc("Field path arguments must be of type string or ",i,!1,void 0,r)}const YI=new RegExp("[~\\*/\\[\\]]");function Ig(i,e,r){if(e.search(YI)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Ic(...e.split("."))._internalPath}catch(o){throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function bc(i,e,r,o,u){const h=o&&!o.isEmpty(),g=void 0!==u;let I=`Function ${e}() called with invalid data`;r&&(I+=" (via `toFirestore()`)"),I+=". ";let A="";return(h||g)&&(A+=" (found",h&&(A+=` in field ${o}`),g&&(A+=` in document ${u}`),A+=")"),new $e(De.INVALID_ARGUMENT,I+i+A)}function QI(i,e){return i.some(r=>r.isEqual(e))}class fd{constructor(e,r,o,u,h){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(bf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class uD extends fd{data(){return super.data()}}function bf(i,e){return"string"==typeof e?Ig(i,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}function Fy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new $e(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}function xt(i,...e){for(const r of e)i=r._apply(i);return i}class JI extends wg{constructor(e,r,o){super(),this.ma=e,this.ga=r,this.ya=o,this.type="where"}_apply(e){const r=hd(e.firestore),o=function(u,h,g,I,A,F,G){let Q;if(A.isKeyField()){if("array-contains"===F||"array-contains-any"===F)throw new $e(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${F}' queries on documentId().`);if("in"===F||"not-in"===F){Uy(G,F);const xe=[];for(const Me of G)xe.push(Vy(I,u,Me));Q={arrayValue:{values:xe}}}else Q=Vy(I,u,G)}else"in"!==F&&"not-in"!==F&&"array-contains-any"!==F||Uy(G,F),Q=Py(g,"where",G,"in"===F||"not-in"===F);const ge=ri.create(A,F,Q);return function(xe,Me){if(Me.dt()){const ht=zl(xe);if(null!==ht&&!ht.isEqual(Me.field))throw new $e(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ht.toString()}' and '${Me.field.toString()}'`);const Cn=Wl(xe);null!==Cn&&R0(0,Me.field,Cn)}const st=function(ht,Cn){for(const er of ht.filters)if(Cn.indexOf(er.op)>=0)return er.op;return null}(xe,function(ht){switch(ht){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Me.op));if(null!==st)throw new $e(De.INVALID_ARGUMENT,st===Me.op?`Invalid query. You cannot use more than one '${Me.op.toString()}' filter.`:`Invalid query. You cannot use '${Me.op.toString()}' filters with '${st.toString()}' filters.`)}(u,ge),ge}(e._query,0,r,e.firestore._databaseId,this.ma,this.ga,this.ya);return new xs(e.firestore,e.converter,function(u,h){const g=u.filters.concat([h]);return new lu(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class ew extends wg{constructor(e,r){super(),this.ma=e,this.pa=r,this.type="orderBy"}_apply(e){const r=function(o,u,h){if(null!==o.startAt)throw new $e(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new $e(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Hu(u,h);return function(I,A){if(null===Wl(I)){const F=zl(I);null!==F&&R0(0,F,A.field)}}(o,g),g}(e._query,this.ma,this.pa);return new xs(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new lu(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class S0 extends wg{constructor(e,r,o){super(),this.type=e,this.Ia=r,this.Ta=o}_apply(e){return new xs(e.firestore,e.converter,d(e._query,this.Ia,this.Ta))}}class ii extends wg{constructor(e,r,o){super(),this.type=e,this.Ea=r,this.Aa=o}_apply(e){const r=Ly(e,this.type,this.Ea,this.Aa);return new xs(e.firestore,e.converter,(u=r,new lu((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Tg extends wg{constructor(e,r,o){super(),this.type=e,this.Ea=r,this.Aa=o}_apply(e){const r=Ly(e,this.type,this.Ea,this.Aa);return new xs(e.firestore,e.converter,(u=r,new lu((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Ly(i,e,r,o){if(r[0]=(0,yn.m9)(r[0]),r[0]instanceof fd)return function(u,h,g,I,A){if(!I)throw new $e(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const F=[];for(const G of mc(u))if(G.field.isKeyField())F.push(pc(h,I.key));else{const Q=I.data.field(G.field);if(xd(Q))throw new $e(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+G.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Q){const ge=G.field.canonicalString();throw new $e(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ge}' (used as the orderBy) does not exist.`)}F.push(Q)}return new Na(F,A)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const u=hd(i.firestore);return function(h,g,I,A,F,G){const Q=h.explicitOrderBy;if(F.length>Q.length)throw new $e(De.INVALID_ARGUMENT,`Too many arguments provided to ${A}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ge=[];for(let xe=0;xe<F.length;xe++){const Me=F[xe];if(Q[xe].field.isKeyField()){if("string"!=typeof Me)throw new $e(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${A}(), but got a ${typeof Me}`);if(!Vh(h)&&-1!==Me.indexOf("/"))throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${A}() must be a plain document ID, but '${Me}' contains a slash.`);const st=h.path.child(An.fromString(Me));if(!at.isDocumentKey(st))throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${A}() must result in a valid document path, but '${st}' is not because it contains an odd number of segments.`);const ht=new at(st);ge.push(pc(g,ht))}else{const st=Py(I,A,Me);ge.push(st)}}return new Na(ge,G)}(i._query,i.firestore._databaseId,u,e,r,o)}}function Vy(i,e,r){if("string"==typeof(r=(0,yn.m9)(r))){if(""===r)throw new $e(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vh(e)&&-1!==r.indexOf("/"))throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(An.fromString(r));if(!at.isDocumentKey(o))throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return pc(i,new at(o))}if(r instanceof Sr)return pc(i,r._key);throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(r)}.`)}function Uy(i,e){if(!Array.isArray(i)||0===i.length)throw new $e(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new $e(De.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function R0(i,e,r){if(!r.isEqual(e))throw new $e(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class By{convertValue(e,r="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw vt()}}convertObject(e,r){const o={};return Pl(e.fields,(u,h)=>{o[u]=this.convertValue(h,r)}),o}convertGeoPoint(e){return new fg(Wr(e.latitude),Wr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=np(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const r=Aa(e);return new vr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=An.fromString(e);At(GE(o));const u=new xa(o.get(1),o.get(3)),h=new at(o.popFirst(5));return u.isEqual(r)||Cr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function Sg(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class Df extends By{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}class pd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dc extends fd{constructor(e,r,o,u,h,g){super(e,r,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(bf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Cf extends Dc{data(e={}){return super.data(e)}}class Eu{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new pd(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Cf(this._firestore,this._userDataWriter,o.key,o,new pd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $e(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Cf(o._firestore,o._userDataWriter,g.doc.key,g.doc,new pd(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const I=new Cf(o._firestore,o._userDataWriter,g.doc.key,g.doc,new pd(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let A=-1,F=-1;return 0!==g.type&&(A=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),F=h.indexOf(g.doc.key)),{type:N0(g.type),doc:I,oldIndex:A,newIndex:F}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function N0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function jy(i,e){return i instanceof Dc&&e instanceof Dc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Eu&&e instanceof Eu&&i._firestore===e._firestore&&Ay(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class yl extends By{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}function $y(i,e,r){i=In(i,Sr);const o=In(i.firestore,Fr),u=Sg(i.converter,e,r);return lh(o,[gg(hd(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,kr.none())])}function Hy(i,e,r,...o){i=In(i,Sr);const u=In(i.firestore,Fr),h=hd(u);let g;return g="string"==typeof(e=(0,yn.m9)(e))||e instanceof Ic?_g(h,"updateDoc",i._key,e,r,o):yg(h,"updateDoc",i._key,e),lh(u,[g.toMutation(i._key,kr.exists(!0))])}function Gy(i,...e){var r,o,u;i=(0,yn.m9)(i);let h={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||lg(e[g])||(h=e[g],g++);const I={includeMetadataChanges:h.includeMetadataChanges};if(lg(e[g])){const Q=e[g];e[g]=null===(r=Q.next)||void 0===r?void 0:r.bind(Q),e[g+1]=null===(o=Q.error)||void 0===o?void 0:o.bind(Q),e[g+2]=null===(u=Q.complete)||void 0===u?void 0:u.bind(Q)}let A,F,G;if(i instanceof Sr)F=In(i.firestore,Fr),G=Gl(i._key.path),A={next:Q=>{e[g]&&e[g](P0(F,i,Q))},error:e[g+1],complete:e[g+2]};else{const Q=In(i,xs);F=In(Q.firestore,Fr),G=Q._query;const ge=new yl(F);A={next:xe=>{e[g]&&e[g](new Eu(F,ge,Q,xe))},error:e[g+1],complete:e[g+2]},Fy(i._query)}return function(Q,ge,xe,Me){const st=new vf(Me),ht=new Uv(ge,st,xe);return Q.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Lv(yield Hs(Q),ht)})),()=>{st.bc(),Q.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Jp(yield Hs(Q),ht)}))}}(di(F),G,I,A)}function lh(i,e){return function(r,o){const u=new ci;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,e,r){return Gv.apply(this,arguments)}(yield ka(r),o,u)})),u.promise}(di(i),e)}function P0(i,e,r){const o=r.docs.get(e._key),u=new yl(i);return new Dc(i,u,e._key,o,new pd(r.hasPendingWrites,r.fromCache),e.converter)}const lD={maxAttempts:5};class Wy{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=hd(e)}set(e,r,o){this._verifyNotCommitted();const u=Iu(e,this._firestore),h=Sg(u.converter,r,o),g=gg(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,kr.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const h=Iu(e,this._firestore);let g;return g="string"==typeof(r=(0,yn.m9)(r))||r instanceof Ic?_g(this._dataReader,"WriteBatch.update",h._key,r,o,u):yg(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(g.toMutation(h._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Iu(e,this._firestore);return this._mutations=this._mutations.concat(new el(r._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(i,e){if((i=(0,yn.m9)(i)).firestore!==e)throw new $e(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class aw extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=hd(e)}get(e){const r=Iu(e,this._firestore),o=new Df(this._firestore);return this._transaction.lookup([r._key]).then(u=>{if(!u||1!==u.length)return vt();const h=u[0];if(h.isFoundDocument())return new fd(this._firestore,o,h.key,h,r.converter);if(h.isNoDocument())return new fd(this._firestore,o,r._key,null,r.converter);throw vt()})}set(e,r,o){const u=Iu(e,this._firestore),h=Sg(u.converter,r,o),g=gg(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,r,o,...u){const h=Iu(e,this._firestore);let g;return g="string"==typeof(r=(0,yn.m9)(r))||r instanceof Ic?_g(this._dataReader,"Transaction.update",h._key,r,o,u):yg(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,g),this}delete(e){const r=Iu(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Iu(e,this._firestore),o=new yl(this._firestore);return super.get(e).then(u=>new Dc(this._firestore,o,r._key,u._document,new pd(!1,!1),r.converter))}}function _l(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function F0(){if("undefined"==typeof Uint8Array)throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function Ky(){if("undefined"==typeof atob)throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Jo=Ni.SDK_VERSION,(0,Ni._registerComponent)(new Ei.wA("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),g=new Fr(new Jf(r.getProvider("auth-internal")),new im(r.getProvider("app-check-internal")),function(I,A){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new $e(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(I.options.projectId,A)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,Ni.registerVersion)(uc,"3.7.1",i),(0,Ni.registerVersion)(uc,"3.7.1","esm2017")}();class xf{constructor(e){this._delegate=e}static fromBase64String(e){return Ky(),new xf(Yu.fromBase64String(e))}static fromUint8Array(e){return F0(),new xf(Yu.fromUint8Array(e))}toBase64(){return Ky(),this._delegate.toBase64()}toUint8Array(){return F0(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ag(i){return function(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class L0{enableIndexedDbPersistence(e,r){return function(i,e){E0(i=In(i,Fr));const r=di(i),o=i._freezeSettings(),u=new yf;return Oy(r,u,new Iy(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(i){E0(i=In(i,Fr));const e=di(i),r=i._freezeSettings(),o=new yf;return Oy(e,o,new e0(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(i){if(i._initialized&&!i._terminated)throw new $e(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(r=(0,Ae.Z)(function*(o){if(!li.C())return Promise.resolve();const u=o+"main";yield li.delete(u)}),function(o){return r.apply(this,arguments)})(vv(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class V0{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof xa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Ca("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function(i,e,r,o={}){var u;const h=(i=In(i,uh))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&Ca("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let g,I;if("string"==typeof o.mockUserToken)g=o.mockUserToken,I=fr.MOCK_USER;else{g=(0,yn.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const A=o.mockUserToken.sub||o.mockUserToken.user_id;if(!A)throw new $e(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new fr(A)}i._authCredentials=new rm(new Yf(g,I))}}(this._delegate,e,r,o)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield vu(i),r=yield My(i);return e.setNetworkEnabled(!0),function(o){const u=ut(o);return u.wu.delete(0),Jd(u)}(r)}))}(di(i=In(i,Fr)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield vu(i),r=yield My(i);return e.setNetworkEnabled(!1),(o=(0,Ae.Z)(function*(u){const h=ut(u);h.wu.add(0),yield cl(h),h.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(r);var o}))}(di(i=In(i,Fr)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,t0("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(e){const r=new ci;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,e){return uy.apply(this,arguments)}(yield ka(e),r)})),r.promise}(di(i=In(i,Fr)))}(this._delegate)}onSnapshotsInSync(e){return function(i,e){return function(i,e){const r=new vf(e);return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield Hs(i),u=r,ut(o).bu.add(u),void u.next();var o,u})),()=>{r.bc(),i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield Hs(i),u=r,void ut(o).bu.delete(u);var o,u}))}}(di(i=In(i,Fr)),lg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fh(this,OI(this._delegate,e))}catch(r){throw uo(r,"collection()","Firestore.collection()")}}doc(e){try{return new La(this,ig(this._delegate,e))}catch(r){throw uo(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new co(this,function(i,e){if(i=In(i,uh),wy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(De.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(i,null,(r=e,new lu(An.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw uo(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(i,e,r){i=In(i,Fr);const o=Object.assign(Object.assign({},lD),void 0);return function(u){if(u.maxAttempts<1)throw new $e(De.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,h,g){const I=new ci;return u.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const A=yield function(i){return Ef(i).then(e=>e.datastore)}(u);new a0(u.asyncQueue,A,g,h,I).run()})),I.promise}(di(i),u=>e(new aw(i,u)),o)}(this._delegate,r=>e(new qy(this,r)))}batch(){return di(this._delegate),new Zy(new Wy(this._delegate,e=>lh(this._delegate,e)))}loadBundle(e){return function(i,e){const r=di(i=In(i,Fr)),o=new f0;return function(i,e,r,o){const u=function(h,g){let I;return I="string"==typeof h?(new TextEncoder).encode(h):h,A=function(A,F){if(A instanceof Uint8Array)return $i(A,F);if(A instanceof ArrayBuffer)return $i(new Uint8Array(A),F);if(A instanceof ReadableStream)return A.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(I),new kI(A,g);var A}(r,ao(e));i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function(i,e,r){const o=ut(i);var u;(u=(0,Ae.Z)(function*(h,g,I){try{const A=yield g.getMetadata();if(yield function(ge,xe){const Me=ut(ge),st=Tr(xe.createTime);return Me.persistence.runTransaction("hasNewerBundle","readonly",ht=>Me.Ns.getBundleMetadata(ht,xe.id)).then(ht=>!!ht&&ht.createTime.compareTo(st)>=0)}(h.localStore,A))return yield g.close(),I._completeWith({taskState:"Success",documentsLoaded:(ge=A).totalDocuments,bytesLoaded:ge.totalBytes,totalDocuments:ge.totalDocuments,totalBytes:ge.totalBytes}),Promise.resolve(new Set);I._updateProgress(bI(A));const F=new rD(A,h.localStore,g.It);let G=yield g.mc();for(;G;){const ge=yield F.Fu(G);ge&&I._updateProgress(ge),G=yield g.mc()}const Q=yield F.complete();return yield yu(h,Q.Lu,void 0),yield function(ge,xe){const Me=ut(ge);return Me.persistence.runTransaction("Save bundle","readwrite",st=>Me.Ns.saveBundleMetadata(st,xe))}(h.localStore,A),I._completeWith(Q.progress),Promise.resolve(Q.Bu)}catch(A){return Ca("SyncEngine",`Loading bundle failed with ${A}`),I._failWith(A),Promise.resolve(new Set)}var ge}),function(h,g,I){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield ka(i),u,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function(i,e){return function(i,e){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(r,o){const u=ut(r);return u.persistence.runTransaction("Get named query","readonly",h=>u.Ns.getNamedQuery(h,o))}(yield ag(i),e)}))}(di(i=In(i,Fr)),e).then(r=>r?new xs(i,null,r.query):null)}(this._delegate,e).then(r=>r?new co(this,r):null)}}class dh extends By{constructor(e){super(),this.firestore=e}convertBytes(e){return new xf(new Yu(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return La.forKey(r,this.firestore,null)}}class qy{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new dh(e)}get(e){const r=md(e);return this._delegate.get(r).then(o=>new hh(this._firestore,new Dc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=md(e);return o?(_l("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const h=md(e);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,o,...u),this}delete(e){const r=md(e);return this._delegate.delete(r),this}}class Zy{constructor(e){this._delegate=e}set(e,r,o){const u=md(e);return o?(_l("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const h=md(e);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,o,...u),this}delete(e){const r=md(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class gd{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rf(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=gd.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let h=u.get(r);return h||(h=new gd(e,new dh(e),r),u.set(r,h)),h}}gd.INSTANCES=new WeakMap;class La{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new dh(e)}static forPath(e,r,o){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new La(r,new Sr(r._delegate,o,new at(e)))}static forKey(e,r,o){return new La(r,new Sr(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new fh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fh(this.firestore,OI(this._delegate,e))}catch(r){throw uo(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yn.m9)(e))instanceof Sr&&Sy(this._delegate,e)}set(e,r){r=_l("DocumentReference.set",r);try{return r?$y(this._delegate,e,r):$y(this._delegate,e)}catch(o){throw uo(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?Hy(this._delegate,e):Hy(this._delegate,e,r,...o)}catch(u){throw uo(u,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return lh(In(i.firestore,Fr),[new el(i._key,kr.none())])}(this._delegate)}onSnapshot(...e){const r=xg(e),o=U0(e,u=>new hh(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Gy(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(i){i=In(i,Sr);const e=In(i.firestore,Fr),r=di(e),o=new yl(e);return function(i,e){const r=new ci;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(u,h,g){try{const I=yield function(A,F){const G=ut(A);return G.persistence.runTransaction("read document","readonly",Q=>G.localDocuments.getDocument(Q,F))}(u,h);I.isFoundDocument()?g.resolve(I):I.isNoDocument()?g.resolve(null):g.reject(new $e(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(I){const A=ih(I,`Failed to get document '${h} from cache`);g.reject(A)}}),function(u,h,g){return o.apply(this,arguments)})(yield ag(i),e,r);var o})),r.promise}(r,i._key).then(u=>new Dc(e,o,i._key,u,new pd(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(i){i=In(i,Sr);const e=In(i.firestore,Fr);return d0(di(e),i._key,{source:"server"}).then(r=>P0(e,i,r))}(this._delegate):function(i){i=In(i,Sr);const e=In(i.firestore,Fr);return d0(di(e),i._key).then(r=>P0(e,i,r))}(this._delegate),r.then(o=>new hh(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new La(this.firestore,this._delegate.withConverter(e?gd.getInstance(this.firestore,e):null))}}function uo(i,e,r){return i.message=i.message.replace(e,r),i}function xg(i){for(const e of i)if("object"==typeof e&&!Ag(e))return e;return{}}function U0(i,e){var r,o;let u;return u=Ag(i[0])?i[0]:Ag(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{u.next&&u.next(e(h))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class hh{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new La(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return jy(this._delegate,e._delegate)}}class Rf extends hh{data(e){const r=this._delegate.data(e);return function(i,e){i||vt()}(void 0!==r),r}}class co{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new dh(e)}where(e,r,o){try{return new co(this.firestore,xt(this._delegate,function(i,e,r){const o=e,u=bf("where",i);return new JI(u,o,r)}(e,r,o)))}catch(u){throw uo(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new co(this.firestore,xt(this._delegate,function(i,e="asc"){const r=e,o=bf("orderBy",i);return new ew(o,r)}(e,r)))}catch(o){throw uo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new co(this.firestore,xt(this._delegate,function(i){return by("limit",i),new S0("limit",i,"F")}(e)))}catch(r){throw uo(r,"limit()","Query.limit()")}}limitToLast(e){try{return new co(this.firestore,xt(this._delegate,function(i){return by("limitToLast",i),new S0("limitToLast",i,"L")}(e)))}catch(r){throw uo(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new co(this.firestore,xt(this._delegate,function(...i){return new ii("startAt",i,!0)}(...e)))}catch(r){throw uo(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new co(this.firestore,xt(this._delegate,function(...i){return new ii("startAfter",i,!1)}(...e)))}catch(r){throw uo(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new co(this.firestore,xt(this._delegate,function(...i){return new Tg("endBefore",i,!1)}(...e)))}catch(r){throw uo(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new co(this.firestore,xt(this._delegate,function(...i){return new Tg("endAt",i,!0)}(...e)))}catch(r){throw uo(r,"endAt()","Query.endAt()")}}isEqual(e){return Ay(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(i){i=In(i,xs);const e=In(i.firestore,Fr),r=di(e),o=new yl(e);return function(i,e){const r=new ci;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(u,h,g){try{const I=yield uf(u,h,!0),A=new CI(h,I.Hi),F=A.Wu(I.documents),G=A.applyChanges(F,!1);g.resolve(G.snapshot)}catch(I){const A=ih(I,`Failed to execute query '${h} against cache`);g.reject(A)}}),function(u,h,g){return o.apply(this,arguments)})(yield ag(i),e,r);var o})),r.promise}(r,i._query).then(u=>new Eu(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function(i){i=In(i,xs);const e=In(i.firestore,Fr),r=di(e),o=new yl(e);return cg(r,i._query,{source:"server"}).then(u=>new Eu(e,o,i,u))}(this._delegate):function(i){i=In(i,xs);const e=In(i.firestore,Fr),r=di(e),o=new yl(e);return Fy(i._query),cg(r,i._query).then(u=>new Eu(e,o,i,u))}(this._delegate),r.then(o=>new Yy(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=xg(e),o=U0(e,u=>new Yy(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Gy(this._delegate,r,o)}withConverter(e){return new co(this.firestore,this._delegate.withConverter(e?gd.getInstance(this.firestore,e):null))}}class mw{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yy{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new mw(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Rf(this._firestore,o))})}isEqual(e){return jy(this._delegate,e._delegate)}}class fh extends co{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new La(this.firestore,e):null}doc(e){try{return new La(this.firestore,void 0===e?ig(this._delegate):ig(this._delegate,e))}catch(r){throw uo(r,"doc()","CollectionReference.doc()")}}add(e){return function(i,e){const r=In(i.firestore,Fr),o=ig(i),u=Sg(i.converter,e);return lh(r,[gg(hd(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,kr.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new La(this.firestore,r))}isEqual(e){return Sy(this._delegate,e._delegate)}withConverter(e){return new fh(this.firestore,this._delegate.withConverter(e?gd.getInstance(this.firestore,e):null))}}function md(i){return In(i,Sr)}class Qy{constructor(...e){this._delegate=new Ic(...e)}static documentId(){return new Qy($r.keyField().canonicalString())}isEqual(e){return(e=(0,yn.m9)(e))instanceof Ic&&this._delegate._internalPath.isEqual(e._internalPath)}}class yd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new mg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new yd(e)}static delete(){const e=new wf("deleteField");return e._methodName="FieldValue.delete",new yd(e)}static arrayUnion(...e){const r=function(...i){return new D0("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new yd(r)}static arrayRemove(...e){const r=function(...i){return new C0("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new yd(r)}static increment(e){const r=function(i){return new T0("increment",i)}(e);return r._methodName="FieldValue.increment",new yd(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const B0={Firestore:V0,GeoPoint:fg,Timestamp:vr,Blob:xf,Transaction:qy,WriteBatch:Zy,DocumentReference:La,DocumentSnapshot:hh,Query:co,QueryDocumentSnapshot:Rf,QuerySnapshot:Yy,CollectionReference:fh,FieldPath:Qy,FieldValue:yd,setLogLevel:function(i){!function(i){Ss.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,e){i.INTERNAL.registerComponent(new Ei.wA("firestore-compat",r=>((e,r)=>new V0(e,r,new L0))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},B0)))})(i),i.registerVersion("@firebase/firestore-compat","0.2.1")}(ko.Z);var $0=B(9765),H0=B(6682),Nf=B(309),vl=B(3190),_w=B(7771),Jy=B(5319),Xy=B(7971),G0=B(8858);class e_ extends $0.xQ{constructor(e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new vw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,h=o.length;let g;if(this.closed)throw new Xy.N;if(this.isStopped||this.hasError?g=Jy.w.EMPTY:(this.observers.push(e),g=new G0.W(this,e)),u&&e.add(e=new Nf.ht(e,u)),r)for(let I=0;I<h&&!e.closed;I++)e.next(o[I]);else for(let I=0;I<h&&!e.closed;I++)e.next(o[I].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),g}_getNow(){return(this.scheduler||_w.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),r=this._bufferSize,o=this._windowTime,u=this._events,h=u.length;let g=0;for(;g<h&&!(e-u[g].time<o);)g++;return h>r&&(g=Math.max(g,h-r)),g>0&&u.splice(0,g),u}}class vw{constructor(e,r){this.time=e,this.value=r}}function W0(i,e,r){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:e,refCount:!1,scheduler:r},u=>u.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:r,scheduler:o}){let u,g,h=0,I=!1,A=!1;return function(G){let Q;h++,!u||I?(I=!1,u=new e_(i,e,o),Q=u.subscribe(this),g=G.subscribe({next(ge){u.next(ge)},error(ge){I=!0,u.error(ge)},complete(){A=!0,g=void 0,u.complete()}}),A&&(g=void 0)):Q=u.subscribe(this),this.add(()=>{h--,Q.unsubscribe(),Q=void 0,g&&!A&&r&&0===h&&(g.unsubscribe(),g=void 0,u=void 0)})}}(o))}var Ew=B(8049);function z0(i,e){return e?(0,vl.w)(()=>i,e):(0,vl.w)(()=>i)}var n_=B(3101);B(2329);const Z0=new Map,Dw={activated:!1,tokenObservers:[]},gD={initialized:!1,enabled:!1};function _s(i){return Z0.get(i)||Dw}function Va(i,e){Z0.set(i,e)}function Ng(){return gD}class Cw{constructor(e,r,o,u,h){if(this.operation=e,this.retryPolicy=r,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=u,u>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var r=this;return(0,Ae.Z)(function*(){r.stop();try{r.pending=new yn.BH,yield function(i){return new Promise(e=>{setTimeout(e,i)})}(r.getNextRun(e)),r.pending.resolve(),yield r.pending.promise,r.pending=new yn.BH,yield r.operation(),r.pending.resolve(),yield r.pending.promise,r.process(!0).catch(()=>{})}catch(o){r.retryPolicy(o)?r.process(!1).catch(()=>{}):r.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}const Gs=new yn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function o_(i){if(!_s(i).activated)throw Gs.create("use-before-activation",{appName:i.name})}function Og(i,e){return ph.apply(this,arguments)}function ph(){return ph=(0,Ae.Z)(function*({url:i,body:e},r){var o,u;const h={"Content-Type":"application/json"},g=r.getImmediate({optional:!0});if(g){const xe=yield g.getHeartbeatsHeader();xe&&(h["X-Firebase-Client"]=xe)}const I={method:"POST",body:JSON.stringify(e),headers:h};let A,F;try{A=yield fetch(i,I)}catch(xe){throw Gs.create("fetch-network-error",{originalErrorMessage:null===(o=xe)||void 0===o?void 0:o.message})}if(200!==A.status)throw Gs.create("fetch-status-error",{httpStatus:A.status});try{F=yield A.json()}catch(xe){throw Gs.create("fetch-parse-error",{originalErrorMessage:null===(u=xe)||void 0===u?void 0:u.message})}const G=F.ttl.match(/^([\d.]+)(s)$/);if(!G||!G[2]||isNaN(Number(G[1])))throw Gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${F.ttl}`});const Q=1e3*Number(G[1]),ge=Date.now();return{token:F.token,expireTimeMillis:ge+Q,issuedAtTimeMillis:ge}}),ph.apply(this,arguments)}function Pg(i,e){const{projectId:r,appId:o,apiKey:u}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${r}/apps/${o}:exchangeDebugToken?key=${u}`,body:{debug_token:e}}}const Lf="firebase-app-check-store";let u_=null;function tE(){return u_||(u_=new Promise((i,e)=>{var r;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=u=>{i(u.target.result)},o.onerror=u=>{var h;e(Gs.create("storage-open",{originalErrorMessage:null===(h=u.target.error)||void 0===h?void 0:h.message}))},o.onupgradeneeded=u=>{0===u.oldVersion&&u.target.result.createObjectStore(Lf,{keyPath:"compositeKey"})}}catch(o){e(Gs.create("storage-open",{originalErrorMessage:null===(r=o)||void 0===r?void 0:r.message}))}}),u_)}function c_(){return c_=(0,Ae.Z)(function*(i,e){const o=(yield tE()).transaction(Lf,"readwrite"),h=o.objectStore(Lf).put({compositeKey:i,value:e});return new Promise((g,I)=>{h.onsuccess=A=>{g()},o.onerror=A=>{var F;I(Gs.create("storage-set",{originalErrorMessage:null===(F=A.target.error)||void 0===F?void 0:F.message}))}})}),c_.apply(this,arguments)}const Vf=new ls.Yd("@firebase/app-check");function h_(i,e){return(0,yn.hl)()?function(i,e){return function(i,e){return c_.apply(this,arguments)}(function(i){return`${i.options.appId}-${i.name}`}(i),e)}(i,e).catch(r=>{Vf.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}function Il(){return Ng().enabled}function f_(){return p_.apply(this,arguments)}function p_(){return p_=(0,Ae.Z)(function*(){const i=Ng();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),p_.apply(this,arguments)}const kw={error:"UNKNOWN_ERROR"};function Fg(i){return yn.US.encodeString(JSON.stringify(i),!1)}function Lg(i){return g_.apply(this,arguments)}function g_(){return g_=(0,Ae.Z)(function*(i,e=!1){const r=i.app;o_(r);const o=_s(r);let h,u=o.token;if(u&&!mh(u)&&(Va(r,Object.assign(Object.assign({},o),{token:void 0})),u=void 0),!u){const A=yield o.cachedTokenPromise;A&&(mh(A)?u=A:yield h_(r,void 0))}if(!e&&u&&mh(u))return{token:u.token};let I,g=!1;if(Il()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Og(Pg(r,yield f_()),i.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),g=!0);const A=yield o.exchangeTokenPromise;return yield h_(r,A),Va(r,Object.assign(Object.assign({},o),{token:A})),{token:A.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),g=!0),u=yield o.exchangeTokenPromise}catch(A){"appCheck/throttled"===A.code?Vf.warn(A.message):Vf.error(A),h=A}return u?h?I=mh(u)?{token:u.token,internalError:h}:sE(h):(I={token:u.token},Va(r,Object.assign(Object.assign({},o),{token:u})),yield h_(r,u)):I=sE(h),g&&m_(r,I),I}),g_.apply(this,arguments)}function Ug(i,e){const r=_s(i),o=r.tokenObservers.filter(u=>u.next!==e);0===o.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),Va(i,Object.assign(Object.assign({},r),{tokenObservers:o}))}function Bg(i){const{app:e}=i,r=_s(e);let o=r.tokenRefresher;o||(o=function(i){const{app:e}=i;return new Cw((0,Ae.Z)(function*(){let o;if(o=_s(e).token?yield Lg(i,!0):yield Lg(i),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const r=_s(e);if(r.token){let o=r.token.issuedAtTimeMillis+.5*(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,r.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),Va(e,Object.assign(Object.assign({},r),{tokenRefresher:o}))),!o.isRunning()&&r.isTokenAutoRefreshEnabled&&o.start()}function m_(i,e){const r=_s(i).tokenObservers;for(const o of r)try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch(u){}}function mh(i){return i.expireTimeMillis-Date.now()>0}function sE(i){return{token:Fg(kw),error:i}}class oE{constructor(e,r){this.app=e,this.heartbeatServiceProvider=r}_delete(){const{tokenObservers:e}=_s(this.app);for(const r of e)Ug(this.app,r.next);return Promise.resolve()}}const Gg="app-check-internal";(0,Ni._registerComponent)(new Ei.wA("app-check",i=>function(i,e){return new oE(i,e)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,r)=>{i.getProvider(Gg).initialize()})),(0,Ni._registerComponent)(new Ei.wA(Gg,i=>function(i){return{getToken:e=>Lg(i,e),addTokenListener:e=>function(i,e,r,o){const{app:u}=i,h=_s(u),g={next:r,error:o,type:e};if(Va(u,Object.assign(Object.assign({},h),{tokenObservers:[...h.tokenObservers,g]})),h.token&&mh(h.token)){const I=h.token;Promise.resolve().then(()=>{r({token:I.token}),Bg(i)}).catch(()=>{})}h.cachedTokenPromise.then(()=>Bg(i))}(i,"INTERNAL",e),removeTokenListener:e=>Ug(i.app,e)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ni.registerVersion)("@firebase/app-check","0.5.15");class Sc{constructor(){return(0,ir.vb)("app-check")}}"undefined"!=typeof window&&window;var b_=B(7841);const $w=new x.OlP("angularfire2.auth.use-emulator"),Xt=new x.OlP("angularfire2.auth.settings"),Hw=new x.OlP("angularfire2.auth.tenant-id"),Ih=new x.OlP("angularfire2.auth.langugage-code"),gE=new x.OlP("angularfire2.auth.use-device-language"),mE=new x.OlP("angularfire.auth.persistence"),yE=(i,e,r,o,u,h,g,I)=>(0,Kn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const A=e.runOutsideAngular(()=>i.auth());if(r&&A.useEmulator(...r),o&&(A.tenantId=o),A.languageCode=u,h&&A.useDeviceLanguage(),g)for(const[F,G]of Object.entries(g))A.settings[F]=G;return I&&A.setPersistence(I),A},[r,o,u,h,g,I]);let Gw=(()=>{class i{constructor(r,o,u,h,g,I,A,F,G,Q,ge,xe){const Me=new $0.xQ,st=(0,cs.of)(void 0).pipe((0,Nf.QV)(g.outsideAngular),(0,vl.w)(()=>h.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,8241)))),(0,mr.U)(()=>(0,Kn.on)(r,h,o)),(0,mr.U)(ht=>yE(ht,h,I,F,G,Q,A,ge)),W0({bufferSize:1,refCount:!1}));if((0,S.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,cs.of)(null);else{st.pipe((0,Ew.P)()).subscribe();const Cn=st.pipe((0,vl.w)(dn=>dn.getRedirectResult().then(on=>on,()=>null)),ir.iC,W0({bufferSize:1,refCount:!1})),er=st.pipe((0,vl.w)(dn=>new Dn.y(on=>({unsubscribe:h.runOutsideAngular(()=>dn.onAuthStateChanged(pn=>on.next(pn),pn=>on.error(pn),()=>on.complete()))})))),fn=st.pipe((0,vl.w)(dn=>new Dn.y(on=>({unsubscribe:h.runOutsideAngular(()=>dn.onIdTokenChanged(pn=>on.next(pn),pn=>on.error(pn),()=>on.complete()))}))));this.authState=Cn.pipe(z0(er),(0,n_.R)(g.outsideAngular),(0,Nf.QV)(g.insideAngular)),this.user=Cn.pipe(z0(fn),(0,n_.R)(g.outsideAngular),(0,Nf.QV)(g.insideAngular)),this.idToken=this.user.pipe((0,vl.w)(dn=>dn?(0,zi.D)(dn.getIdToken()):(0,cs.of)(null))),this.idTokenResult=this.user.pipe((0,vl.w)(dn=>dn?(0,zi.D)(dn.getIdTokenResult()):(0,cs.of)(null))),this.credential=(0,H0.T)(Cn,Me,this.authState.pipe((0,vi.h)(dn=>!dn))).pipe((0,mr.U)(dn=>(null==dn?void 0:dn.user)?dn:null),(0,n_.R)(g.outsideAngular),(0,Nf.QV)(g.insideAngular))}return(0,Kn.pX)(this,st,h,{spy:{apply:(ht,Cn,er)=>{(ht.startsWith("signIn")||ht.startsWith("createUser"))&&er.then(fn=>Me.next(fn))}}})}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(Kn.Dh),x.LFG(Kn.xv,8),x.LFG(x.Lbi),x.LFG(x.R0b),x.LFG(ir.HU),x.LFG($w,8),x.LFG(Xt,8),x.LFG(Hw,8),x.LFG(Ih,8),x.LFG(gE,8),x.LFG(mE,8),x.LFG(Sc,8))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Rs(i,e){return function(i,e=Wi.z){return new Dn.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function D_(i,e){return Rs(i,e).pipe((0,mr.U)(r=>({payload:r,type:"query"})))}function wh(i,e){return D_(i,e).pipe((0,yi.O)(void 0),Ki(),(0,mr.U)(([r,o])=>{const u=o.payload.docChanges(),h=u.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,I)=>{const A=u.find(G=>G.doc.ref.isEqual(g.ref)),F=null==r?void 0:r.payload.docs.find(G=>G.ref.isEqual(g.ref));A&&JSON.stringify(A.doc.metadata)===JSON.stringify(g.metadata)||!A&&F&&JSON.stringify(F.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:I,newIndex:I,type:"modified",doc:g}})}),h}))}function _E(i,e,r){return wh(i,r).pipe((0,_i.R)((o,u)=>function(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return C_(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return C_(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return C_(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(h=>h.payload),e),[]),r=>r.lift(new Zs(void 0,void 0)),(0,mr.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function C_(i,e,r,...o){const u=i.slice();return u.splice(e,r,...o),u}function vE(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class EE{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=wh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,mr.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,yi.O)(void 0),Ki(),(0,vi.h)(([o,u])=>u.length>0||!o),(0,mr.U)(([o,u])=>u),ir.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_i.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=vE(e);return _E(this.query,r,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(e={}){return D_(this.query,this.afs.schedulers.outsideAngular).pipe((0,mr.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ir.iC)}get(e){return(0,zi.D)(this.query.get(e)).pipe(ir.iC)}add(e){return this.ref.add(e)}doc(e){return new zg(this.ref.doc(e),this.afs)}}class zg{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:h}=Qw(o,r);return new EE(u,h,this.afs)}snapshotChanges(){return function(i,e){return Rs(i,e).pipe((0,yi.O)(void 0),Ki(),(0,mr.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mr.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,zi.D)(this.ref.get(e)).pipe(ir.iC)}}class Zw{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?wh(this.query,this.afs.schedulers.outsideAngular).pipe((0,mr.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,vi.h)(r=>r.length>0),ir.iC):wh(this.query,this.afs.schedulers.outsideAngular).pipe(ir.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_i.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=vE(e);return _E(this.query,r,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(e={}){return D_(this.query,this.afs.schedulers.outsideAngular).pipe((0,mr.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ir.iC)}get(e){return(0,zi.D)(this.query.get(e)).pipe(ir.iC)}}const IE=new x.OlP("angularfire2.enableFirestorePersistence"),T_=new x.OlP("angularfire2.firestore.persistenceSettings"),S_=new x.OlP("angularfire2.firestore.settings"),Yw=new x.OlP("angularfire2.firestore.use-emulator");function Qw(i,e=(r=>r)){return{query:e(i),ref:i}}let Jw=(()=>{class i{constructor(r,o,u,h,g,I,A,F,G,Q,ge,xe,Me,st,ht,Cn,er){this.schedulers=A;const fn=(0,Kn.on)(r,I,o),dn=G;Q&&yE(fn,I,ge,Me,st,ht,xe,Cn),[this.firestore,this.persistenceEnabled$]=(0,Kn.cc)(`${fn.name}.firestore`,"AngularFirestore",fn.name,()=>{const on=I.runOutsideAngular(()=>fn.firestore());if(h&&on.settings(h),dn&&on.useEmulator(...dn),u&&!(0,S.PM)(g)){const pn=()=>{try{return(0,zi.D)(on.enablePersistence(F||void 0).then(()=>!0,()=>!1))}catch(ss){return"undefined"!=typeof console&&console.warn(ss),(0,cs.of)(!1)}};return[on,I.runOutsideAngular(pn)]}return[on,(0,cs.of)(!1)]},[h,dn,u])}collection(r,o){let u;u="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:g}=Qw(u,o),I=this.schedulers.ngZone.run(()=>h);return new EE(I,g,this)}collectionGroup(r,o){const u=o||(g=>g),h=this.firestore.collectionGroup(r);return new Zw(u(h),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const u=this.schedulers.ngZone.run(()=>o);return new zg(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(x.LFG(Kn.Dh),x.LFG(Kn.xv,8),x.LFG(IE,8),x.LFG(S_,8),x.LFG(x.Lbi),x.LFG(x.R0b),x.LFG(ir.HU),x.LFG(T_,8),x.LFG(Yw,8),x.LFG(Gw,8),x.LFG($w,8),x.LFG(Xt,8),x.LFG(Hw,8),x.LFG(Ih,8),x.LFG(gE,8),x.LFG(mE,8),x.LFG(Sc,8))},i.\u0275prov=x.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Xw=(()=>{class i{constructor(){b_.Z.registerVersion("angularfire",ir.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:IE,useValue:!0},{provide:T_,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({providers:[Jw]}),i})();const eb={apiKey:"AIzaSyCpALxydPCsA4EXBWAkini0flkt1_4D8nU",authDomain:"shreyasambreportfoliofirbseapp.firebaseapp.com",projectId:"shreyasambreportfoliofirbseapp",storageBucket:"shreyasambreportfoliofirbseapp.appspot.com",messagingSenderId:"485676699494",appId:"1:485676699494:web:76a996c03c10d6357142a7",measurementId:"G-5PX06KD7L3"};let tb=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=x.oAB({type:i,bootstrap:[ho]}),i.\u0275inj=x.cJS({providers:[qs.f],imports:[[pt,Xr,Kn.hO.initializeApp(eb),Xw]]}),i})();(0,x.G48)(),Se().bootstrapModule(tb).catch(i=>console.error(i))},3394:(Je,Ie,B)=>{"use strict";B.d(Ie,{Z:()=>Pe});var S=B(3854),x=B(3910),W=B(8026),fe=B(5422);class ae{constructor(Te,je){this._delegate=Te,this.firebase=je,(0,W._addComponent)(Te,new x.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Te,je=W._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Te);return!Le.isInitialized()&&"EXPLICIT"===(null===(Ve=Le.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:je})}_removeServiceInstance(Te,je=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(je)}_addComponent(Te){(0,W._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,W._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function ue(){const Ne=function(Ne){const Te={},je={__esModule:!0,initializeApp:function(Bt,Ye={}){const Ge=W.initializeApp(Bt,Ye);if((0,S.r3)(Te,Ge.name))return Te[Ge.name];const tt=new Ne(Ge,je);return Te[Ge.name]=tt,tt},app:Le,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function(Bt){const Ye=Bt.name,Ge=Ye.replace("-compat","");if(W._registerComponent(Bt)&&"PUBLIC"===Bt.type){const tt=(mt=Le())=>{if("function"!=typeof mt[Ge])throw _e.create("invalid-app-argument",{appName:Ye});return mt[Ge]()};void 0!==Bt.serviceProps&&(0,S.ZB)(tt,Bt.serviceProps),je[Ge]=tt,Ne.prototype[Ge]=function(...mt){return this._getService.bind(this,Ye).apply(this,Bt.multipleInstances?mt:[])}}return"PUBLIC"===Bt.type?je[Ge]:null},removeApp:function(Bt){delete Te[Bt]},useAsService:function(Bt,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:W}};function Le(Bt){if(!(0,S.r3)(Te,Bt=Bt||W._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Bt});return Te[Bt]}return je.default=je,Object.defineProperty(je,"apps",{get:function(){return Object.keys(Te).map(Bt=>Te[Bt])}}),Le.App=Ne,je}(ae);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function(je){(0,S.ZB)(Ne,je)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),Ne}(),q=new fe.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=K;(0,W.registerVersion)("@firebase/app-compat","0.1.37",undefined)},8026:(Je,Ie,B)=>{"use strict";B.r(Ie),B.d(Ie,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>Vr,_addComponent:()=>Ai,_addOrOverwriteComponent:()=>Ms,_apps:()=>Er,_clearComponents:()=>gn,_components:()=>qr,_getProvider:()=>tn,_registerComponent:()=>Wn,_removeServiceInstance:()=>Zr,deleteApp:()=>Ar,getApp:()=>On,getApps:()=>We,initializeApp:()=>Ln,onLog:()=>xn,registerVersion:()=>_n,setLogLevel:()=>vs});var S=B(8239),x=B(3910),W=B(5422),fe=B(3854),ae=B(5742);class se{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function(ct){const ke=ct.getComponent();return"VERSION"===(null==ke?void 0:ke.type)}(ze)){const Tt=ze.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(ze=>ze).join(" ")}}const oe="@firebase/app",K=new W.Yd("@firebase/app"),Vr="[DEFAULT]",ra={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Er=new Map,qr=new Map;function Ai(ct,ke){try{ct.container.addComponent(ke)}catch(ze){K.debug(`Component ${ke.name} failed to register with FirebaseApp ${ct.name}`,ze)}}function Ms(ct,ke){ct.container.addOrOverwriteComponent(ke)}function Wn(ct){const ke=ct.name;if(qr.has(ke))return K.debug(`There were multiple attempts to register component ${ke}.`),!1;qr.set(ke,ct);for(const ze of Er.values())Ai(ze,ct);return!0}function tn(ct,ke){const ze=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),ct.container.getProvider(ke)}function Zr(ct,ke,ze=Vr){tn(ct,ke).clearInstance(ze)}function gn(){qr.clear()}const Ot=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ir{constructor(ke,ze,Tt){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const os="9.12.1";function Ln(ct,ke={}){let ze=ct;"object"!=typeof ke&&(ke={name:ke});const Tt=Object.assign({name:Vr,automaticDataCollectionEnabled:!1},ke),Ut=Tt.name;if("string"!=typeof Ut||!Ut)throw Ot.create("bad-app-name",{appName:String(Ut)});if(ze||(ze=(0,fe.aH)()),!ze)throw Ot.create("no-options");const an=Er.get(Ut);if(an){if((0,fe.vZ)(ze,an.options)&&(0,fe.vZ)(Tt,an.config))return an;throw Ot.create("duplicate-app",{appName:Ut})}const te=new x.H0(Ut);for(const re of qr.values())te.addComponent(re);const J=new Ir(ze,Tt,te);return Er.set(Ut,J),J}function On(ct=Vr){const ke=Er.get(ct);if(!ke&&ct===Vr)return Ln();if(!ke)throw Ot.create("no-app",{appName:ct});return ke}function We(){return Array.from(Er.values())}function Ar(ct){return wn.apply(this,arguments)}function wn(){return(wn=(0,S.Z)(function*(ct){const ke=ct.name;Er.has(ke)&&(Er.delete(ke),yield Promise.all(ct.container.getProviders().map(ze=>ze.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function _n(ct,ke,ze){var Tt;let Ut=null!==(Tt=ra[ct])&&void 0!==Tt?Tt:ct;ze&&(Ut+=`-${ze}`);const an=Ut.match(/\s|\//),te=ke.match(/\s|\//);if(an||te){const J=[`Unable to register library "${Ut}" with version "${ke}":`];return an&&J.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),an&&te&&J.push("and"),te&&J.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void K.warn(J.join(" "))}Wn(new x.wA(`${Ut}-version`,()=>({library:Ut,version:ke}),"VERSION"))}function xn(ct,ke){if(null!==ct&&"function"!=typeof ct)throw Ot.create("invalid-log-argument");(0,W.Am)(ct,ke)}function vs(ct){(0,W.Ub)(ct)}const pi="firebase-heartbeat-store";let si=null;function xi(){return si||(si=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(ct,ke)=>{0===ke&&ct.createObjectStore(pi)}}).catch(ct=>{throw Ot.create("idb-open",{originalErrorMessage:ct.message})})),si}function wt(){return(wt=(0,S.Z)(function*(ct){var ke;try{return(yield xi()).transaction(pi).objectStore(pi).get(Hi(ct))}catch(ze){if(ze instanceof fe.ZR)K.warn(ze.message);else{const Tt=Ot.create("idb-get",{originalErrorMessage:null===(ke=ze)||void 0===ke?void 0:ke.message});K.warn(Tt.message)}}})).apply(this,arguments)}function Et(ct,ke){return gr.apply(this,arguments)}function gr(){return(gr=(0,S.Z)(function*(ct,ke){var ze;try{const Ut=(yield xi()).transaction(pi,"readwrite");return yield Ut.objectStore(pi).put(ke,Hi(ct)),Ut.done}catch(Tt){if(Tt instanceof fe.ZR)K.warn(Tt.message);else{const Ut=Ot.create("idb-set",{originalErrorMessage:null===(ze=Tt)||void 0===ze?void 0:ze.message});K.warn(Ut.message)}}})).apply(this,arguments)}function Hi(ct){return`${ct.name}!${ct.options.appId}`}class mn{constructor(ke){this.container=ke,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new as(ze),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var ke=this;return(0,S.Z)(function*(){const Tt=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=jt();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!ke._heartbeatsCache.heartbeats.some(an=>an.date===Ut))return ke._heartbeatsCache.heartbeats.push({date:Ut,agent:Tt}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(an=>{const te=new Date(an.date).valueOf();return Date.now()-te<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,S.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const ze=jt(),{heartbeatsToSend:Tt,unsentEntries:Ut}=function(ct,ke=1024){const ze=[];let Tt=ct.slice();for(const Ut of ct){const an=ze.find(te=>te.agent===Ut.agent);if(an){if(an.dates.push(Ut.date),dt(ze)>ke){an.dates.pop();break}}else if(ze.push({agent:Ut.agent,dates:[Ut.date]}),dt(ze)>ke){ze.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:ze,unsentEntries:Tt}}(ke._heartbeatsCache.heartbeats),an=(0,fe.L)(JSON.stringify({version:2,heartbeats:Tt}));return ke._heartbeatsCache.lastSentHeartbeatDate=ze,Ut.length>0?(ke._heartbeatsCache.heartbeats=Ut,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),an})()}}function jt(){return(new Date).toISOString().substring(0,10)}class as{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,S.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function(ct){return wt.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var ze=this;return(0,S.Z)(function*(){var Tt;if(yield ze._canUseIndexedDBPromise){const an=yield ze.read();return Et(ze.app,{lastSentHeartbeatDate:null!==(Tt=ke.lastSentHeartbeatDate)&&void 0!==Tt?Tt:an.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var ze=this;return(0,S.Z)(function*(){var Tt;if(yield ze._canUseIndexedDBPromise){const an=yield ze.read();return Et(ze.app,{lastSentHeartbeatDate:null!==(Tt=ke.lastSentHeartbeatDate)&&void 0!==Tt?Tt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...ke.heartbeats]})}})()}}function dt(ct){return(0,fe.L)(JSON.stringify({version:2,heartbeats:ct})).length}Wn(new x.wA("platform-logger",ke=>new se(ke),"PRIVATE")),Wn(new x.wA("heartbeat",ke=>new mn(ke),"PRIVATE")),_n(oe,"0.8.2",""),_n(oe,"0.8.2","esm2017"),_n("fire-js","")},3910:(Je,Ie,B)=>{"use strict";B.d(Ie,{wA:()=>W,H0:()=>oe});var S=B(8239),x=B(3854);class W{constructor(K,q,he){this.name=K,this.instanceFactory=q,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const fe="[DEFAULT]";class ae{constructor(K,q){this.name=K,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(q)){const he=new x.BH;if(this.instancesDeferred.set(q,he),this.isInitialized(q)||this.shouldAutoInitialize())try{const de=this.getOrInitializeService({instanceIdentifier:q});de&&he.resolve(de)}catch(de){}}return this.instancesDeferred.get(q).promise}getImmediate(K){var q;const he=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),de=null!==(q=null==K?void 0:K.optional)&&void 0!==q&&q;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(de)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(be){if(de)return null;throw be}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if("EAGER"===K.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:fe})}catch(q){}for(const[q,he]of this.instancesDeferred.entries()){const de=this.normalizeInstanceIdentifier(q);try{const be=this.getOrInitializeService({instanceIdentifier:de});he.resolve(be)}catch(be){}}}}clearInstance(K=fe){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,S.Z)(function*(){const q=Array.from(K.instances.values());yield Promise.all([...q.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...q.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=fe){return this.instances.has(K)}getOptions(K=fe){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:q={}}=K,he=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const de=this.getOrInitializeService({instanceIdentifier:he,options:q});for(const[be,Pe]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(be)&&Pe.resolve(de);return de}onInit(K,q){var he;const de=this.normalizeInstanceIdentifier(q),be=null!==(he=this.onInitCallbacks.get(de))&&void 0!==he?he:new Set;be.add(K),this.onInitCallbacks.set(de,be);const Pe=this.instances.get(de);return Pe&&K(Pe,de),()=>{be.delete(K)}}invokeOnInitCallbacks(K,q){const he=this.onInitCallbacks.get(q);if(he)for(const de of he)try{de(K,q)}catch(be){}}getOrInitializeService({instanceIdentifier:K,options:q={}}){let he=this.instances.get(K);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=K,ue===fe?void 0:ue),options:q}),this.instances.set(K,he),this.instancesOptions.set(K,q),this.invokeOnInitCallbacks(he,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,he)}catch(de){}var ue;return he||null}normalizeInstanceIdentifier(K=fe){return this.component?this.component.multipleInstances?K:fe:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const q=this.getProvider(K.name);if(q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const q=new ae(K,this);return this.providers.set(K,q),q}getProviders(){return Array.from(this.providers.values())}}},5422:(Je,Ie,B)=>{"use strict";B.d(Ie,{in:()=>x,Yd:()=>_e,Ub:()=>oe,Am:()=>ue});const S=[];var x=(()=>{return(K=x||(x={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",x;var K})();const W={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},fe=x.INFO,ae={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},se=(K,q,...he)=>{if(q<K.logLevel)return;const de=(new Date).toISOString(),be=ae[q];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[be](`[${de}]  ${K.name}:`,...he)};class _e{constructor(q){this.name=q,this._logLevel=fe,this._logHandler=se,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in x))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?W[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...q),this._logHandler(this,x.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...q),this._logHandler(this,x.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,x.INFO,...q),this._logHandler(this,x.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,x.WARN,...q),this._logHandler(this,x.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...q),this._logHandler(this,x.ERROR,...q)}}function oe(K){S.forEach(q=>{q.setLogLevel(K)})}function ue(K,q){for(const he of S){let de=null;q&&q.level&&(de=W[q.level]),he.userLogHandler=null===K?null:(be,Pe,...Ne)=>{const Te=Ne.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch(Ve){return null}}).filter(je=>je).join(" ");Pe>=(null!=de?de:be.logLevel)&&K({level:x[Pe].toLowerCase(),message:Te,args:Ne,type:be.name})}}}},5742:(Je,Ie,B)=>{"use strict";B.d(Ie,{Lj:()=>ft,X3:()=>Le});var S=B(8239);let W,fe;const _e=new WeakMap,oe=new WeakMap,ue=new WeakMap,K=new WeakMap,q=new WeakMap;let be={get(Ye,Ge,tt){if(Ye instanceof IDBTransaction){if("done"===Ge)return oe.get(Ye);if("objectStoreNames"===Ge)return Ye.objectStoreNames||ue.get(Ye);if("store"===Ge)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return je(Ye[Ge])},set:(Ye,Ge,tt)=>(Ye[Ge]=tt,!0),has:(Ye,Ge)=>Ye instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Ye};function Te(Ye){return"function"==typeof Ye?function(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Ye)?function(...Ge){return Ye.apply(Ve(this),Ge),je(_e.get(this))}:function(...Ge){return je(Ye.apply(Ve(this),Ge))}:function(Ge,...tt){const mt=Ye.call(Ve(this),Ge,...tt);return ue.set(mt,Ge.sort?Ge.sort():[Ge]),je(mt)}}(Ye):(Ye instanceof IDBTransaction&&function(Ye){if(oe.has(Ye))return;const Ge=new Promise((tt,mt)=>{const nt=()=>{Ye.removeEventListener("complete",Nt),Ye.removeEventListener("error",et),Ye.removeEventListener("abort",et)},Nt=()=>{tt(),nt()},et=()=>{mt(Ye.error||new DOMException("AbortError","AbortError")),nt()};Ye.addEventListener("complete",Nt),Ye.addEventListener("error",et),Ye.addEventListener("abort",et)});oe.set(Ye,Ge)}(Ye),((Ye,Ge)=>Ge.some(tt=>Ye instanceof tt))(Ye,W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(Ye,be):Ye)}function je(Ye){if(Ye instanceof IDBRequest)return function(Ye){const Ge=new Promise((tt,mt)=>{const nt=()=>{Ye.removeEventListener("success",Nt),Ye.removeEventListener("error",et)},Nt=()=>{tt(je(Ye.result)),nt()},et=()=>{mt(Ye.error),nt()};Ye.addEventListener("success",Nt),Ye.addEventListener("error",et)});return Ge.then(tt=>{tt instanceof IDBCursor&&_e.set(tt,Ye)}).catch(()=>{}),q.set(Ge,Ye),Ge}(Ye);if(K.has(Ye))return K.get(Ye);const Ge=Te(Ye);return Ge!==Ye&&(K.set(Ye,Ge),q.set(Ge,Ye)),Ge}const Ve=Ye=>q.get(Ye);function Le(Ye,Ge,{blocked:tt,upgrade:mt,blocking:nt,terminated:Nt}={}){const et=indexedDB.open(Ye,Ge),Bn=je(et);return mt&&et.addEventListener("upgradeneeded",Lr=>{mt(je(et.result),Lr.oldVersion,Lr.newVersion,je(et.transaction))}),tt&&et.addEventListener("blocked",()=>tt()),Bn.then(Lr=>{Nt&&Lr.addEventListener("close",()=>Nt()),nt&&Lr.addEventListener("versionchange",()=>nt())}).catch(()=>{}),Bn}function ft(Ye,{blocked:Ge}={}){const tt=indexedDB.deleteDatabase(Ye);return Ge&&tt.addEventListener("blocked",()=>Ge()),je(tt).then(()=>{})}const qe=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Yt=new Map;function Bt(Ye,Ge){if(!(Ye instanceof IDBDatabase)||Ge in Ye||"string"!=typeof Ge)return;if(Yt.get(Ge))return Yt.get(Ge);const tt=Ge.replace(/FromIndex$/,""),mt=Ge!==tt,nt=Xe.includes(tt);if(!(tt in(mt?IDBIndex:IDBObjectStore).prototype)||!nt&&!qe.includes(tt))return;const Nt=function(){var et=(0,S.Z)(function*(Bn,...Lr){const fi=this.transaction(Bn,nt?"readwrite":"readonly");let Vr=fi.store;return mt&&(Vr=Vr.index(Lr.shift())),(yield Promise.all([Vr[tt](...Lr),nt&&fi.done]))[0]});return function(Lr){return et.apply(this,arguments)}}();return Yt.set(Ge,Nt),Nt}var Ye;be=oT(sT({},Ye=be),{get:(Ge,tt,mt)=>Bt(Ge,tt)||Ye.get(Ge,tt,mt),has:(Ge,tt)=>!!Bt(Ge,tt)||Ye.has(Ge,tt)})},8239:(Je,Ie,B)=>{"use strict";function S(W,fe,ae,se,_e,oe,ue){try{var K=W[oe](ue),q=K.value}catch(he){return void ae(he)}K.done?fe(q):Promise.resolve(q).then(se,_e)}function x(W){return function(){var fe=this,ae=arguments;return new Promise(function(se,_e){var oe=W.apply(fe,ae);function ue(q){S(oe,se,_e,ue,K,"next",q)}function K(q){S(oe,se,_e,ue,K,"throw",q)}ue(void 0)})}}B.d(Ie,{Z:()=>x})}},Je=>{Je(Je.s=2702)}]);